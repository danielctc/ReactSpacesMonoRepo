function MR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Td(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tg={exports:{}},pc={},Eg={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function VR(){if(WS)return Be;WS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function C(j,ne,de){this.props=j,this.context=ne,this.refs=P,this.updater=de||T}C.prototype.isReactComponent={},C.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=C.prototype;function q(j,ne,de){this.props=j,this.context=ne,this.refs=P,this.updater=de||T}var G=q.prototype=new z;G.constructor=q,k(G,C.prototype),G.isPureReactComponent=!0;var te=Array.isArray,O=Object.prototype.hasOwnProperty,X={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(j,ne,de){var Ve,Fe={},$e=null,Ge=null;if(ne!=null)for(Ve in ne.ref!==void 0&&(Ge=ne.ref),ne.key!==void 0&&($e=""+ne.key),ne)O.call(ne,Ve)&&!x.hasOwnProperty(Ve)&&(Fe[Ve]=ne[Ve]);var je=arguments.length-2;if(je===1)Fe.children=de;else if(1<je){for(var ct=Array(je),xt=0;xt<je;xt++)ct[xt]=arguments[xt+2];Fe.children=ct}if(j&&j.defaultProps)for(Ve in je=j.defaultProps,je)Fe[Ve]===void 0&&(Fe[Ve]=je[Ve]);return{$$typeof:t,type:j,key:$e,ref:Ge,props:Fe,_owner:X.current}}function R(j,ne){return{$$typeof:t,type:j.type,key:ne,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function F(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(de){return ne[de]})}var B=/\/+/g;function N(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):ne.toString(36)}function ut(j,ne,de,Ve,Fe){var $e=typeof j;($e==="undefined"||$e==="boolean")&&(j=null);var Ge=!1;if(j===null)Ge=!0;else switch($e){case"string":case"number":Ge=!0;break;case"object":switch(j.$$typeof){case t:case e:Ge=!0}}if(Ge)return Ge=j,Fe=Fe(Ge),j=Ve===""?"."+N(Ge,0):Ve,te(Fe)?(de="",j!=null&&(de=j.replace(B,"$&/")+"/"),ut(Fe,ne,de,"",function(xt){return xt})):Fe!=null&&(M(Fe)&&(Fe=R(Fe,de+(!Fe.key||Ge&&Ge.key===Fe.key?"":(""+Fe.key).replace(B,"$&/")+"/")+j)),ne.push(Fe)),1;if(Ge=0,Ve=Ve===""?".":Ve+":",te(j))for(var je=0;je<j.length;je++){$e=j[je];var ct=Ve+N($e,je);Ge+=ut($e,ne,de,ct,Fe)}else if(ct=S(j),typeof ct=="function")for(j=ct.call(j),je=0;!($e=j.next()).done;)$e=$e.value,ct=Ve+N($e,je++),Ge+=ut($e,ne,de,ct,Fe);else if($e==="object")throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Ut(j,ne,de){if(j==null)return j;var Ve=[],Fe=0;return ut(j,Ve,"","",function($e){return ne.call(de,$e,Fe++)}),Ve}function bt(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(de){(j._status===0||j._status===-1)&&(j._status=1,j._result=de)},function(de){(j._status===0||j._status===-1)&&(j._status=2,j._result=de)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var Te={current:null},le={transition:null},be={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:le,ReactCurrentOwner:X};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:Ut,forEach:function(j,ne,de){Ut(j,function(){ne.apply(this,arguments)},de)},count:function(j){var ne=0;return Ut(j,function(){ne++}),ne},toArray:function(j){return Ut(j,function(ne){return ne})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Be.Component=C,Be.Fragment=n,Be.Profiler=i,Be.PureComponent=q,Be.StrictMode=r,Be.Suspense=h,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,Be.act=fe,Be.cloneElement=function(j,ne,de){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ve=k({},j.props),Fe=j.key,$e=j.ref,Ge=j._owner;if(ne!=null){if(ne.ref!==void 0&&($e=ne.ref,Ge=X.current),ne.key!==void 0&&(Fe=""+ne.key),j.type&&j.type.defaultProps)var je=j.type.defaultProps;for(ct in ne)O.call(ne,ct)&&!x.hasOwnProperty(ct)&&(Ve[ct]=ne[ct]===void 0&&je!==void 0?je[ct]:ne[ct])}var ct=arguments.length-2;if(ct===1)Ve.children=de;else if(1<ct){je=Array(ct);for(var xt=0;xt<ct;xt++)je[xt]=arguments[xt+2];Ve.children=je}return{$$typeof:t,type:j.type,key:Fe,ref:$e,props:Ve,_owner:Ge}},Be.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Be.createElement=E,Be.createFactory=function(j){var ne=E.bind(null,j);return ne.type=j,ne},Be.createRef=function(){return{current:null}},Be.forwardRef=function(j){return{$$typeof:c,render:j}},Be.isValidElement=M,Be.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:bt}},Be.memo=function(j,ne){return{$$typeof:p,type:j,compare:ne===void 0?null:ne}},Be.startTransition=function(j){var ne=le.transition;le.transition={};try{j()}finally{le.transition=ne}},Be.unstable_act=fe,Be.useCallback=function(j,ne){return Te.current.useCallback(j,ne)},Be.useContext=function(j){return Te.current.useContext(j)},Be.useDebugValue=function(){},Be.useDeferredValue=function(j){return Te.current.useDeferredValue(j)},Be.useEffect=function(j,ne){return Te.current.useEffect(j,ne)},Be.useId=function(){return Te.current.useId()},Be.useImperativeHandle=function(j,ne,de){return Te.current.useImperativeHandle(j,ne,de)},Be.useInsertionEffect=function(j,ne){return Te.current.useInsertionEffect(j,ne)},Be.useLayoutEffect=function(j,ne){return Te.current.useLayoutEffect(j,ne)},Be.useMemo=function(j,ne){return Te.current.useMemo(j,ne)},Be.useReducer=function(j,ne,de){return Te.current.useReducer(j,ne,de)},Be.useRef=function(j){return Te.current.useRef(j)},Be.useState=function(j){return Te.current.useState(j)},Be.useSyncExternalStore=function(j,ne,de){return Te.current.useSyncExternalStore(j,ne,de)},Be.useTransition=function(){return Te.current.useTransition()},Be.version="18.3.1",Be}var HS;function Vv(){return HS||(HS=1,Eg.exports=VR()),Eg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function LR(){if(qS)return pc;qS=1;var t=Vv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,_={},S=null,T=null;p!==void 0&&(S=""+p),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:c,key:S,ref:T,props:_,_owner:i.current}}return pc.Fragment=n,pc.jsx=l,pc.jsxs=l,pc}var GS;function FR(){return GS||(GS=1,Tg.exports=LR()),Tg.exports}var oe=FR(),Y=Vv();const $R=Td(Y),KS=MR({__proto__:null,default:$R},[Y]);var jh={},Ig={exports:{}},ir={},kg={exports:{}},Pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function UR(){return QS||(QS=1,function(t){function e(le,be){var fe=le.length;le.push(be);e:for(;0<fe;){var j=fe-1>>>1,ne=le[j];if(0<i(ne,be))le[j]=be,le[fe]=ne,fe=j;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var be=le[0],fe=le.pop();if(fe!==be){le[0]=fe;e:for(var j=0,ne=le.length,de=ne>>>1;j<de;){var Ve=2*(j+1)-1,Fe=le[Ve],$e=Ve+1,Ge=le[$e];if(0>i(Fe,fe))$e<ne&&0>i(Ge,Fe)?(le[j]=Ge,le[$e]=fe,j=$e):(le[j]=Fe,le[Ve]=fe,j=Ve);else if($e<ne&&0>i(Ge,fe))le[j]=Ge,le[$e]=fe,j=$e;else break e}}return be}function i(le,be){var fe=le.sortIndex-be.sortIndex;return fe!==0?fe:le.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,_=null,S=3,T=!1,k=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(le){for(var be=n(p);be!==null;){if(be.callback===null)r(p);else if(be.startTime<=le)r(p),be.sortIndex=be.expirationTime,e(h,be);else break;be=n(p)}}function te(le){if(P=!1,G(le),!k)if(n(h)!==null)k=!0,bt(O);else{var be=n(p);be!==null&&Te(te,be.startTime-le)}}function O(le,be){k=!1,P&&(P=!1,z(E),E=-1),T=!0;var fe=S;try{for(G(be),_=n(h);_!==null&&(!(_.expirationTime>be)||le&&!F());){var j=_.callback;if(typeof j=="function"){_.callback=null,S=_.priorityLevel;var ne=j(_.expirationTime<=be);be=t.unstable_now(),typeof ne=="function"?_.callback=ne:_===n(h)&&r(h),G(be)}else r(h);_=n(h)}if(_!==null)var de=!0;else{var Ve=n(p);Ve!==null&&Te(te,Ve.startTime-be),de=!1}return de}finally{_=null,S=fe,T=!1}}var X=!1,x=null,E=-1,R=5,M=-1;function F(){return!(t.unstable_now()-M<R)}function B(){if(x!==null){var le=t.unstable_now();M=le;var be=!0;try{be=x(!0,le)}finally{be?N():(X=!1,x=null)}}else X=!1}var N;if(typeof q=="function")N=function(){q(B)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,Ut=ut.port2;ut.port1.onmessage=B,N=function(){Ut.postMessage(null)}}else N=function(){C(B,0)};function bt(le){x=le,X||(X=!0,N())}function Te(le,be){E=C(function(){le(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,bt(O))},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(le){switch(S){case 1:case 2:case 3:var be=3;break;default:be=S}var fe=S;S=be;try{return le()}finally{S=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,be){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var fe=S;S=le;try{return be()}finally{S=fe}},t.unstable_scheduleCallback=function(le,be,fe){var j=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?j+fe:j):fe=j,le){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=fe+ne,le={id:g++,callback:be,priorityLevel:le,startTime:fe,expirationTime:ne,sortIndex:-1},fe>j?(le.sortIndex=fe,e(p,le),n(h)===null&&le===n(p)&&(P?(z(E),E=-1):P=!0,Te(te,fe-j))):(le.sortIndex=ne,e(h,le),k||T||(k=!0,bt(O))),le},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(le){var be=S;return function(){var fe=S;S=be;try{return le.apply(this,arguments)}finally{S=fe}}}}(Pg)),Pg}var YS;function zR(){return YS||(YS=1,kg.exports=UR()),kg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function BR(){if(XS)return ir;XS=1;var t=Vv(),e=zR();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function S(s){return h.call(_,s)?!0:h.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function T(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,o,u,f){if(o===null||typeof o>"u"||T(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(s,o,u,f,m,v,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new P(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(z,q);C[o]=new P(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(z,q);C[o]=new P(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(z,q);C[o]=new P(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function G(s,o,u,f){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,m,f)&&(u=null),f||m===null?S(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var te=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),X=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),le=Symbol.iterator;function be(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var fe=Object.assign,j;function ne(s){if(j===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+s}var de=!1;function Ve(s,o){if(!s||de)return"";de=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var f=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){f=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){f=Q}s()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=f.stack.split(`
`),b=m.length-1,D=v.length-1;1<=b&&0<=D&&m[b]!==v[D];)D--;for(;1<=b&&0<=D;b--,D--)if(m[b]!==v[D]){if(b!==1||D!==1)do if(b--,D--,0>D||m[b]!==v[D]){var L=`
`+m[b].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=b&&0<=D);break}}}finally{de=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ne(s):""}function Fe(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=Ve(s.type,!1),s;case 11:return s=Ve(s.type.render,!1),s;case 1:return s=Ve(s.type,!0),s;default:return""}}function $e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case X:return"Portal";case R:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case ut:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case B:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ut:return o=s.displayName||null,o!==null?o:$e(s.type)||"Memo";case bt:o=s._payload,s=s._init;try{return $e(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(o);case 8:return o===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ct(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xt(s){var o=ct(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(b){f=""+b,v.call(this,b)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Cr(s){s._valueTracker||(s._valueTracker=xt(s))}function Ji(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=ct(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function hi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Zi(s,o){var u=o.checked;return fe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Us(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=je(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ko(s,o){o=o.checked,o!=null&&G(s,"checked",o,!1)}function Qo(s,o){Ko(s,o);var u=je(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?zs(s,o.type,u):o.hasOwnProperty("defaultValue")&&zs(s,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Za(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function zs(s,o,u){(o!=="number"||hi(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var qn=Array.isArray;function ur(s,o,u,f){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+je(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function fi(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return fe({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Dn(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(qn(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:je(u)}}function es(s,o){var u=je(o.value),f=je(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Bs(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Nt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Nt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Gn,js=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Gn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function qr(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mi=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(s){mi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),pi[o]=pi[s]})});function Yo(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||pi.hasOwnProperty(s)&&pi[s]?(""+o).trim():o+"px"}function Xo(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Yo(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var cr=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(s,o){if(o){if(cr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Jo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function Ws(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,nn=null,xr=null;function Kn(s){if(s=Zu(s)){if(typeof ts!="function")throw Error(n(280));var o=s.stateNode;o&&(o=rh(o),ts(s.stateNode,s.type,o))}}function Rr(s){nn?xr?xr.push(s):xr=[s]:nn=s}function Zo(){if(nn){var s=nn,o=xr;if(xr=nn=null,Kn(s),o)for(s=0;s<o.length;s++)Kn(o[s])}}function ns(s,o){return s(o)}function ea(){}var Gr=!1;function Nn(s,o,u){if(Gr)return s(o,u);Gr=!0;try{return ns(s,o,u)}finally{Gr=!1,(nn!==null||xr!==null)&&(ea(),Zo())}}function It(s,o){var u=s.stateNode;if(u===null)return null;var f=rh(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Hs=!1;if(c)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Hs=!1}function rs(s,o,u,f,m,v,b,D,L){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(se){this.onError(se)}}var is=!1,hr=null,fr=!1,ta=null,zu={onError:function(s){is=!0,hr=s}};function qs(s,o,u,f,m,v,b,D,L){is=!1,hr=null,rs.apply(zu,arguments)}function el(s,o,u,f,m,v,b,D,L){if(qs.apply(this,arguments),is){if(is){var Q=hr;is=!1,hr=null}else throw Error(n(198));fr||(fr=!0,ta=Q)}}function rn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function ss(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function pr(s){if(rn(s)!==s)throw Error(n(188))}function tl(s){var o=s.alternate;if(!o){if(o=rn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return pr(m),s;if(v===f)return pr(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var b=!1,D=m.child;D;){if(D===u){b=!0,u=m,f=v;break}if(D===f){b=!0,f=m,u=v;break}D=D.sibling}if(!b){for(D=v.child;D;){if(D===u){b=!0,u=v,f=m;break}if(D===f){b=!0,f=v,u=m;break}D=D.sibling}if(!b)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function na(s){return s=tl(s),s!==null?Gs(s):null}function Gs(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Gs(s);if(o!==null)return o;s=s.sibling}return null}var Ks=e.unstable_scheduleCallback,os=e.unstable_cancelCallback,nl=e.unstable_shouldYield,Qs=e.unstable_requestPaint,st=e.unstable_now,rl=e.unstable_getCurrentPriorityLevel,Dr=e.unstable_ImmediatePriority,Kr=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,ra=e.unstable_LowPriority,il=e.unstable_IdlePriority,vi=null,On=null;function sl(s){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(vi,s,void 0,(s.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:al,ia=Math.log,ol=Math.LN2;function al(s){return s>>>=0,s===0?32:31-(ia(s)/ol|0)|0}var Ys=64,Xs=4194304;function _i(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function as(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,v=s.pingedLanes,b=u&268435455;if(b!==0){var D=b&~m;D!==0?f=_i(D):(v&=b,v!==0&&(f=_i(v)))}else b=u&~m,b!==0?f=_i(b):v!==0&&(f=_i(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-hn(o),m=1<<u,f|=s[u],o&=~m;return f}function Js(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var b=31-hn(v),D=1<<b,L=m[b];L===-1?((D&u)===0||(D&f)!==0)&&(m[b]=Js(D,o)):L<=o&&(s.expiredLanes|=D),v&=~D}}function Mn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ls(){var s=Ys;return Ys<<=1,(Ys&4194240)===0&&(Ys=64),s}function Qr(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function wi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-hn(o),s[o]=u}function dt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-hn(u),v=1<<m;o[m]=0,f[m]=-1,s[m]=-1,u&=~v}}function Si(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-hn(u),m=1<<f;m&o|s[f]&o&&(s[f]|=o),u&=~m}}var ze=0;function bi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ll,Zs,eo,ul,cl,sa=!1,Vn=[],Mt=null,Ln=null,Fn=null,Ti=new Map,$n=new Map,Yn=[],dl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nr(s,o){switch(s){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Ti.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(o.pointerId)}}function zt(s,o,u,f,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Zu(o),o!==null&&Zs(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Bu(s,o,u,f,m){switch(o){case"focusin":return Mt=zt(Mt,s,o,u,f,m),!0;case"dragenter":return Ln=zt(Ln,s,o,u,f,m),!0;case"mouseover":return Fn=zt(Fn,s,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Ti.set(v,zt(Ti.get(v)||null,s,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,$n.set(v,zt($n.get(v)||null,s,o,u,f,m)),!0}return!1}function oa(s){var o=ua(s.target);if(o!==null){var u=rn(o);if(u!==null){if(o=u.tag,o===13){if(o=ss(u),o!==null){s.blockedOn=o,cl(s.priority,function(){eo(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Ke(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);yi=f,u.target.dispatchEvent(f),yi=null}else return o=Zu(u),o!==null&&Zs(o),s.blockedOn=u,!1;o.shift()}return!0}function Ei(s,o,u){Yr(s)&&u.delete(o)}function hl(){sa=!1,Mt!==null&&Yr(Mt)&&(Mt=null),Ln!==null&&Yr(Ln)&&(Ln=null),Fn!==null&&Yr(Fn)&&(Fn=null),Ti.forEach(Ei),$n.forEach(Ei)}function gr(s,o){s.blockedOn===o&&(s.blockedOn=null,sa||(sa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hl)))}function Xn(s){function o(m){return gr(m,s)}if(0<Vn.length){gr(Vn[0],s);for(var u=1;u<Vn.length;u++){var f=Vn[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Mt!==null&&gr(Mt,s),Ln!==null&&gr(Ln,s),Fn!==null&&gr(Fn,s),Ti.forEach(o),$n.forEach(o),u=0;u<Yn.length;u++)f=Yn[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Yn.length&&(u=Yn[0],u.blockedOn===null);)oa(u),u.blockedOn===null&&Yn.shift()}var Xr=te.ReactCurrentBatchConfig,A=!0;function V(s,o,u,f){var m=ze,v=Xr.transition;Xr.transition=null;try{ze=1,ge(s,o,u,f)}finally{ze=m,Xr.transition=v}}function J(s,o,u,f){var m=ze,v=Xr.transition;Xr.transition=null;try{ze=4,ge(s,o,u,f)}finally{ze=m,Xr.transition=v}}function ge(s,o,u,f){if(A){var m=Ke(s,o,u,f);if(m===null)fm(s,o,f,Le,u),Nr(s,f);else if(Bu(m,s,o,u,f))f.stopPropagation();else if(Nr(s,f),o&4&&-1<dl.indexOf(s)){for(;m!==null;){var v=Zu(m);if(v!==null&&ll(v),v=Ke(s,o,u,f),v===null&&fm(s,o,f,Le,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else fm(s,o,f,null,u)}}var Le=null;function Ke(s,o,u,f){if(Le=null,s=Ws(f),s=ua(s),s!==null)if(o=rn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=ss(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Le=s,null}function ot(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rl()){case Dr:return 1;case Kr:return 4;case Qn:case ra:return 16;case il:return 536870912;default:return 16}default:return 16}}var Ne=null,Ze=null,pt=null;function Kt(){if(pt)return pt;var s,o=Ze,u=o.length,f,m="value"in Ne?Ne.value:Ne.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var b=u-s;for(f=1;f<=b&&o[u-f]===m[v-f];f++);return pt=m.slice(s,1<f?1-f:void 0)}function Or(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Jn(){return!0}function us(){return!1}function Bt(s){function o(u,f,m,v,b){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Jn:us,this.isPropagationStopped=us,this}return fe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),o}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Bt(Jr),Ii=fe({},Jr,{view:0,detail:0}),rm=Bt(Ii),pl,cs,to,aa=fe({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==to&&(to&&s.type==="mousemove"?(pl=s.screenX-to.screenX,cs=s.screenY-to.screenY):cs=pl=0,to=s),pl)},movementY:function(s){return"movementY"in s?s.movementY:cs}}),ml=Bt(aa),ju=fe({},aa,{dataTransfer:0}),jd=Bt(ju),gl=fe({},Ii,{relatedTarget:0}),yl=Bt(gl),Wd=fe({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),ds=Bt(Wd),Hd=fe({},Jr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qd=Bt(Hd),Gd=fe({},Jr,{data:0}),Wu=Bt(Gd),vl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Kd[s])?!!o[s]:!1}function ki(){return Qd}var d=fe({},Ii,{key:function(s){if(s.key){var o=vl[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Or(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Un[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(s){return s.type==="keypress"?Or(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Or(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Bt(d),w=fe({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Bt(w),W=fe({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),Z=Bt(W),ce=fe({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=Bt(ce),Qt=fe({},aa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Bt(Qt),sn=[9,13,27,32],jt=c&&"CompositionEvent"in window,Mr=null;c&&"documentMode"in document&&(Mr=document.documentMode);var yr=c&&"TextEvent"in window&&!Mr,la=c&&(!jt||Mr&&8<Mr&&11>=Mr),_l=" ",F_=!1;function $_(s,o){switch(s){case"keyup":return sn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wl=!1;function Dx(s,o){switch(s){case"compositionend":return U_(o);case"keypress":return o.which!==32?null:(F_=!0,_l);case"textInput":return s=o.data,s===_l&&F_?null:s;default:return null}}function Nx(s,o){if(wl)return s==="compositionend"||!jt&&$_(s,o)?(s=Kt(),pt=Ze=Ne=null,wl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return la&&o.locale!=="ko"?null:o.data;default:return null}}var Ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ox[s.type]:o==="textarea"}function B_(s,o,u,f){Rr(f),o=eh(o,"onChange"),0<o.length&&(u=new fl("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var Hu=null,qu=null;function Mx(s){ow(s,0)}function Yd(s){var o=Il(s);if(Ji(o))return s}function Vx(s,o){if(s==="change")return o}var j_=!1;if(c){var im;if(c){var sm="oninput"in document;if(!sm){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),sm=typeof W_.oninput=="function"}im=sm}else im=!1;j_=im&&(!document.documentMode||9<document.documentMode)}function H_(){Hu&&(Hu.detachEvent("onpropertychange",q_),qu=Hu=null)}function q_(s){if(s.propertyName==="value"&&Yd(qu)){var o=[];B_(o,qu,s,Ws(s)),Nn(Mx,o)}}function Lx(s,o,u){s==="focusin"?(H_(),Hu=o,qu=u,Hu.attachEvent("onpropertychange",q_)):s==="focusout"&&H_()}function Fx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yd(qu)}function $x(s,o){if(s==="click")return Yd(o)}function Ux(s,o){if(s==="input"||s==="change")return Yd(o)}function zx(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Zr=typeof Object.is=="function"?Object.is:zx;function Gu(s,o){if(Zr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!Zr(s[m],o[m]))return!1}return!0}function G_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function K_(s,o){var u=G_(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=G_(u)}}function Q_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Q_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Y_(){for(var s=window,o=hi();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=hi(s.document)}return o}function om(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Bx(s){var o=Y_(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Q_(u.ownerDocument.documentElement,u)){if(f!==null&&om(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!s.extend&&v>f&&(m=f,f=v,v=m),m=K_(u,v);var b=K_(u,f);m&&b&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>f?(s.addRange(o),s.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jx=c&&"documentMode"in document&&11>=document.documentMode,Sl=null,am=null,Ku=null,lm=!1;function X_(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lm||Sl==null||Sl!==hi(f)||(f=Sl,"selectionStart"in f&&om(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ku&&Gu(Ku,f)||(Ku=f,f=eh(am,"onSelect"),0<f.length&&(o=new fl("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=Sl)))}function Xd(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var bl={animationend:Xd("Animation","AnimationEnd"),animationiteration:Xd("Animation","AnimationIteration"),animationstart:Xd("Animation","AnimationStart"),transitionend:Xd("Transition","TransitionEnd")},um={},J_={};c&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Jd(s){if(um[s])return um[s];if(!bl[s])return s;var o=bl[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in J_)return um[s]=o[u];return s}var Z_=Jd("animationend"),ew=Jd("animationiteration"),tw=Jd("animationstart"),nw=Jd("transitionend"),rw=new Map,iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(s,o){rw.set(s,o),a(o,[s])}for(var cm=0;cm<iw.length;cm++){var dm=iw[cm],Wx=dm.toLowerCase(),Hx=dm[0].toUpperCase()+dm.slice(1);no(Wx,"on"+Hx)}no(Z_,"onAnimationEnd"),no(ew,"onAnimationIteration"),no(tw,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(nw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function sw(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,el(f,o,void 0,s),s.currentTarget=null}function ow(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var b=f.length-1;0<=b;b--){var D=f[b],L=D.instance,Q=D.currentTarget;if(D=D.listener,L!==v&&m.isPropagationStopped())break e;sw(m,D,Q),v=L}else for(b=0;b<f.length;b++){if(D=f[b],L=D.instance,Q=D.currentTarget,D=D.listener,L!==v&&m.isPropagationStopped())break e;sw(m,D,Q),v=L}}}if(fr)throw s=ta,fr=!1,ta=null,s}function vt(s,o){var u=o[_m];u===void 0&&(u=o[_m]=new Set);var f=s+"__bubble";u.has(f)||(aw(o,s,2,!1),u.add(f))}function hm(s,o,u){var f=0;o&&(f|=4),aw(u,s,f,o)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function Yu(s){if(!s[Zd]){s[Zd]=!0,r.forEach(function(u){u!=="selectionchange"&&(qx.has(u)||hm(u,!1,s),hm(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Zd]||(o[Zd]=!0,hm("selectionchange",!1,o))}}function aw(s,o,u,f){switch(ot(o)){case 1:var m=V;break;case 4:m=J;break;default:m=ge}u=m.bind(null,o,u,s),m=void 0,!Hs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function fm(s,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var D=f.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(b===4)for(b=f.return;b!==null;){var L=b.tag;if((L===3||L===4)&&(L=b.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;b=b.return}for(;D!==null;){if(b=ua(D),b===null)return;if(L=b.tag,L===5||L===6){f=v=b;continue e}D=D.parentNode}}f=f.return}Nn(function(){var Q=v,se=Ws(u),ae=[];e:{var ie=rw.get(s);if(ie!==void 0){var me=fl,_e=s;switch(s){case"keypress":if(Or(u)===0)break e;case"keydown":case"keyup":me=y;break;case"focusin":_e="focus",me=yl;break;case"focusout":_e="blur",me=yl;break;case"beforeblur":case"afterblur":me=yl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Z;break;case Z_:case ew:case tw:me=ds;break;case nw:me=ht;break;case"scroll":me=rm;break;case"wheel":me=Qe;break;case"copy":case"cut":case"paste":me=qd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=I}var we=(o&4)!==0,Vt=!we&&s==="scroll",H=we?ie!==null?ie+"Capture":null:ie;we=[];for(var $=Q,K;$!==null;){K=$;var ue=K.stateNode;if(K.tag===5&&ue!==null&&(K=ue,H!==null&&(ue=It($,H),ue!=null&&we.push(Xu($,ue,K)))),Vt)break;$=$.return}0<we.length&&(ie=new me(ie,_e,null,u,se),ae.push({event:ie,listeners:we}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",ie&&u!==yi&&(_e=u.relatedTarget||u.fromElement)&&(ua(_e)||_e[hs]))break e;if((me||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(_e=u.relatedTarget||u.toElement,me=Q,_e=_e?ua(_e):null,_e!==null&&(Vt=rn(_e),_e!==Vt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(me=null,_e=Q),me!==_e)){if(we=ml,ue="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(we=I,ue="onPointerLeave",H="onPointerEnter",$="pointer"),Vt=me==null?ie:Il(me),K=_e==null?ie:Il(_e),ie=new we(ue,$+"leave",me,u,se),ie.target=Vt,ie.relatedTarget=K,ue=null,ua(se)===Q&&(we=new we(H,$+"enter",_e,u,se),we.target=K,we.relatedTarget=Vt,ue=we),Vt=ue,me&&_e)t:{for(we=me,H=_e,$=0,K=we;K;K=Tl(K))$++;for(K=0,ue=H;ue;ue=Tl(ue))K++;for(;0<$-K;)we=Tl(we),$--;for(;0<K-$;)H=Tl(H),K--;for(;$--;){if(we===H||H!==null&&we===H.alternate)break t;we=Tl(we),H=Tl(H)}we=null}else we=null;me!==null&&lw(ae,ie,me,we,!1),_e!==null&&Vt!==null&&lw(ae,Vt,_e,we,!0)}}e:{if(ie=Q?Il(Q):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var Se=Vx;else if(z_(ie))if(j_)Se=Ux;else{Se=Fx;var Ie=Lx}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Se=$x);if(Se&&(Se=Se(s,Q))){B_(ae,Se,u,se);break e}Ie&&Ie(s,ie,Q),s==="focusout"&&(Ie=ie._wrapperState)&&Ie.controlled&&ie.type==="number"&&zs(ie,"number",ie.value)}switch(Ie=Q?Il(Q):window,s){case"focusin":(z_(Ie)||Ie.contentEditable==="true")&&(Sl=Ie,am=Q,Ku=null);break;case"focusout":Ku=am=Sl=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,X_(ae,u,se);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":X_(ae,u,se)}var ke;if(jt)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else wl?$_(s,u)&&(De="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(la&&u.locale!=="ko"&&(wl||De!=="onCompositionStart"?De==="onCompositionEnd"&&wl&&(ke=Kt()):(Ne=se,Ze="value"in Ne?Ne.value:Ne.textContent,wl=!0)),Ie=eh(Q,De),0<Ie.length&&(De=new Wu(De,s,null,u,se),ae.push({event:De,listeners:Ie}),ke?De.data=ke:(ke=U_(u),ke!==null&&(De.data=ke)))),(ke=yr?Dx(s,u):Nx(s,u))&&(Q=eh(Q,"onBeforeInput"),0<Q.length&&(se=new Wu("onBeforeInput","beforeinput",null,u,se),ae.push({event:se,listeners:Q}),se.data=ke))}ow(ae,o)})}function Xu(s,o,u){return{instance:s,listener:o,currentTarget:u}}function eh(s,o){for(var u=o+"Capture",f=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=It(s,u),v!=null&&f.unshift(Xu(s,v,m)),v=It(s,o),v!=null&&f.push(Xu(s,v,m))),s=s.return}return f}function Tl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function lw(s,o,u,f,m){for(var v=o._reactName,b=[];u!==null&&u!==f;){var D=u,L=D.alternate,Q=D.stateNode;if(L!==null&&L===f)break;D.tag===5&&Q!==null&&(D=Q,m?(L=It(u,v),L!=null&&b.unshift(Xu(u,L,D))):m||(L=It(u,v),L!=null&&b.push(Xu(u,L,D)))),u=u.return}b.length!==0&&s.push({event:o,listeners:b})}var Gx=/\r\n?/g,Kx=/\u0000|\uFFFD/g;function uw(s){return(typeof s=="string"?s:""+s).replace(Gx,`
`).replace(Kx,"")}function th(s,o,u){if(o=uw(o),uw(s)!==o&&u)throw Error(n(425))}function nh(){}var pm=null,mm=null;function gm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,Qx=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,Yx=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(s){return cw.resolve(null).then(s).catch(Xx)}:ym;function Xx(s){setTimeout(function(){throw s})}function vm(s,o){var u=o,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),Xn(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Xn(o)}function ro(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function dw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var El=Math.random().toString(36).slice(2),Pi="__reactFiber$"+El,Ju="__reactProps$"+El,hs="__reactContainer$"+El,_m="__reactEvents$"+El,Jx="__reactListeners$"+El,Zx="__reactHandles$"+El;function ua(s){var o=s[Pi];if(o)return o;for(var u=s.parentNode;u;){if(o=u[hs]||u[Pi]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=dw(s);s!==null;){if(u=s[Pi])return u;s=dw(s)}return o}s=u,u=s.parentNode}return null}function Zu(s){return s=s[Pi]||s[hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Il(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function rh(s){return s[Ju]||null}var wm=[],kl=-1;function io(s){return{current:s}}function _t(s){0>kl||(s.current=wm[kl],wm[kl]=null,kl--)}function mt(s,o){kl++,wm[kl]=s.current,s.current=o}var so={},wn=io(so),Zn=io(!1),ca=so;function Pl(s,o){var u=s.type.contextTypes;if(!u)return so;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function er(s){return s=s.childContextTypes,s!=null}function ih(){_t(Zn),_t(wn)}function hw(s,o,u){if(wn.current!==so)throw Error(n(168));mt(wn,o),mt(Zn,u)}function fw(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,Ge(s)||"Unknown",m));return fe({},u,f)}function sh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||so,ca=wn.current,mt(wn,s),mt(Zn,Zn.current),!0}function pw(s,o,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=fw(s,o,ca),f.__reactInternalMemoizedMergedChildContext=s,_t(Zn),_t(wn),mt(wn,s)):_t(Zn),mt(Zn,u)}var fs=null,oh=!1,Sm=!1;function mw(s){fs===null?fs=[s]:fs.push(s)}function eR(s){oh=!0,mw(s)}function oo(){if(!Sm&&fs!==null){Sm=!0;var s=0,o=ze;try{var u=fs;for(ze=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}fs=null,oh=!1}catch(m){throw fs!==null&&(fs=fs.slice(s+1)),Ks(Dr,oo),m}finally{ze=o,Sm=!1}}return null}var Al=[],Cl=0,ah=null,lh=0,Vr=[],Lr=0,da=null,ps=1,ms="";function ha(s,o){Al[Cl++]=lh,Al[Cl++]=ah,ah=s,lh=o}function gw(s,o,u){Vr[Lr++]=ps,Vr[Lr++]=ms,Vr[Lr++]=da,da=s;var f=ps;s=ms;var m=32-hn(f)-1;f&=~(1<<m),u+=1;var v=32-hn(o)+m;if(30<v){var b=m-m%5;v=(f&(1<<b)-1).toString(32),f>>=b,m-=b,ps=1<<32-hn(o)+m|u<<m|f,ms=v+s}else ps=1<<v|u<<m|f,ms=s}function bm(s){s.return!==null&&(ha(s,1),gw(s,1,0))}function Tm(s){for(;s===ah;)ah=Al[--Cl],Al[Cl]=null,lh=Al[--Cl],Al[Cl]=null;for(;s===da;)da=Vr[--Lr],Vr[Lr]=null,ms=Vr[--Lr],Vr[Lr]=null,ps=Vr[--Lr],Vr[Lr]=null}var vr=null,_r=null,Tt=!1,ei=null;function yw(s,o){var u=zr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function vw(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,vr=s,_r=ro(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,vr=s,_r=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=da!==null?{id:ps,overflow:ms}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=zr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,vr=s,_r=null,!0):!1;default:return!1}}function Em(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Im(s){if(Tt){var o=_r;if(o){var u=o;if(!vw(s,o)){if(Em(s))throw Error(n(418));o=ro(u.nextSibling);var f=vr;o&&vw(s,o)?yw(f,u):(s.flags=s.flags&-4097|2,Tt=!1,vr=s)}}else{if(Em(s))throw Error(n(418));s.flags=s.flags&-4097|2,Tt=!1,vr=s}}}function _w(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vr=s}function uh(s){if(s!==vr)return!1;if(!Tt)return _w(s),Tt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!gm(s.type,s.memoizedProps)),o&&(o=_r)){if(Em(s))throw ww(),Error(n(418));for(;o;)yw(s,o),o=ro(o.nextSibling)}if(_w(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){_r=ro(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}_r=null}}else _r=vr?ro(s.stateNode.nextSibling):null;return!0}function ww(){for(var s=_r;s;)s=ro(s.nextSibling)}function xl(){_r=vr=null,Tt=!1}function km(s){ei===null?ei=[s]:ei.push(s)}var tR=te.ReactCurrentBatchConfig;function ec(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var m=f,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(b){var D=m.refs;b===null?delete D[v]:D[v]=b},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function ch(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Sw(s){var o=s._init;return o(s._payload)}function bw(s){function o(H,$){if(s){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function u(H,$){if(!s)return null;for(;$!==null;)o(H,$),$=$.sibling;return null}function f(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function m(H,$){return H=mo(H,$),H.index=0,H.sibling=null,H}function v(H,$,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function b(H){return s&&H.alternate===null&&(H.flags|=2),H}function D(H,$,K,ue){return $===null||$.tag!==6?($=yg(K,H.mode,ue),$.return=H,$):($=m($,K),$.return=H,$)}function L(H,$,K,ue){var Se=K.type;return Se===x?se(H,$,K.props.children,ue,K.key):$!==null&&($.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===bt&&Sw(Se)===$.type)?(ue=m($,K.props),ue.ref=ec(H,$,K),ue.return=H,ue):(ue=Oh(K.type,K.key,K.props,null,H.mode,ue),ue.ref=ec(H,$,K),ue.return=H,ue)}function Q(H,$,K,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=vg(K,H.mode,ue),$.return=H,$):($=m($,K.children||[]),$.return=H,$)}function se(H,$,K,ue,Se){return $===null||$.tag!==7?($=wa(K,H.mode,ue,Se),$.return=H,$):($=m($,K),$.return=H,$)}function ae(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=yg(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return K=Oh($.type,$.key,$.props,null,H.mode,K),K.ref=ec(H,null,$),K.return=H,K;case X:return $=vg($,H.mode,K),$.return=H,$;case bt:var ue=$._init;return ae(H,ue($._payload),K)}if(qn($)||be($))return $=wa($,H.mode,K,null),$.return=H,$;ch(H,$)}return null}function ie(H,$,K,ue){var Se=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Se!==null?null:D(H,$,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return K.key===Se?L(H,$,K,ue):null;case X:return K.key===Se?Q(H,$,K,ue):null;case bt:return Se=K._init,ie(H,$,Se(K._payload),ue)}if(qn(K)||be(K))return Se!==null?null:se(H,$,K,ue,null);ch(H,K)}return null}function me(H,$,K,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(K)||null,D($,H,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case O:return H=H.get(ue.key===null?K:ue.key)||null,L($,H,ue,Se);case X:return H=H.get(ue.key===null?K:ue.key)||null,Q($,H,ue,Se);case bt:var Ie=ue._init;return me(H,$,K,Ie(ue._payload),Se)}if(qn(ue)||be(ue))return H=H.get(K)||null,se($,H,ue,Se,null);ch($,ue)}return null}function _e(H,$,K,ue){for(var Se=null,Ie=null,ke=$,De=$=0,ln=null;ke!==null&&De<K.length;De++){ke.index>De?(ln=ke,ke=null):ln=ke.sibling;var Je=ie(H,ke,K[De],ue);if(Je===null){ke===null&&(ke=ln);break}s&&ke&&Je.alternate===null&&o(H,ke),$=v(Je,$,De),Ie===null?Se=Je:Ie.sibling=Je,Ie=Je,ke=ln}if(De===K.length)return u(H,ke),Tt&&ha(H,De),Se;if(ke===null){for(;De<K.length;De++)ke=ae(H,K[De],ue),ke!==null&&($=v(ke,$,De),Ie===null?Se=ke:Ie.sibling=ke,Ie=ke);return Tt&&ha(H,De),Se}for(ke=f(H,ke);De<K.length;De++)ln=me(ke,H,De,K[De],ue),ln!==null&&(s&&ln.alternate!==null&&ke.delete(ln.key===null?De:ln.key),$=v(ln,$,De),Ie===null?Se=ln:Ie.sibling=ln,Ie=ln);return s&&ke.forEach(function(go){return o(H,go)}),Tt&&ha(H,De),Se}function we(H,$,K,ue){var Se=be(K);if(typeof Se!="function")throw Error(n(150));if(K=Se.call(K),K==null)throw Error(n(151));for(var Ie=Se=null,ke=$,De=$=0,ln=null,Je=K.next();ke!==null&&!Je.done;De++,Je=K.next()){ke.index>De?(ln=ke,ke=null):ln=ke.sibling;var go=ie(H,ke,Je.value,ue);if(go===null){ke===null&&(ke=ln);break}s&&ke&&go.alternate===null&&o(H,ke),$=v(go,$,De),Ie===null?Se=go:Ie.sibling=go,Ie=go,ke=ln}if(Je.done)return u(H,ke),Tt&&ha(H,De),Se;if(ke===null){for(;!Je.done;De++,Je=K.next())Je=ae(H,Je.value,ue),Je!==null&&($=v(Je,$,De),Ie===null?Se=Je:Ie.sibling=Je,Ie=Je);return Tt&&ha(H,De),Se}for(ke=f(H,ke);!Je.done;De++,Je=K.next())Je=me(ke,H,De,Je.value,ue),Je!==null&&(s&&Je.alternate!==null&&ke.delete(Je.key===null?De:Je.key),$=v(Je,$,De),Ie===null?Se=Je:Ie.sibling=Je,Ie=Je);return s&&ke.forEach(function(OR){return o(H,OR)}),Tt&&ha(H,De),Se}function Vt(H,$,K,ue){if(typeof K=="object"&&K!==null&&K.type===x&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case O:e:{for(var Se=K.key,Ie=$;Ie!==null;){if(Ie.key===Se){if(Se=K.type,Se===x){if(Ie.tag===7){u(H,Ie.sibling),$=m(Ie,K.props.children),$.return=H,H=$;break e}}else if(Ie.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===bt&&Sw(Se)===Ie.type){u(H,Ie.sibling),$=m(Ie,K.props),$.ref=ec(H,Ie,K),$.return=H,H=$;break e}u(H,Ie);break}else o(H,Ie);Ie=Ie.sibling}K.type===x?($=wa(K.props.children,H.mode,ue,K.key),$.return=H,H=$):(ue=Oh(K.type,K.key,K.props,null,H.mode,ue),ue.ref=ec(H,$,K),ue.return=H,H=ue)}return b(H);case X:e:{for(Ie=K.key;$!==null;){if($.key===Ie)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(H,$.sibling),$=m($,K.children||[]),$.return=H,H=$;break e}else{u(H,$);break}else o(H,$);$=$.sibling}$=vg(K,H.mode,ue),$.return=H,H=$}return b(H);case bt:return Ie=K._init,Vt(H,$,Ie(K._payload),ue)}if(qn(K))return _e(H,$,K,ue);if(be(K))return we(H,$,K,ue);ch(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(u(H,$.sibling),$=m($,K),$.return=H,H=$):(u(H,$),$=yg(K,H.mode,ue),$.return=H,H=$),b(H)):u(H,$)}return Vt}var Rl=bw(!0),Tw=bw(!1),dh=io(null),hh=null,Dl=null,Pm=null;function Am(){Pm=Dl=hh=null}function Cm(s){var o=dh.current;_t(dh),s._currentValue=o}function xm(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Nl(s,o){hh=s,Pm=Dl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(tr=!0),s.firstContext=null)}function Fr(s){var o=s._currentValue;if(Pm!==s)if(s={context:s,memoizedValue:o,next:null},Dl===null){if(hh===null)throw Error(n(308));Dl=s,hh.dependencies={lanes:0,firstContext:s}}else Dl=Dl.next=s;return o}var fa=null;function Rm(s){fa===null?fa=[s]:fa.push(s)}function Ew(s,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Rm(o)):(u.next=m.next,m.next=u),o.interleaved=u,gs(s,f)}function gs(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ao=!1;function Dm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ys(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function lo(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,gs(s,u)}return m=f.interleaved,m===null?(o.next=o,Rm(f)):(o.next=m.next,m.next=o),f.interleaved=o,gs(s,u)}function fh(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Si(s,u)}}function kw(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=b:v=v.next=b,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function ph(s,o,u,f){var m=s.updateQueue;ao=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var L=D,Q=L.next;L.next=null,b===null?v=Q:b.next=Q,b=L;var se=s.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==b&&(D===null?se.firstBaseUpdate=Q:D.next=Q,se.lastBaseUpdate=L))}if(v!==null){var ae=m.baseState;b=0,se=Q=L=null,D=v;do{var ie=D.lane,me=D.eventTime;if((f&ie)===ie){se!==null&&(se=se.next={eventTime:me,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var _e=s,we=D;switch(ie=o,me=u,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){ae=_e.call(me,ae,ie);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,ie=typeof _e=="function"?_e.call(me,ae,ie):_e,ie==null)break e;ae=fe({},ae,ie);break e;case 2:ao=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ie=m.effects,ie===null?m.effects=[D]:ie.push(D))}else me={eventTime:me,lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(Q=se=me,L=ae):se=se.next=me,b|=ie;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(se===null&&(L=ae),m.baseState=L,m.firstBaseUpdate=Q,m.lastBaseUpdate=se,o=m.shared.interleaved,o!==null){m=o;do b|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);ga|=b,s.lanes=b,s.memoizedState=ae}}function Pw(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var tc={},Ai=io(tc),nc=io(tc),rc=io(tc);function pa(s){if(s===tc)throw Error(n(174));return s}function Nm(s,o){switch(mt(rc,o),mt(nc,s),mt(Ai,tc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ot(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ot(o,s)}_t(Ai),mt(Ai,o)}function Ol(){_t(Ai),_t(nc),_t(rc)}function Aw(s){pa(rc.current);var o=pa(Ai.current),u=Ot(o,s.type);o!==u&&(mt(nc,s),mt(Ai,u))}function Om(s){nc.current===s&&(_t(Ai),_t(nc))}var kt=io(0);function mh(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Mm=[];function Vm(){for(var s=0;s<Mm.length;s++)Mm[s]._workInProgressVersionPrimary=null;Mm.length=0}var gh=te.ReactCurrentDispatcher,Lm=te.ReactCurrentBatchConfig,ma=0,Pt=null,Yt=null,on=null,yh=!1,ic=!1,sc=0,nR=0;function Sn(){throw Error(n(321))}function Fm(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Zr(s[u],o[u]))return!1;return!0}function $m(s,o,u,f,m,v){if(ma=v,Pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,gh.current=s===null||s.memoizedState===null?oR:aR,s=u(f,m),ic){v=0;do{if(ic=!1,sc=0,25<=v)throw Error(n(301));v+=1,on=Yt=null,o.updateQueue=null,gh.current=lR,s=u(f,m)}while(ic)}if(gh.current=wh,o=Yt!==null&&Yt.next!==null,ma=0,on=Yt=Pt=null,yh=!1,o)throw Error(n(300));return s}function Um(){var s=sc!==0;return sc=0,s}function Ci(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Pt.memoizedState=on=s:on=on.next=s,on}function $r(){if(Yt===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=Yt.next;var o=on===null?Pt.memoizedState:on.next;if(o!==null)on=o,Yt=s;else{if(s===null)throw Error(n(310));Yt=s,s={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},on===null?Pt.memoizedState=on=s:on=on.next=s}return on}function oc(s,o){return typeof o=="function"?o(s):o}function zm(s){var o=$r(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=Yt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var D=b=null,L=null,Q=v;do{var se=Q.lane;if((ma&se)===se)L!==null&&(L=L.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:s(f,Q.action);else{var ae={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};L===null?(D=L=ae,b=f):L=L.next=ae,Pt.lanes|=se,ga|=se}Q=Q.next}while(Q!==null&&Q!==v);L===null?b=f:L.next=D,Zr(f,o.memoizedState)||(tr=!0),o.memoizedState=f,o.baseState=b,o.baseQueue=L,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do v=m.lane,Pt.lanes|=v,ga|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Bm(s){var o=$r(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var b=m=m.next;do v=s(v,b.action),b=b.next;while(b!==m);Zr(v,o.memoizedState)||(tr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function Cw(){}function xw(s,o){var u=Pt,f=$r(),m=o(),v=!Zr(f.memoizedState,m);if(v&&(f.memoizedState=m,tr=!0),f=f.queue,jm(Nw.bind(null,u,f,s),[s]),f.getSnapshot!==o||v||on!==null&&on.memoizedState.tag&1){if(u.flags|=2048,ac(9,Dw.bind(null,u,f,m,o),void 0,null),an===null)throw Error(n(349));(ma&30)!==0||Rw(u,o,m)}return m}function Rw(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Pt.updateQueue,o===null?(o={lastEffect:null,stores:null},Pt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Dw(s,o,u,f){o.value=u,o.getSnapshot=f,Ow(o)&&Mw(s)}function Nw(s,o,u){return u(function(){Ow(o)&&Mw(s)})}function Ow(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Zr(s,u)}catch{return!0}}function Mw(s){var o=gs(s,1);o!==null&&ii(o,s,1,-1)}function Vw(s){var o=Ci();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:s},o.queue=s,s=s.dispatch=sR.bind(null,Pt,s),[o.memoizedState,s]}function ac(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=Pt.updateQueue,o===null?(o={lastEffect:null,stores:null},Pt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function Lw(){return $r().memoizedState}function vh(s,o,u,f){var m=Ci();Pt.flags|=s,m.memoizedState=ac(1|o,u,void 0,f===void 0?null:f)}function _h(s,o,u,f){var m=$r();f=f===void 0?null:f;var v=void 0;if(Yt!==null){var b=Yt.memoizedState;if(v=b.destroy,f!==null&&Fm(f,b.deps)){m.memoizedState=ac(o,u,v,f);return}}Pt.flags|=s,m.memoizedState=ac(1|o,u,v,f)}function Fw(s,o){return vh(8390656,8,s,o)}function jm(s,o){return _h(2048,8,s,o)}function $w(s,o){return _h(4,2,s,o)}function Uw(s,o){return _h(4,4,s,o)}function zw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Bw(s,o,u){return u=u!=null?u.concat([s]):null,_h(4,4,zw.bind(null,o,s),u)}function Wm(){}function jw(s,o){var u=$r();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Fm(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function Ww(s,o){var u=$r();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Fm(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function Hw(s,o,u){return(ma&21)===0?(s.baseState&&(s.baseState=!1,tr=!0),s.memoizedState=u):(Zr(u,o)||(u=ls(),Pt.lanes|=u,ga|=u,s.baseState=!0),o)}function rR(s,o){var u=ze;ze=u!==0&&4>u?u:4,s(!0);var f=Lm.transition;Lm.transition={};try{s(!1),o()}finally{ze=u,Lm.transition=f}}function qw(){return $r().memoizedState}function iR(s,o,u){var f=fo(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Gw(s))Kw(o,u);else if(u=Ew(s,o,u,f),u!==null){var m=Bn();ii(u,s,f,m),Qw(u,o,f)}}function sR(s,o,u){var f=fo(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gw(s))Kw(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var b=o.lastRenderedState,D=v(b,u);if(m.hasEagerState=!0,m.eagerState=D,Zr(D,b)){var L=o.interleaved;L===null?(m.next=m,Rm(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}u=Ew(s,o,m,f),u!==null&&(m=Bn(),ii(u,s,f,m),Qw(u,o,f))}}function Gw(s){var o=s.alternate;return s===Pt||o!==null&&o===Pt}function Kw(s,o){ic=yh=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Qw(s,o,u){if((u&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Si(s,u)}}var wh={readContext:Fr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},oR={readContext:Fr,useCallback:function(s,o){return Ci().memoizedState=[s,o===void 0?null:o],s},useContext:Fr,useEffect:Fw,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,vh(4194308,4,zw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return vh(4194308,4,s,o)},useInsertionEffect:function(s,o){return vh(4,2,s,o)},useMemo:function(s,o){var u=Ci();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=Ci();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=iR.bind(null,Pt,s),[f.memoizedState,s]},useRef:function(s){var o=Ci();return s={current:s},o.memoizedState=s},useState:Vw,useDebugValue:Wm,useDeferredValue:function(s){return Ci().memoizedState=s},useTransition:function(){var s=Vw(!1),o=s[0];return s=rR.bind(null,s[1]),Ci().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=Pt,m=Ci();if(Tt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),an===null)throw Error(n(349));(ma&30)!==0||Rw(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Fw(Nw.bind(null,f,v,s),[s]),f.flags|=2048,ac(9,Dw.bind(null,f,v,u,o),void 0,null),u},useId:function(){var s=Ci(),o=an.identifierPrefix;if(Tt){var u=ms,f=ps;u=(f&~(1<<32-hn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=sc++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=nR++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},aR={readContext:Fr,useCallback:jw,useContext:Fr,useEffect:jm,useImperativeHandle:Bw,useInsertionEffect:$w,useLayoutEffect:Uw,useMemo:Ww,useReducer:zm,useRef:Lw,useState:function(){return zm(oc)},useDebugValue:Wm,useDeferredValue:function(s){var o=$r();return Hw(o,Yt.memoizedState,s)},useTransition:function(){var s=zm(oc)[0],o=$r().memoizedState;return[s,o]},useMutableSource:Cw,useSyncExternalStore:xw,useId:qw,unstable_isNewReconciler:!1},lR={readContext:Fr,useCallback:jw,useContext:Fr,useEffect:jm,useImperativeHandle:Bw,useInsertionEffect:$w,useLayoutEffect:Uw,useMemo:Ww,useReducer:Bm,useRef:Lw,useState:function(){return Bm(oc)},useDebugValue:Wm,useDeferredValue:function(s){var o=$r();return Yt===null?o.memoizedState=s:Hw(o,Yt.memoizedState,s)},useTransition:function(){var s=Bm(oc)[0],o=$r().memoizedState;return[s,o]},useMutableSource:Cw,useSyncExternalStore:xw,useId:qw,unstable_isNewReconciler:!1};function ti(s,o){if(s&&s.defaultProps){o=fe({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Hm(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:fe({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Sh={isMounted:function(s){return(s=s._reactInternals)?rn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=Bn(),m=fo(s),v=ys(f,m);v.payload=o,u!=null&&(v.callback=u),o=lo(s,v,m),o!==null&&(ii(o,s,m,f),fh(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=Bn(),m=fo(s),v=ys(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=lo(s,v,m),o!==null&&(ii(o,s,m,f),fh(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Bn(),f=fo(s),m=ys(u,f);m.tag=2,o!=null&&(m.callback=o),o=lo(s,m,f),o!==null&&(ii(o,s,f,u),fh(o,s,f))}};function Yw(s,o,u,f,m,v,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,b):o.prototype&&o.prototype.isPureReactComponent?!Gu(u,f)||!Gu(m,v):!0}function Xw(s,o,u){var f=!1,m=so,v=o.contextType;return typeof v=="object"&&v!==null?v=Fr(v):(m=er(o)?ca:wn.current,f=o.contextTypes,v=(f=f!=null)?Pl(s,m):so),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Sh,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Jw(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&Sh.enqueueReplaceState(o,o.state,null)}function qm(s,o,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Dm(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Fr(v):(v=er(o)?ca:wn.current,m.context=Pl(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Hm(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Sh.enqueueReplaceState(m,m.state,null),ph(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Ml(s,o){try{var u="",f=o;do u+=Fe(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function Gm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Km(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var uR=typeof WeakMap=="function"?WeakMap:Map;function Zw(s,o,u){u=ys(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Ah||(Ah=!0,ug=f),Km(s,o)},u}function eS(s,o,u){u=ys(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Km(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Km(s,o),typeof f!="function"&&(co===null?co=new Set([this]):co.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),u}function tS(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new uR;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),s=TR.bind(null,s,o,u),o.then(s,s))}function nS(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function rS(s,o,u,f,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ys(-1,1),o.tag=2,lo(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var cR=te.ReactCurrentOwner,tr=!1;function zn(s,o,u,f){o.child=s===null?Tw(o,null,u,f):Rl(o,s.child,u,f)}function iS(s,o,u,f,m){u=u.render;var v=o.ref;return Nl(o,m),f=$m(s,o,u,f,v,m),u=Um(),s!==null&&!tr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,vs(s,o,m)):(Tt&&u&&bm(o),o.flags|=1,zn(s,o,f,m),o.child)}function sS(s,o,u,f,m){if(s===null){var v=u.type;return typeof v=="function"&&!gg(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,oS(s,o,v,f,m)):(s=Oh(u.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var b=v.memoizedProps;if(u=u.compare,u=u!==null?u:Gu,u(b,f)&&s.ref===o.ref)return vs(s,o,m)}return o.flags|=1,s=mo(v,f),s.ref=o.ref,s.return=o,o.child=s}function oS(s,o,u,f,m){if(s!==null){var v=s.memoizedProps;if(Gu(v,f)&&s.ref===o.ref)if(tr=!1,o.pendingProps=f=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(tr=!0);else return o.lanes=s.lanes,vs(s,o,m)}return Qm(s,o,u,f,m)}function aS(s,o,u){var f=o.pendingProps,m=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ll,wr),wr|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,mt(Ll,wr),wr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,mt(Ll,wr),wr|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,mt(Ll,wr),wr|=f;return zn(s,o,m,u),o.child}function lS(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Qm(s,o,u,f,m){var v=er(u)?ca:wn.current;return v=Pl(o,v),Nl(o,m),u=$m(s,o,u,f,v,m),f=Um(),s!==null&&!tr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,vs(s,o,m)):(Tt&&f&&bm(o),o.flags|=1,zn(s,o,u,m),o.child)}function uS(s,o,u,f,m){if(er(u)){var v=!0;sh(o)}else v=!1;if(Nl(o,m),o.stateNode===null)Th(s,o),Xw(o,u,f),qm(o,u,f,m),f=!0;else if(s===null){var b=o.stateNode,D=o.memoizedProps;b.props=D;var L=b.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=Fr(Q):(Q=er(u)?ca:wn.current,Q=Pl(o,Q));var se=u.getDerivedStateFromProps,ae=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function";ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==f||L!==Q)&&Jw(o,b,f,Q),ao=!1;var ie=o.memoizedState;b.state=ie,ph(o,f,b,m),L=o.memoizedState,D!==f||ie!==L||Zn.current||ao?(typeof se=="function"&&(Hm(o,u,se,f),L=o.memoizedState),(D=ao||Yw(o,u,D,f,ie,L,Q))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=L),b.props=f,b.state=L,b.context=Q,f=D):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,Iw(s,o),D=o.memoizedProps,Q=o.type===o.elementType?D:ti(o.type,D),b.props=Q,ae=o.pendingProps,ie=b.context,L=u.contextType,typeof L=="object"&&L!==null?L=Fr(L):(L=er(u)?ca:wn.current,L=Pl(o,L));var me=u.getDerivedStateFromProps;(se=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==ae||ie!==L)&&Jw(o,b,f,L),ao=!1,ie=o.memoizedState,b.state=ie,ph(o,f,b,m);var _e=o.memoizedState;D!==ae||ie!==_e||Zn.current||ao?(typeof me=="function"&&(Hm(o,u,me,f),_e=o.memoizedState),(Q=ao||Yw(o,u,Q,f,ie,_e,L)||!1)?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,_e,L),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,_e,L)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=_e),b.props=f,b.state=_e,b.context=L,f=Q):(typeof b.componentDidUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),f=!1)}return Ym(s,o,u,f,v,m)}function Ym(s,o,u,f,m,v){lS(s,o);var b=(o.flags&128)!==0;if(!f&&!b)return m&&pw(o,u,!1),vs(s,o,v);f=o.stateNode,cR.current=o;var D=b&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&b?(o.child=Rl(o,s.child,null,v),o.child=Rl(o,null,D,v)):zn(s,o,D,v),o.memoizedState=f.state,m&&pw(o,u,!0),o.child}function cS(s){var o=s.stateNode;o.pendingContext?hw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&hw(s,o.context,!1),Nm(s,o.containerInfo)}function dS(s,o,u,f,m){return xl(),km(m),o.flags|=256,zn(s,o,u,f),o.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Jm(s){return{baseLanes:s,cachePool:null,transitions:null}}function hS(s,o,u){var f=o.pendingProps,m=kt.current,v=!1,b=(o.flags&128)!==0,D;if((D=b)||(D=s!==null&&s.memoizedState===null?!1:(m&2)!==0),D?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),mt(kt,m&1),s===null)return Im(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(b=f.children,s=f.fallback,v?(f=o.mode,v=o.child,b={mode:"hidden",children:b},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=Mh(b,f,0,null),s=wa(s,f,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Jm(u),o.memoizedState=Xm,s):Zm(o,b));if(m=s.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return dR(s,o,b,f,D,m,u);if(v){v=f.fallback,b=o.mode,m=s.child,D=m.sibling;var L={mode:"hidden",children:f.children};return(b&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=L,o.deletions=null):(f=mo(m,L),f.subtreeFlags=m.subtreeFlags&14680064),D!==null?v=mo(D,v):(v=wa(v,b,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,b=s.child.memoizedState,b=b===null?Jm(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=s.childLanes&~u,o.memoizedState=Xm,f}return v=s.child,s=v.sibling,f=mo(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function Zm(s,o){return o=Mh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function bh(s,o,u,f){return f!==null&&km(f),Rl(o,s.child,null,u),s=Zm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function dR(s,o,u,f,m,v,b){if(u)return o.flags&256?(o.flags&=-257,f=Gm(Error(n(422))),bh(s,o,b,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Mh({mode:"visible",children:f.children},m,0,null),v=wa(v,m,b,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Rl(o,s.child,null,b),o.child.memoizedState=Jm(b),o.memoizedState=Xm,v);if((o.mode&1)===0)return bh(s,o,b,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var D=f.dgst;return f=D,v=Error(n(419)),f=Gm(v,f,void 0),bh(s,o,b,f)}if(D=(b&s.childLanes)!==0,tr||D){if(f=an,f!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|b))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,gs(s,m),ii(f,s,m,-1))}return mg(),f=Gm(Error(n(421))),bh(s,o,b,f)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=ER.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,_r=ro(m.nextSibling),vr=o,Tt=!0,ei=null,s!==null&&(Vr[Lr++]=ps,Vr[Lr++]=ms,Vr[Lr++]=da,ps=s.id,ms=s.overflow,da=o),o=Zm(o,f.children),o.flags|=4096,o)}function fS(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),xm(s.return,o,u)}function eg(s,o,u,f,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function pS(s,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(zn(s,o,f.children,u),f=kt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fS(s,u,o);else if(s.tag===19)fS(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(mt(kt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&mh(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),eg(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&mh(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}eg(o,!0,u,null,v);break;case"together":eg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Th(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function vs(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ga|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=mo(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=mo(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function hR(s,o,u){switch(o.tag){case 3:cS(o),xl();break;case 5:Aw(o);break;case 1:er(o.type)&&sh(o);break;case 4:Nm(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;mt(dh,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(mt(kt,kt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?hS(s,o,u):(mt(kt,kt.current&1),s=vs(s,o,u),s!==null?s.sibling:null);mt(kt,kt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(s.flags&128)!==0){if(f)return pS(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),mt(kt,kt.current),f)break;return null;case 22:case 23:return o.lanes=0,aS(s,o,u)}return vs(s,o,u)}var mS,tg,gS,yS;mS=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tg=function(){},gS=function(s,o,u,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,pa(Ai.current);var v=null;switch(u){case"input":m=Zi(s,m),f=Zi(s,f),v=[];break;case"select":m=fe({},m,{value:void 0}),f=fe({},f,{value:void 0}),v=[];break;case"textarea":m=fi(s,m),f=fi(s,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=nh)}gi(u,f);var b;u=null;for(Q in m)if(!f.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var D=m[Q];for(b in D)D.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in f){var L=f[Q];if(D=m!=null?m[Q]:void 0,f.hasOwnProperty(Q)&&L!==D&&(L!=null||D!=null))if(Q==="style")if(D){for(b in D)!D.hasOwnProperty(b)||L&&L.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in L)L.hasOwnProperty(b)&&D[b]!==L[b]&&(u||(u={}),u[b]=L[b])}else u||(v||(v=[]),v.push(Q,u)),u=L;else Q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,D=D?D.__html:void 0,L!=null&&D!==L&&(v=v||[]).push(Q,L)):Q==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(Q,""+L):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(L!=null&&Q==="onScroll"&&vt("scroll",s),v||D===L||(v=[])):(v=v||[]).push(Q,L))}u&&(v=v||[]).push("style",u);var Q=v;(o.updateQueue=Q)&&(o.flags|=4)}},yS=function(s,o,u,f){u!==f&&(o.flags|=4)};function lc(s,o){if(!Tt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function bn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function fR(s,o,u){var f=o.pendingProps;switch(Tm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(o),null;case 1:return er(o.type)&&ih(),bn(o),null;case 3:return f=o.stateNode,Ol(),_t(Zn),_t(wn),Vm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(uh(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ei!==null&&(hg(ei),ei=null))),tg(s,o),bn(o),null;case 5:Om(o);var m=pa(rc.current);if(u=o.type,s!==null&&o.stateNode!=null)gS(s,o,u,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return bn(o),null}if(s=pa(Ai.current),uh(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Pi]=o,f[Ju]=v,s=(o.mode&1)!==0,u){case"dialog":vt("cancel",f),vt("close",f);break;case"iframe":case"object":case"embed":vt("load",f);break;case"video":case"audio":for(m=0;m<Qu.length;m++)vt(Qu[m],f);break;case"source":vt("error",f);break;case"img":case"image":case"link":vt("error",f),vt("load",f);break;case"details":vt("toggle",f);break;case"input":Us(f,v),vt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},vt("invalid",f);break;case"textarea":Dn(f,v),vt("invalid",f)}gi(u,v),m=null;for(var b in v)if(v.hasOwnProperty(b)){var D=v[b];b==="children"?typeof D=="string"?f.textContent!==D&&(v.suppressHydrationWarning!==!0&&th(f.textContent,D,s),m=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(v.suppressHydrationWarning!==!0&&th(f.textContent,D,s),m=["children",""+D]):i.hasOwnProperty(b)&&D!=null&&b==="onScroll"&&vt("scroll",f)}switch(u){case"input":Cr(f),Za(f,v,!0);break;case"textarea":Cr(f),Bs(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=nh)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Nt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=b.createElement(u,{is:f.is}):(s=b.createElement(u),u==="select"&&(b=s,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):s=b.createElementNS(s,u),s[Pi]=o,s[Ju]=f,mS(s,o,!1,!1),o.stateNode=s;e:{switch(b=Jo(u,f),u){case"dialog":vt("cancel",s),vt("close",s),m=f;break;case"iframe":case"object":case"embed":vt("load",s),m=f;break;case"video":case"audio":for(m=0;m<Qu.length;m++)vt(Qu[m],s);m=f;break;case"source":vt("error",s),m=f;break;case"img":case"image":case"link":vt("error",s),vt("load",s),m=f;break;case"details":vt("toggle",s),m=f;break;case"input":Us(s,f),m=Zi(s,f),vt("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=fe({},f,{value:void 0}),vt("invalid",s);break;case"textarea":Dn(s,f),m=fi(s,f),vt("invalid",s);break;default:m=f}gi(u,m),D=m;for(v in D)if(D.hasOwnProperty(v)){var L=D[v];v==="style"?Xo(s,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&js(s,L)):v==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&qr(s,L):typeof L=="number"&&qr(s,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?L!=null&&v==="onScroll"&&vt("scroll",s):L!=null&&G(s,v,L,b))}switch(u){case"input":Cr(s),Za(s,f,!1);break;case"textarea":Cr(s),Bs(s);break;case"option":f.value!=null&&s.setAttribute("value",""+je(f.value));break;case"select":s.multiple=!!f.multiple,v=f.value,v!=null?ur(s,!!f.multiple,v,!1):f.defaultValue!=null&&ur(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=nh)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return bn(o),null;case 6:if(s&&o.stateNode!=null)yS(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=pa(rc.current),pa(Ai.current),uh(o)){if(f=o.stateNode,u=o.memoizedProps,f[Pi]=o,(v=f.nodeValue!==u)&&(s=vr,s!==null))switch(s.tag){case 3:th(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&th(f.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Pi]=o,o.stateNode=f}return bn(o),null;case 13:if(_t(kt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Tt&&_r!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ww(),xl(),o.flags|=98560,v=!1;else if(v=uh(o),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Pi]=o}else xl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;bn(o),v=!1}else ei!==null&&(hg(ei),ei=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(kt.current&1)!==0?Xt===0&&(Xt=3):mg())),o.updateQueue!==null&&(o.flags|=4),bn(o),null);case 4:return Ol(),tg(s,o),s===null&&Yu(o.stateNode.containerInfo),bn(o),null;case 10:return Cm(o.type._context),bn(o),null;case 17:return er(o.type)&&ih(),bn(o),null;case 19:if(_t(kt),v=o.memoizedState,v===null)return bn(o),null;if(f=(o.flags&128)!==0,b=v.rendering,b===null)if(f)lc(v,!1);else{if(Xt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=mh(s),b!==null){for(o.flags|=128,lc(v,!1),f=b.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,s=f,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,s=b.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return mt(kt,kt.current&1|2),o.child}s=s.sibling}v.tail!==null&&st()>Fl&&(o.flags|=128,f=!0,lc(v,!1),o.lanes=4194304)}else{if(!f)if(s=mh(b),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),lc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Tt)return bn(o),null}else 2*st()-v.renderingStartTime>Fl&&u!==1073741824&&(o.flags|=128,f=!0,lc(v,!1),o.lanes=4194304);v.isBackwards?(b.sibling=o.child,o.child=b):(u=v.last,u!==null?u.sibling=b:o.child=b,v.last=b)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=st(),o.sibling=null,u=kt.current,mt(kt,f?u&1|2:u&1),o):(bn(o),null);case 22:case 23:return pg(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(wr&1073741824)!==0&&(bn(o),o.subtreeFlags&6&&(o.flags|=8192)):bn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function pR(s,o){switch(Tm(o),o.tag){case 1:return er(o.type)&&ih(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ol(),_t(Zn),_t(wn),Vm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Om(o),null;case 13:if(_t(kt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));xl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return _t(kt),null;case 4:return Ol(),null;case 10:return Cm(o.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var Eh=!1,Tn=!1,mR=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Vl(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Rt(s,o,f)}else u.current=null}function ng(s,o,u){try{u()}catch(f){Rt(s,o,f)}}var vS=!1;function gR(s,o){if(pm=A,s=Y_(),om(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var b=0,D=-1,L=-1,Q=0,se=0,ae=s,ie=null;t:for(;;){for(var me;ae!==u||m!==0&&ae.nodeType!==3||(D=b+m),ae!==v||f!==0&&ae.nodeType!==3||(L=b+f),ae.nodeType===3&&(b+=ae.nodeValue.length),(me=ae.firstChild)!==null;)ie=ae,ae=me;for(;;){if(ae===s)break t;if(ie===u&&++Q===m&&(D=b),ie===v&&++se===f&&(L=b),(me=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=me}u=D===-1||L===-1?null:{start:D,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(mm={focusedElem:s,selectionRange:u},A=!1,ve=o;ve!==null;)if(o=ve,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ve=s;else for(;ve!==null;){o=ve;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,Vt=_e.memoizedState,H=o.stateNode,$=H.getSnapshotBeforeUpdate(o.elementType===o.type?we:ti(o.type,we),Vt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Rt(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,ve=s;break}ve=o.return}return _e=vS,vS=!1,_e}function uc(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&ng(o,u,v)}m=m.next}while(m!==f)}}function Ih(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function rg(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function _S(s){var o=s.alternate;o!==null&&(s.alternate=null,_S(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Pi],delete o[Ju],delete o[_m],delete o[Jx],delete o[Zx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function wS(s){return s.tag===5||s.tag===3||s.tag===4}function SS(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ig(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=nh));else if(f!==4&&(s=s.child,s!==null))for(ig(s,o,u),s=s.sibling;s!==null;)ig(s,o,u),s=s.sibling}function sg(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(sg(s,o,u),s=s.sibling;s!==null;)sg(s,o,u),s=s.sibling}var fn=null,ni=!1;function uo(s,o,u){for(u=u.child;u!==null;)bS(s,o,u),u=u.sibling}function bS(s,o,u){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(vi,u)}catch{}switch(u.tag){case 5:Tn||Vl(u,o);case 6:var f=fn,m=ni;fn=null,uo(s,o,u),fn=f,ni=m,fn!==null&&(ni?(s=fn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):fn.removeChild(u.stateNode));break;case 18:fn!==null&&(ni?(s=fn,u=u.stateNode,s.nodeType===8?vm(s.parentNode,u):s.nodeType===1&&vm(s,u),Xn(s)):vm(fn,u.stateNode));break;case 4:f=fn,m=ni,fn=u.stateNode.containerInfo,ni=!0,uo(s,o,u),fn=f,ni=m;break;case 0:case 11:case 14:case 15:if(!Tn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&ng(u,o,b),m=m.next}while(m!==f)}uo(s,o,u);break;case 1:if(!Tn&&(Vl(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(D){Rt(u,o,D)}uo(s,o,u);break;case 21:uo(s,o,u);break;case 22:u.mode&1?(Tn=(f=Tn)||u.memoizedState!==null,uo(s,o,u),Tn=f):uo(s,o,u);break;default:uo(s,o,u)}}function TS(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new mR),o.forEach(function(f){var m=IR.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function ri(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=s,b=o,D=b;e:for(;D!==null;){switch(D.tag){case 5:fn=D.stateNode,ni=!1;break e;case 3:fn=D.stateNode.containerInfo,ni=!0;break e;case 4:fn=D.stateNode.containerInfo,ni=!0;break e}D=D.return}if(fn===null)throw Error(n(160));bS(v,b,m),fn=null,ni=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(Q){Rt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ES(o,s),o=o.sibling}function ES(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ri(o,s),xi(s),f&4){try{uc(3,s,s.return),Ih(3,s)}catch(we){Rt(s,s.return,we)}try{uc(5,s,s.return)}catch(we){Rt(s,s.return,we)}}break;case 1:ri(o,s),xi(s),f&512&&u!==null&&Vl(u,u.return);break;case 5:if(ri(o,s),xi(s),f&512&&u!==null&&Vl(u,u.return),s.flags&32){var m=s.stateNode;try{qr(m,"")}catch(we){Rt(s,s.return,we)}}if(f&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,b=u!==null?u.memoizedProps:v,D=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{D==="input"&&v.type==="radio"&&v.name!=null&&Ko(m,v),Jo(D,b);var Q=Jo(D,v);for(b=0;b<L.length;b+=2){var se=L[b],ae=L[b+1];se==="style"?Xo(m,ae):se==="dangerouslySetInnerHTML"?js(m,ae):se==="children"?qr(m,ae):G(m,se,ae,Q)}switch(D){case"input":Qo(m,v);break;case"textarea":es(m,v);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var me=v.value;me!=null?ur(m,!!v.multiple,me,!1):ie!==!!v.multiple&&(v.defaultValue!=null?ur(m,!!v.multiple,v.defaultValue,!0):ur(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ju]=v}catch(we){Rt(s,s.return,we)}}break;case 6:if(ri(o,s),xi(s),f&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(we){Rt(s,s.return,we)}}break;case 3:if(ri(o,s),xi(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Xn(o.containerInfo)}catch(we){Rt(s,s.return,we)}break;case 4:ri(o,s),xi(s);break;case 13:ri(o,s),xi(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(lg=st())),f&4&&TS(s);break;case 22:if(se=u!==null&&u.memoizedState!==null,s.mode&1?(Tn=(Q=Tn)||se,ri(o,s),Tn=Q):ri(o,s),xi(s),f&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!se&&(s.mode&1)!==0)for(ve=s,se=s.child;se!==null;){for(ae=ve=se;ve!==null;){switch(ie=ve,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:uc(4,ie,ie.return);break;case 1:Vl(ie,ie.return);var _e=ie.stateNode;if(typeof _e.componentWillUnmount=="function"){f=ie,u=ie.return;try{o=f,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(we){Rt(f,u,we)}}break;case 5:Vl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){PS(ae);continue}}me!==null?(me.return=ie,ve=me):PS(ae)}se=se.sibling}e:for(se=null,ae=s;;){if(ae.tag===5){if(se===null){se=ae;try{m=ae.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(D=ae.stateNode,L=ae.memoizedProps.style,b=L!=null&&L.hasOwnProperty("display")?L.display:null,D.style.display=Yo("display",b))}catch(we){Rt(s,s.return,we)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=Q?"":ae.memoizedProps}catch(we){Rt(s,s.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ri(o,s),xi(s),f&4&&TS(s);break;case 21:break;default:ri(o,s),xi(s)}}function xi(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(wS(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(qr(m,""),f.flags&=-33);var v=SS(s);sg(s,v,m);break;case 3:case 4:var b=f.stateNode.containerInfo,D=SS(s);ig(s,D,b);break;default:throw Error(n(161))}}catch(L){Rt(s,s.return,L)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function yR(s,o,u){ve=s,IS(s)}function IS(s,o,u){for(var f=(s.mode&1)!==0;ve!==null;){var m=ve,v=m.child;if(m.tag===22&&f){var b=m.memoizedState!==null||Eh;if(!b){var D=m.alternate,L=D!==null&&D.memoizedState!==null||Tn;D=Eh;var Q=Tn;if(Eh=b,(Tn=L)&&!Q)for(ve=m;ve!==null;)b=ve,L=b.child,b.tag===22&&b.memoizedState!==null?AS(m):L!==null?(L.return=b,ve=L):AS(m);for(;v!==null;)ve=v,IS(v),v=v.sibling;ve=m,Eh=D,Tn=Q}kS(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ve=v):kS(s)}}function kS(s){for(;ve!==null;){var o=ve;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Tn||Ih(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Tn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ti(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Pw(o,v,f);break;case 3:var b=o.updateQueue;if(b!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Pw(o,b,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&Xn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tn||o.flags&512&&rg(o)}catch(ie){Rt(o,o.return,ie)}}if(o===s){ve=null;break}if(u=o.sibling,u!==null){u.return=o.return,ve=u;break}ve=o.return}}function PS(s){for(;ve!==null;){var o=ve;if(o===s){ve=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ve=u;break}ve=o.return}}function AS(s){for(;ve!==null;){var o=ve;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ih(4,o)}catch(L){Rt(o,u,L)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(L){Rt(o,m,L)}}var v=o.return;try{rg(o)}catch(L){Rt(o,v,L)}break;case 5:var b=o.return;try{rg(o)}catch(L){Rt(o,b,L)}}}catch(L){Rt(o,o.return,L)}if(o===s){ve=null;break}var D=o.sibling;if(D!==null){D.return=o.return,ve=D;break}ve=o.return}}var vR=Math.ceil,kh=te.ReactCurrentDispatcher,og=te.ReactCurrentOwner,Ur=te.ReactCurrentBatchConfig,Xe=0,an=null,Wt=null,pn=0,wr=0,Ll=io(0),Xt=0,cc=null,ga=0,Ph=0,ag=0,dc=null,nr=null,lg=0,Fl=1/0,_s=null,Ah=!1,ug=null,co=null,Ch=!1,ho=null,xh=0,hc=0,cg=null,Rh=-1,Dh=0;function Bn(){return(Xe&6)!==0?st():Rh!==-1?Rh:Rh=st()}function fo(s){return(s.mode&1)===0?1:(Xe&2)!==0&&pn!==0?pn&-pn:tR.transition!==null?(Dh===0&&(Dh=ls()),Dh):(s=ze,s!==0||(s=window.event,s=s===void 0?16:ot(s.type)),s)}function ii(s,o,u,f){if(50<hc)throw hc=0,cg=null,Error(n(185));wi(s,u,f),((Xe&2)===0||s!==an)&&(s===an&&((Xe&2)===0&&(Ph|=u),Xt===4&&po(s,pn)),rr(s,f),u===1&&Xe===0&&(o.mode&1)===0&&(Fl=st()+500,oh&&oo()))}function rr(s,o){var u=s.callbackNode;mr(s,o);var f=as(s,s===an?pn:0);if(f===0)u!==null&&os(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&os(u),o===1)s.tag===0?eR(xS.bind(null,s)):mw(xS.bind(null,s)),Yx(function(){(Xe&6)===0&&oo()}),u=null;else{switch(bi(f)){case 1:u=Dr;break;case 4:u=Kr;break;case 16:u=Qn;break;case 536870912:u=il;break;default:u=Qn}u=FS(u,CS.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function CS(s,o){if(Rh=-1,Dh=0,(Xe&6)!==0)throw Error(n(327));var u=s.callbackNode;if($l()&&s.callbackNode!==u)return null;var f=as(s,s===an?pn:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Nh(s,f);else{o=f;var m=Xe;Xe|=2;var v=DS();(an!==s||pn!==o)&&(_s=null,Fl=st()+500,va(s,o));do try{SR();break}catch(D){RS(s,D)}while(!0);Am(),kh.current=v,Xe=m,Wt!==null?o=0:(an=null,pn=0,o=Xt)}if(o!==0){if(o===2&&(m=Mn(s),m!==0&&(f=m,o=dg(s,m))),o===1)throw u=cc,va(s,0),po(s,f),rr(s,st()),u;if(o===6)po(s,f);else{if(m=s.current.alternate,(f&30)===0&&!_R(m)&&(o=Nh(s,f),o===2&&(v=Mn(s),v!==0&&(f=v,o=dg(s,v))),o===1))throw u=cc,va(s,0),po(s,f),rr(s,st()),u;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:_a(s,nr,_s);break;case 3:if(po(s,f),(f&130023424)===f&&(o=lg+500-st(),10<o)){if(as(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){Bn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=ym(_a.bind(null,s,nr,_s),o);break}_a(s,nr,_s);break;case 4:if(po(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var b=31-hn(f);v=1<<b,b=o[b],b>m&&(m=b),f&=~v}if(f=m,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*vR(f/1960))-f,10<f){s.timeoutHandle=ym(_a.bind(null,s,nr,_s),f);break}_a(s,nr,_s);break;case 5:_a(s,nr,_s);break;default:throw Error(n(329))}}}return rr(s,st()),s.callbackNode===u?CS.bind(null,s):null}function dg(s,o){var u=dc;return s.current.memoizedState.isDehydrated&&(va(s,o).flags|=256),s=Nh(s,o),s!==2&&(o=nr,nr=u,o!==null&&hg(o)),s}function hg(s){nr===null?nr=s:nr.push.apply(nr,s)}function _R(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Zr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function po(s,o){for(o&=~ag,o&=~Ph,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-hn(o),f=1<<u;s[u]=-1,o&=~f}}function xS(s){if((Xe&6)!==0)throw Error(n(327));$l();var o=as(s,0);if((o&1)===0)return rr(s,st()),null;var u=Nh(s,o);if(s.tag!==0&&u===2){var f=Mn(s);f!==0&&(o=f,u=dg(s,f))}if(u===1)throw u=cc,va(s,0),po(s,o),rr(s,st()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,_a(s,nr,_s),rr(s,st()),null}function fg(s,o){var u=Xe;Xe|=1;try{return s(o)}finally{Xe=u,Xe===0&&(Fl=st()+500,oh&&oo())}}function ya(s){ho!==null&&ho.tag===0&&(Xe&6)===0&&$l();var o=Xe;Xe|=1;var u=Ur.transition,f=ze;try{if(Ur.transition=null,ze=1,s)return s()}finally{ze=f,Ur.transition=u,Xe=o,(Xe&6)===0&&oo()}}function pg(){wr=Ll.current,_t(Ll)}function va(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Qx(u)),Wt!==null)for(u=Wt.return;u!==null;){var f=u;switch(Tm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ih();break;case 3:Ol(),_t(Zn),_t(wn),Vm();break;case 5:Om(f);break;case 4:Ol();break;case 13:_t(kt);break;case 19:_t(kt);break;case 10:Cm(f.type._context);break;case 22:case 23:pg()}u=u.return}if(an=s,Wt=s=mo(s.current,null),pn=wr=o,Xt=0,cc=null,ag=Ph=ga=0,nr=dc=null,fa!==null){for(o=0;o<fa.length;o++)if(u=fa[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var b=v.next;v.next=m,f.next=b}u.pending=f}fa=null}return s}function RS(s,o){do{var u=Wt;try{if(Am(),gh.current=wh,yh){for(var f=Pt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}yh=!1}if(ma=0,on=Yt=Pt=null,ic=!1,sc=0,og.current=null,u===null||u.return===null){Xt=1,cc=o,Wt=null;break}e:{var v=s,b=u.return,D=u,L=o;if(o=pn,D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=L,se=D,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var me=nS(b);if(me!==null){me.flags&=-257,rS(me,b,D,v,o),me.mode&1&&tS(v,Q,o),o=me,L=Q;var _e=o.updateQueue;if(_e===null){var we=new Set;we.add(L),o.updateQueue=we}else _e.add(L);break e}else{if((o&1)===0){tS(v,Q,o),mg();break e}L=Error(n(426))}}else if(Tt&&D.mode&1){var Vt=nS(b);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),rS(Vt,b,D,v,o),km(Ml(L,D));break e}}v=L=Ml(L,D),Xt!==4&&(Xt=2),dc===null?dc=[v]:dc.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=Zw(v,L,o);kw(v,H);break e;case 1:D=L;var $=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(co===null||!co.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var ue=eS(v,D,o);kw(v,ue);break e}}v=v.return}while(v!==null)}OS(u)}catch(Se){o=Se,Wt===u&&u!==null&&(Wt=u=u.return);continue}break}while(!0)}function DS(){var s=kh.current;return kh.current=wh,s===null?wh:s}function mg(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),an===null||(ga&268435455)===0&&(Ph&268435455)===0||po(an,pn)}function Nh(s,o){var u=Xe;Xe|=2;var f=DS();(an!==s||pn!==o)&&(_s=null,va(s,o));do try{wR();break}catch(m){RS(s,m)}while(!0);if(Am(),Xe=u,kh.current=f,Wt!==null)throw Error(n(261));return an=null,pn=0,Xt}function wR(){for(;Wt!==null;)NS(Wt)}function SR(){for(;Wt!==null&&!nl();)NS(Wt)}function NS(s){var o=LS(s.alternate,s,wr);s.memoizedProps=s.pendingProps,o===null?OS(s):Wt=o,og.current=null}function OS(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=fR(u,o,wr),u!==null){Wt=u;return}}else{if(u=pR(u,o),u!==null){u.flags&=32767,Wt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Xt=6,Wt=null;return}}if(o=o.sibling,o!==null){Wt=o;return}Wt=o=s}while(o!==null);Xt===0&&(Xt=5)}function _a(s,o,u){var f=ze,m=Ur.transition;try{Ur.transition=null,ze=1,bR(s,o,u,f)}finally{Ur.transition=m,ze=f}return null}function bR(s,o,u,f){do $l();while(ho!==null);if((Xe&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(dt(s,v),s===an&&(Wt=an=null,pn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ch||(Ch=!0,FS(Qn,function(){return $l(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Ur.transition,Ur.transition=null;var b=ze;ze=1;var D=Xe;Xe|=4,og.current=null,gR(s,u),ES(u,s),Bx(mm),A=!!pm,mm=pm=null,s.current=u,yR(u),Qs(),Xe=D,ze=b,Ur.transition=v}else s.current=u;if(Ch&&(Ch=!1,ho=s,xh=m),v=s.pendingLanes,v===0&&(co=null),sl(u.stateNode),rr(s,st()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Ah)throw Ah=!1,s=ug,ug=null,s;return(xh&1)!==0&&s.tag!==0&&$l(),v=s.pendingLanes,(v&1)!==0?s===cg?hc++:(hc=0,cg=s):hc=0,oo(),null}function $l(){if(ho!==null){var s=bi(xh),o=Ur.transition,u=ze;try{if(Ur.transition=null,ze=16>s?16:s,ho===null)var f=!1;else{if(s=ho,ho=null,xh=0,(Xe&6)!==0)throw Error(n(331));var m=Xe;for(Xe|=4,ve=s.current;ve!==null;){var v=ve,b=v.child;if((ve.flags&16)!==0){var D=v.deletions;if(D!==null){for(var L=0;L<D.length;L++){var Q=D[L];for(ve=Q;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:uc(8,se,v)}var ae=se.child;if(ae!==null)ae.return=se,ve=ae;else for(;ve!==null;){se=ve;var ie=se.sibling,me=se.return;if(_S(se),se===Q){ve=null;break}if(ie!==null){ie.return=me,ve=ie;break}ve=me}}}var _e=v.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var Vt=we.sibling;we.sibling=null,we=Vt}while(we!==null)}}ve=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,ve=b;else e:for(;ve!==null;){if(v=ve,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:uc(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,ve=H;break e}ve=v.return}}var $=s.current;for(ve=$;ve!==null;){b=ve;var K=b.child;if((b.subtreeFlags&2064)!==0&&K!==null)K.return=b,ve=K;else e:for(b=$;ve!==null;){if(D=ve,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Ih(9,D)}}catch(Se){Rt(D,D.return,Se)}if(D===b){ve=null;break e}var ue=D.sibling;if(ue!==null){ue.return=D.return,ve=ue;break e}ve=D.return}}if(Xe=m,oo(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(vi,s)}catch{}f=!0}return f}finally{ze=u,Ur.transition=o}}return!1}function MS(s,o,u){o=Ml(u,o),o=Zw(s,o,1),s=lo(s,o,1),o=Bn(),s!==null&&(wi(s,1,o),rr(s,o))}function Rt(s,o,u){if(s.tag===3)MS(s,s,u);else for(;o!==null;){if(o.tag===3){MS(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(co===null||!co.has(f))){s=Ml(u,s),s=eS(o,s,1),o=lo(o,s,1),s=Bn(),o!==null&&(wi(o,1,s),rr(o,s));break}}o=o.return}}function TR(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=Bn(),s.pingedLanes|=s.suspendedLanes&u,an===s&&(pn&u)===u&&(Xt===4||Xt===3&&(pn&130023424)===pn&&500>st()-lg?va(s,0):ag|=u),rr(s,o)}function VS(s,o){o===0&&((s.mode&1)===0?o=1:(o=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var u=Bn();s=gs(s,o),s!==null&&(wi(s,o,u),rr(s,u))}function ER(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),VS(s,u)}function IR(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),VS(s,u)}var LS;LS=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Zn.current)tr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return tr=!1,hR(s,o,u);tr=(s.flags&131072)!==0}else tr=!1,Tt&&(o.flags&1048576)!==0&&gw(o,lh,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Th(s,o),s=o.pendingProps;var m=Pl(o,wn.current);Nl(o,u),m=$m(null,o,f,s,m,u);var v=Um();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,er(f)?(v=!0,sh(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Dm(o),m.updater=Sh,o.stateNode=m,m._reactInternals=o,qm(o,f,s,u),o=Ym(null,o,f,!0,v,u)):(o.tag=0,Tt&&v&&bm(o),zn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Th(s,o),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=PR(f),s=ti(f,s),m){case 0:o=Qm(null,o,f,s,u);break e;case 1:o=uS(null,o,f,s,u);break e;case 11:o=iS(null,o,f,s,u);break e;case 14:o=sS(null,o,f,ti(f.type,s),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ti(f,m),Qm(s,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ti(f,m),uS(s,o,f,m,u);case 3:e:{if(cS(o),s===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,Iw(s,o),ph(o,f,null,u);var b=o.memoizedState;if(f=b.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Ml(Error(n(423)),o),o=dS(s,o,f,u,m);break e}else if(f!==m){m=Ml(Error(n(424)),o),o=dS(s,o,f,u,m);break e}else for(_r=ro(o.stateNode.containerInfo.firstChild),vr=o,Tt=!0,ei=null,u=Tw(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(xl(),f===m){o=vs(s,o,u);break e}zn(s,o,f,u)}o=o.child}return o;case 5:return Aw(o),s===null&&Im(o),f=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,b=m.children,gm(f,m)?b=null:v!==null&&gm(f,v)&&(o.flags|=32),lS(s,o),zn(s,o,b,u),o.child;case 6:return s===null&&Im(o),null;case 13:return hS(s,o,u);case 4:return Nm(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Rl(o,null,f,u):zn(s,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ti(f,m),iS(s,o,f,m,u);case 7:return zn(s,o,o.pendingProps,u),o.child;case 8:return zn(s,o,o.pendingProps.children,u),o.child;case 12:return zn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,b=m.value,mt(dh,f._currentValue),f._currentValue=b,v!==null)if(Zr(v.value,b)){if(v.children===m.children&&!Zn.current){o=vs(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var D=v.dependencies;if(D!==null){b=v.child;for(var L=D.firstContext;L!==null;){if(L.context===f){if(v.tag===1){L=ys(-1,u&-u),L.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?L.next=L:(L.next=se.next,se.next=L),Q.pending=L}}v.lanes|=u,L=v.alternate,L!==null&&(L.lanes|=u),xm(v.return,u,o),D.lanes|=u;break}L=L.next}}else if(v.tag===10)b=v.type===o.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(n(341));b.lanes|=u,D=b.alternate,D!==null&&(D.lanes|=u),xm(b,u,o),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===o){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}zn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Nl(o,u),m=Fr(m),f=f(m),o.flags|=1,zn(s,o,f,u),o.child;case 14:return f=o.type,m=ti(f,o.pendingProps),m=ti(f.type,m),sS(s,o,f,m,u);case 15:return oS(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ti(f,m),Th(s,o),o.tag=1,er(f)?(s=!0,sh(o)):s=!1,Nl(o,u),Xw(o,f,m),qm(o,f,m,u),Ym(null,o,f,!0,s,u);case 19:return pS(s,o,u);case 22:return aS(s,o,u)}throw Error(n(156,o.tag))};function FS(s,o){return Ks(s,o)}function kR(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,o,u,f){return new kR(s,o,u,f)}function gg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function PR(s){if(typeof s=="function")return gg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===Ut)return 14}return 2}function mo(s,o){var u=s.alternate;return u===null?(u=zr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Oh(s,o,u,f,m,v){var b=2;if(f=s,typeof s=="function")gg(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case x:return wa(u.children,m,v,o);case E:b=8,m|=8;break;case R:return s=zr(12,u,o,m|2),s.elementType=R,s.lanes=v,s;case N:return s=zr(13,u,o,m),s.elementType=N,s.lanes=v,s;case ut:return s=zr(19,u,o,m),s.elementType=ut,s.lanes=v,s;case Te:return Mh(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:b=10;break e;case F:b=9;break e;case B:b=11;break e;case Ut:b=14;break e;case bt:b=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=zr(b,u,o,m),o.elementType=s,o.type=f,o.lanes=v,o}function wa(s,o,u,f){return s=zr(7,s,f,o),s.lanes=u,s}function Mh(s,o,u,f){return s=zr(22,s,f,o),s.elementType=Te,s.lanes=u,s.stateNode={isHidden:!1},s}function yg(s,o,u){return s=zr(6,s,null,o),s.lanes=u,s}function vg(s,o,u){return o=zr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function AR(s,o,u,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function _g(s,o,u,f,m,v,b,D,L){return s=new AR(s,o,u,D,L),o===1?(o=1,v===!0&&(o|=8)):o=0,v=zr(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(v),s}function CR(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function $S(s){if(!s)return so;s=s._reactInternals;e:{if(rn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(er(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(er(u))return fw(s,u,o)}return o}function US(s,o,u,f,m,v,b,D,L){return s=_g(u,f,!0,s,m,v,b,D,L),s.context=$S(null),u=s.current,f=Bn(),m=fo(u),v=ys(f,m),v.callback=o??null,lo(u,v,m),s.current.lanes=m,wi(s,m,f),rr(s,f),s}function Vh(s,o,u,f){var m=o.current,v=Bn(),b=fo(m);return u=$S(u),o.context===null?o.context=u:o.pendingContext=u,o=ys(v,b),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=lo(m,o,b),s!==null&&(ii(s,m,b,v),fh(s,m,b)),b}function Lh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function zS(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function wg(s,o){zS(s,o),(s=s.alternate)&&zS(s,o)}function xR(){return null}var BS=typeof reportError=="function"?reportError:function(s){console.error(s)};function Sg(s){this._internalRoot=s}Fh.prototype.render=Sg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Vh(s,o,null,null)},Fh.prototype.unmount=Sg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ya(function(){Vh(null,s,null,null)}),o[hs]=null}};function Fh(s){this._internalRoot=s}Fh.prototype.unstable_scheduleHydration=function(s){if(s){var o=ul();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Yn.length&&o!==0&&o<Yn[u].priority;u++);Yn.splice(u,0,s),u===0&&oa(s)}};function bg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function $h(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function jS(){}function RR(s,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var Q=Lh(b);v.call(Q)}}var b=US(o,f,s,0,null,!1,!1,"",jS);return s._reactRootContainer=b,s[hs]=b.current,Yu(s.nodeType===8?s.parentNode:s),ya(),b}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var D=f;f=function(){var Q=Lh(L);D.call(Q)}}var L=_g(s,0,!1,null,null,!1,!1,"",jS);return s._reactRootContainer=L,s[hs]=L.current,Yu(s.nodeType===8?s.parentNode:s),ya(function(){Vh(o,L,u,f)}),L}function Uh(s,o,u,f,m){var v=u._reactRootContainer;if(v){var b=v;if(typeof m=="function"){var D=m;m=function(){var L=Lh(b);D.call(L)}}Vh(o,b,s,m)}else b=RR(u,o,s,m,f);return Lh(b)}ll=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=_i(o.pendingLanes);u!==0&&(Si(o,u|1),rr(o,st()),(Xe&6)===0&&(Fl=st()+500,oo()))}break;case 13:ya(function(){var f=gs(s,1);if(f!==null){var m=Bn();ii(f,s,1,m)}}),wg(s,1)}},Zs=function(s){if(s.tag===13){var o=gs(s,134217728);if(o!==null){var u=Bn();ii(o,s,134217728,u)}wg(s,134217728)}},eo=function(s){if(s.tag===13){var o=fo(s),u=gs(s,o);if(u!==null){var f=Bn();ii(u,s,o,f)}wg(s,o)}},ul=function(){return ze},cl=function(s,o){var u=ze;try{return ze=s,o()}finally{ze=u}},ts=function(s,o,u){switch(o){case"input":if(Qo(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var m=rh(f);if(!m)throw Error(n(90));Ji(f),Qo(f,m)}}}break;case"textarea":es(s,u);break;case"select":o=u.value,o!=null&&ur(s,!!u.multiple,o,!1)}},ns=fg,ea=ya;var DR={usingClientEntryPoint:!1,Events:[Zu,Il,rh,Rr,Zo,fg]},fc={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NR={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=na(s),s===null?null:s.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||xR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{vi=zh.inject(NR),On=zh}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DR,ir.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(o))throw Error(n(200));return CR(s,o,null,u)},ir.createRoot=function(s,o){if(!bg(s))throw Error(n(299));var u=!1,f="",m=BS;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=_g(s,1,!1,null,null,u,!1,f,m),s[hs]=o.current,Yu(s.nodeType===8?s.parentNode:s),new Sg(o)},ir.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=na(o),s=s===null?null:s.stateNode,s},ir.flushSync=function(s){return ya(s)},ir.hydrate=function(s,o,u){if(!$h(o))throw Error(n(200));return Uh(null,s,o,!0,u)},ir.hydrateRoot=function(s,o,u){if(!bg(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",b=BS;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),o=US(o,null,s,1,u??null,m,!1,v,b),s[hs]=o.current,Yu(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Fh(o)},ir.render=function(s,o,u){if(!$h(o))throw Error(n(200));return Uh(null,s,o,!1,u)},ir.unmountComponentAtNode=function(s){if(!$h(s))throw Error(n(40));return s._reactRootContainer?(ya(function(){Uh(null,null,s,!1,function(){s._reactRootContainer=null,s[hs]=null})}),!0):!1},ir.unstable_batchedUpdates=fg,ir.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!$h(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Uh(s,o,u,!1,f)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var JS;function dI(){if(JS)return Ig.exports;JS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ig.exports=BR(),Ig.exports}var ZS;function jR(){if(ZS)return jh;ZS=1;var t=dI();return jh.createRoot=t.createRoot,jh.hydrateRoot=t.hydrateRoot,jh}var WR=jR();const HR=Td(WR);function qR(){return!!(globalThis!=null&&globalThis.document)}function GR(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function KR(t){return Array.isArray(t)}function li(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!KR(t)}function QR(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function YR(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function Py(t){if(t==null)return t;const{unitless:e}=YR(t);return e||typeof t=="number"?`${t}px`:t}const hI=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Lv=t=>Object.fromEntries(Object.entries(t).sort(hI));function eb(t){const e=Lv(t);return Object.assign(Object.values(e),e)}function XR(t){const e=Object.keys(Lv(t));return new Set(e)}function tb(t){if(!t)return t;t=Py(t)??t;const e=-.02;return typeof t=="number"?`${t+e}`:t.replace(/(\d+\.?\d*)/u,n=>`${parseFloat(n)+e}`)}function Tc(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${Py(t)})`),e&&n.push("and",`(max-width: ${Py(e)})`),n.join(" ")}function JR(t){if(!t)return null;t.base=t.base??"0px";const e=eb(t),n=Object.entries(t).sort(hI).map(([a,l],c,h)=>{let[,p]=h[c+1]??[];return p=parseFloat(p)>0?tb(p):void 0,{_minW:tb(l),breakpoint:a,minW:l,maxW:p,maxWQuery:Tc(null,p),minWQuery:Tc(l),minMaxQuery:Tc(l,p)}}),r=XR(t),i=Array.from(r.values());return{keys:r,normalized:e,isResponsive(a){const l=Object.keys(a);return l.length>0&&l.every(c=>r.has(c))},asObject:Lv(t),asArray:eb(t),details:n,get(a){return n.find(l=>l.breakpoint===a)},media:[null,...e.map(a=>Tc(a)).slice(1)],toArrayValue(a){if(!li(a))throw new Error("toArrayValue: value must be an object");const l=i.map(c=>a[c]??null);for(;QR(l)===null;)l.pop();return l},toObjectValue(a){if(!Array.isArray(a))throw new Error("toObjectValue: value must be an array");return a.reduce((l,c,h)=>{const p=i[h];return p!=null&&c!=null&&(l[p]=c),l},{})}}}function Fv(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ZR(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Du(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:a,defaultValue:l}=t,c=Y.createContext(l);c.displayName=e;function h(){var g;const p=Y.useContext(c);if(!p&&n){const _=new Error(a??ZR(r,i));throw _.name="ContextError",(g=Error.captureStackTrace)==null||g.call(Error,_,h),_}return p}return[c.Provider,h,c]}const Ha=(...t)=>t.filter(Boolean).join(" ");function eD(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}const tD=t=>{const e=new WeakMap;return(r,i,a,l)=>{if(typeof r>"u")return t(r,i,a);e.has(r)||e.set(r,new Map);const c=e.get(r);if(c.has(i))return c.get(i);const h=t(r,i,a,l);return c.set(i,h),h}},fI=tD(eD),nD=t=>t.default||t;function pI(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function rD(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}const iD=t=>typeof t=="function";function Li(t,...e){return iD(t)?t(...e):t}function sD(t,...e){const n=Object.getOwnPropertyDescriptors(t),r=Object.keys(n),i=l=>{const c={};for(let h=0;h<l.length;h++){const p=l[h];n[p]&&(Object.defineProperty(c,p,n[p]),delete n[p])}return c},a=l=>i(Array.isArray(l)?l:r.filter(l));return e.map(a).concat(i(r))}function nb(t,e,n={}){const{stop:r,getKey:i}=n;function a(l,c=[]){if(li(l)||Array.isArray(l)){const h={};for(const[p,g]of Object.entries(l)){const _=(i==null?void 0:i(p))??p,S=[...c,_];if(r!=null&&r(l,S))return e(l,c);h[_]=a(g,S)}return h}return e(l,c)}return a(t)}var Ec={exports:{}};Ec.exports;var rb;function oD(){return rb||(rb=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,a=16,l=9007199254740991,c="[object Arguments]",h="[object Array]",p="[object AsyncFunction]",g="[object Boolean]",_="[object Date]",S="[object Error]",T="[object Function]",k="[object GeneratorFunction]",P="[object Map]",C="[object Number]",z="[object Null]",q="[object Object]",G="[object Proxy]",te="[object RegExp]",O="[object Set]",X="[object String]",x="[object Undefined]",E="[object WeakMap]",R="[object ArrayBuffer]",M="[object DataView]",F="[object Float32Array]",B="[object Float64Array]",N="[object Int8Array]",ut="[object Int16Array]",Ut="[object Int32Array]",bt="[object Uint8Array]",Te="[object Uint8ClampedArray]",le="[object Uint16Array]",be="[object Uint32Array]",fe=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,de={};de[F]=de[B]=de[N]=de[ut]=de[Ut]=de[bt]=de[Te]=de[le]=de[be]=!0,de[c]=de[h]=de[R]=de[g]=de[M]=de[_]=de[S]=de[T]=de[P]=de[C]=de[q]=de[te]=de[O]=de[X]=de[E]=!1;var Ve=typeof Bh=="object"&&Bh&&Bh.Object===Object&&Bh,Fe=typeof self=="object"&&self&&self.Object===Object&&self,$e=Ve||Fe||Function("return this")(),Ge=e&&!e.nodeType&&e,je=Ge&&!0&&t&&!t.nodeType&&t,ct=je&&je.exports===Ge,xt=ct&&Ve.process,Cr=function(){try{var A=je&&je.require&&je.require("util").types;return A||xt&&xt.binding&&xt.binding("util")}catch{}}(),Ji=Cr&&Cr.isTypedArray;function hi(A,V,J){switch(J.length){case 0:return A.call(V);case 1:return A.call(V,J[0]);case 2:return A.call(V,J[0],J[1]);case 3:return A.call(V,J[0],J[1],J[2])}return A.apply(V,J)}function Zi(A,V){for(var J=-1,ge=Array(A);++J<A;)ge[J]=V(J);return ge}function Us(A){return function(V){return A(V)}}function Ko(A,V){return A==null?void 0:A[V]}function Qo(A,V){return function(J){return A(V(J))}}var Za=Array.prototype,zs=Function.prototype,qn=Object.prototype,ur=$e["__core-js_shared__"],fi=zs.toString,Dn=qn.hasOwnProperty,es=function(){var A=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),Bs=qn.toString,Nt=fi.call(Object),Ot=RegExp("^"+fi.call(Dn).replace(fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gn=ct?$e.Buffer:void 0,js=$e.Symbol,qr=$e.Uint8Array;Gn&&Gn.allocUnsafe;var pi=Qo(Object.getPrototypeOf,Object),mi=Object.create,Yo=qn.propertyIsEnumerable,Xo=Za.splice,cr=js?js.toStringTag:void 0,gi=function(){try{var A=mr(Object,"defineProperty");return A({},"",{}),A}catch{}}(),Jo=Gn?Gn.isBuffer:void 0,yi=Math.max,Ws=Date.now,ts=mr($e,"Map"),nn=mr(Object,"create"),xr=function(){function A(){}return function(V){if(!Nr(V))return{};if(mi)return mi(V);A.prototype=V;var J=new A;return A.prototype=void 0,J}}();function Kn(A){var V=-1,J=A==null?0:A.length;for(this.clear();++V<J;){var ge=A[V];this.set(ge[0],ge[1])}}function Rr(){this.__data__=nn?nn(null):{},this.size=0}function Zo(A){var V=this.has(A)&&delete this.__data__[A];return this.size-=V?1:0,V}function ns(A){var V=this.__data__;if(nn){var J=V[A];return J===r?void 0:J}return Dn.call(V,A)?V[A]:void 0}function ea(A){var V=this.__data__;return nn?V[A]!==void 0:Dn.call(V,A)}function Gr(A,V){var J=this.__data__;return this.size+=this.has(A)?0:1,J[A]=nn&&V===void 0?r:V,this}Kn.prototype.clear=Rr,Kn.prototype.delete=Zo,Kn.prototype.get=ns,Kn.prototype.has=ea,Kn.prototype.set=Gr;function Nn(A){var V=-1,J=A==null?0:A.length;for(this.clear();++V<J;){var ge=A[V];this.set(ge[0],ge[1])}}function It(){this.__data__=[],this.size=0}function Hs(A){var V=this.__data__,J=Qs(V,A);if(J<0)return!1;var ge=V.length-1;return J==ge?V.pop():Xo.call(V,J,1),--this.size,!0}function dr(A){var V=this.__data__,J=Qs(V,A);return J<0?void 0:V[J][1]}function rs(A){return Qs(this.__data__,A)>-1}function is(A,V){var J=this.__data__,ge=Qs(J,A);return ge<0?(++this.size,J.push([A,V])):J[ge][1]=V,this}Nn.prototype.clear=It,Nn.prototype.delete=Hs,Nn.prototype.get=dr,Nn.prototype.has=rs,Nn.prototype.set=is;function hr(A){var V=-1,J=A==null?0:A.length;for(this.clear();++V<J;){var ge=A[V];this.set(ge[0],ge[1])}}function fr(){this.size=0,this.__data__={hash:new Kn,map:new(ts||Nn),string:new Kn}}function ta(A){var V=Js(this,A).delete(A);return this.size-=V?1:0,V}function zu(A){return Js(this,A).get(A)}function qs(A){return Js(this,A).has(A)}function el(A,V){var J=Js(this,A),ge=J.size;return J.set(A,V),this.size+=J.size==ge?0:1,this}hr.prototype.clear=fr,hr.prototype.delete=ta,hr.prototype.get=zu,hr.prototype.has=qs,hr.prototype.set=el;function rn(A){var V=this.__data__=new Nn(A);this.size=V.size}function ss(){this.__data__=new Nn,this.size=0}function pr(A){var V=this.__data__,J=V.delete(A);return this.size=V.size,J}function tl(A){return this.__data__.get(A)}function na(A){return this.__data__.has(A)}function Gs(A,V){var J=this.__data__;if(J instanceof Nn){var ge=J.__data__;if(!ts||ge.length<n-1)return ge.push([A,V]),this.size=++J.size,this;J=this.__data__=new hr(ge)}return J.set(A,V),this.size=J.size,this}rn.prototype.clear=ss,rn.prototype.delete=pr,rn.prototype.get=tl,rn.prototype.has=na,rn.prototype.set=Gs;function Ks(A,V){var J=Ln(A),ge=!J&&Mt(A),Le=!J&&!ge&&$n(A),Ke=!J&&!ge&&!Le&&oa(A),ot=J||ge||Le||Ke,Ne=ot?Zi(A.length,String):[],Ze=Ne.length;for(var pt in A)ot&&(pt=="length"||Le&&(pt=="offset"||pt=="parent")||Ke&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||Qr(pt,Ze))||Ne.push(pt);return Ne}function os(A,V,J){(J!==void 0&&!Vn(A[V],J)||J===void 0&&!(V in A))&&st(A,V,J)}function nl(A,V,J){var ge=A[V];(!(Dn.call(A,V)&&Vn(ge,J))||J===void 0&&!(V in A))&&st(A,V,J)}function Qs(A,V){for(var J=A.length;J--;)if(Vn(A[J][0],V))return J;return-1}function st(A,V,J){V=="__proto__"&&gi?gi(A,V,{configurable:!0,enumerable:!0,value:J,writable:!0}):A[V]=J}var rl=as();function Dr(A){return A==null?A===void 0?x:z:cr&&cr in Object(A)?Mn(A):ll(A)}function Kr(A){return zt(A)&&Dr(A)==c}function Qn(A){if(!Nr(A)||Si(A))return!1;var V=Yn(A)?Ot:j;return V.test(sa(A))}function ra(A){return zt(A)&&dl(A.length)&&!!de[Dr(A)]}function il(A){if(!Nr(A))return bi(A);var V=ze(A),J=[];for(var ge in A)ge=="constructor"&&(V||!Dn.call(A,ge))||J.push(ge);return J}function vi(A,V,J,ge,Le){A!==V&&rl(V,function(Ke,ot){if(Le||(Le=new rn),Nr(Ke))On(A,V,ot,J,vi,ge,Le);else{var Ne=ge?ge(eo(A,ot),Ke,ot+"",A,V,Le):void 0;Ne===void 0&&(Ne=Ke),os(A,ot,Ne)}},Ei)}function On(A,V,J,ge,Le,Ke,ot){var Ne=eo(A,J),Ze=eo(V,J),pt=ot.get(Ze);if(pt){os(A,J,pt);return}var Kt=Ke?Ke(Ne,Ze,J+"",A,V,ot):void 0,Or=Kt===void 0;if(Or){var Jn=Ln(Ze),us=!Jn&&$n(Ze),Bt=!Jn&&!us&&oa(Ze);Kt=Ze,Jn||us||Bt?Ln(Ne)?Kt=Ne:Ti(Ne)?Kt=Ys(Ne):us?(Or=!1,Kt=ia(Ze)):Bt?(Or=!1,Kt=al(Ze)):Kt=[]:Bu(Ze)||Mt(Ze)?(Kt=Ne,Mt(Ne)?Kt=Yr(Ne):(!Nr(Ne)||Yn(Ne))&&(Kt=ls(Ze))):Or=!1}Or&&(ot.set(Ze,Kt),Le(Kt,Ze,ge,Ke,ot),ot.delete(Ze)),os(A,J,Kt)}function sl(A,V){return ul(Zs(A,V,Xn),A+"")}var hn=gi?function(A,V){return gi(A,"toString",{configurable:!0,enumerable:!1,value:gr(V),writable:!0})}:Xn;function ia(A,V){return A.slice()}function ol(A){var V=new A.constructor(A.byteLength);return new qr(V).set(new qr(A)),V}function al(A,V){var J=ol(A.buffer);return new A.constructor(J,A.byteOffset,A.length)}function Ys(A,V){var J=-1,ge=A.length;for(V||(V=Array(ge));++J<ge;)V[J]=A[J];return V}function Xs(A,V,J,ge){var Le=!J;J||(J={});for(var Ke=-1,ot=V.length;++Ke<ot;){var Ne=V[Ke],Ze=void 0;Ze===void 0&&(Ze=A[Ne]),Le?st(J,Ne,Ze):nl(J,Ne,Ze)}return J}function _i(A){return sl(function(V,J){var ge=-1,Le=J.length,Ke=Le>1?J[Le-1]:void 0,ot=Le>2?J[2]:void 0;for(Ke=A.length>3&&typeof Ke=="function"?(Le--,Ke):void 0,ot&&wi(J[0],J[1],ot)&&(Ke=Le<3?void 0:Ke,Le=1),V=Object(V);++ge<Le;){var Ne=J[ge];Ne&&A(V,Ne,ge,Ke)}return V})}function as(A){return function(V,J,ge){for(var Le=-1,Ke=Object(V),ot=ge(V),Ne=ot.length;Ne--;){var Ze=ot[++Le];if(J(Ke[Ze],Ze,Ke)===!1)break}return V}}function Js(A,V){var J=A.__data__;return dt(V)?J[typeof V=="string"?"string":"hash"]:J.map}function mr(A,V){var J=Ko(A,V);return Qn(J)?J:void 0}function Mn(A){var V=Dn.call(A,cr),J=A[cr];try{A[cr]=void 0;var ge=!0}catch{}var Le=Bs.call(A);return ge&&(V?A[cr]=J:delete A[cr]),Le}function ls(A){return typeof A.constructor=="function"&&!ze(A)?xr(pi(A)):{}}function Qr(A,V){var J=typeof A;return V=V??l,!!V&&(J=="number"||J!="symbol"&&ne.test(A))&&A>-1&&A%1==0&&A<V}function wi(A,V,J){if(!Nr(J))return!1;var ge=typeof V;return(ge=="number"?Fn(J)&&Qr(V,J.length):ge=="string"&&V in J)?Vn(J[V],A):!1}function dt(A){var V=typeof A;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?A!=="__proto__":A===null}function Si(A){return!!es&&es in A}function ze(A){var V=A&&A.constructor,J=typeof V=="function"&&V.prototype||qn;return A===J}function bi(A){var V=[];if(A!=null)for(var J in Object(A))V.push(J);return V}function ll(A){return Bs.call(A)}function Zs(A,V,J){return V=yi(V===void 0?A.length-1:V,0),function(){for(var ge=arguments,Le=-1,Ke=yi(ge.length-V,0),ot=Array(Ke);++Le<Ke;)ot[Le]=ge[V+Le];Le=-1;for(var Ne=Array(V+1);++Le<V;)Ne[Le]=ge[Le];return Ne[V]=J(ot),hi(A,this,Ne)}}function eo(A,V){if(!(V==="constructor"&&typeof A[V]=="function")&&V!="__proto__")return A[V]}var ul=cl(hn);function cl(A){var V=0,J=0;return function(){var ge=Ws(),Le=a-(ge-J);if(J=ge,Le>0){if(++V>=i)return arguments[0]}else V=0;return A.apply(void 0,arguments)}}function sa(A){if(A!=null){try{return fi.call(A)}catch{}try{return A+""}catch{}}return""}function Vn(A,V){return A===V||A!==A&&V!==V}var Mt=Kr(function(){return arguments}())?Kr:function(A){return zt(A)&&Dn.call(A,"callee")&&!Yo.call(A,"callee")},Ln=Array.isArray;function Fn(A){return A!=null&&dl(A.length)&&!Yn(A)}function Ti(A){return zt(A)&&Fn(A)}var $n=Jo||Xr;function Yn(A){if(!Nr(A))return!1;var V=Dr(A);return V==T||V==k||V==p||V==G}function dl(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=l}function Nr(A){var V=typeof A;return A!=null&&(V=="object"||V=="function")}function zt(A){return A!=null&&typeof A=="object"}function Bu(A){if(!zt(A)||Dr(A)!=q)return!1;var V=pi(A);if(V===null)return!0;var J=Dn.call(V,"constructor")&&V.constructor;return typeof J=="function"&&J instanceof J&&fi.call(J)==Nt}var oa=Ji?Us(Ji):ra;function Yr(A){return Xs(A,Ei(A))}function Ei(A){return Fn(A)?Ks(A):il(A)}var hl=_i(function(A,V,J,ge){vi(A,V,J,ge)});function gr(A){return function(){return A}}function Xn(A){return A}function Xr(){return!1}t.exports=hl}(Ec,Ec.exports)),Ec.exports}var aD=oD();const Fi=Td(aD);function lD(t,e=[]){const n=Y.useRef(t);return Y.useEffect(()=>{n.current=t}),Y.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}const Ay=globalThis!=null&&globalThis.document?Y.useLayoutEffect:Y.useEffect,ib=(t,e)=>{const n=Y.useRef(!1),r=Y.useRef(!1);Y.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),Y.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function uD(t,e){const n=lD(t);Y.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}const Jt={open:(t,e)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${e}`,closed:(t,e)=>`${t}[data-closed], ${t}[data-state=closed] ${e}`,hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},Ri=t=>mI(e=>t(e,"&"),"[role=group]","[data-group]",".group"),ws=t=>mI(e=>t(e,"~ &"),"[data-peer]",".peer"),mI=(t,...e)=>e.map(t).join(", "),iu={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:Ri(Jt.open),_groupClosed:Ri(Jt.closed),_groupHover:Ri(Jt.hover),_peerHover:ws(Jt.hover),_groupFocus:Ri(Jt.focus),_peerFocus:ws(Jt.focus),_groupFocusVisible:Ri(Jt.focusVisible),_peerFocusVisible:ws(Jt.focusVisible),_groupActive:Ri(Jt.active),_peerActive:ws(Jt.active),_groupDisabled:Ri(Jt.disabled),_peerDisabled:ws(Jt.disabled),_groupInvalid:Ri(Jt.invalid),_peerInvalid:ws(Jt.invalid),_groupChecked:Ri(Jt.checked),_peerChecked:ws(Jt.checked),_groupFocusWithin:Ri(Jt.focusWithin),_peerFocusWithin:ws(Jt.focusWithin),_peerPlaceholderShown:ws(Jt.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},gI=Object.keys(iu),cD=t=>/!(important)?$/.test(t),sb=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,dD=(t,e)=>n=>{const r=String(e),i=cD(r),a=sb(r),l=t?`${t}.${a}`:a;let c=li(n.__cssMap)&&l in n.__cssMap?n.__cssMap[l].varRef:e;return c=sb(c),i?`${c} !important`:c};function $v(t){const{scale:e,transform:n,compose:r}=t;return(a,l)=>{const c=dD(e,a)(l);let h=(n==null?void 0:n(c,l))??c;return r&&(h=r(h,l)),h}}const Wh=(...t)=>e=>t.reduce((n,r)=>r(n),e);function Br(t,e){return n=>{const r={property:n,scale:t};return r.transform=$v({scale:t,transform:e}),r}}const hD=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function fD(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:hD(e),transform:n?$v({scale:n,compose:r}):r}}const yI=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function pD(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...yI].join(" ")}function mD(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...yI].join(" ")}const gD={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},yD={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function vD(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const _D={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Cy={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},wD=new Set(Object.values(Cy)),xy=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),SD=t=>t.trim();function bD(t,e){if(t==null||xy.has(t))return t;if(!(Ry(t)||xy.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),a=i==null?void 0:i[1],l=i==null?void 0:i[2];if(!a||!l)return t;const c=a.includes("-gradient")?a:`${a}-gradient`,[h,...p]=l.split(",").map(SD).filter(Boolean);if((p==null?void 0:p.length)===0)return t;const g=h in Cy?Cy[h]:h;p.unshift(g);const _=p.map(S=>{if(wD.has(S))return S;const T=S.indexOf(" "),[k,P]=T!==-1?[S.substr(0,T),S.substr(T+1)]:[S],C=Ry(P)?P:P&&P.split(" "),z=`colors.${k}`,q=z in e.__cssMap?e.__cssMap[z].varRef:k;return C?[q,...Array.isArray(C)?C:[C]].join(" "):q});return`${c}(${_.join(", ")})`}const Ry=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),TD=(t,e)=>bD(t,e??{});function ED(t){return/^var\(--.+\)$/.test(t)}const ID=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Di=t=>e=>`${t}(${e})`,qe={filter(t){return t!=="auto"?t:gD},backdropFilter(t){return t!=="auto"?t:yD},ring(t){return vD(qe.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?pD():t==="auto-gpu"?mD():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=ID(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(ED(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:TD,blur:Di("blur"),opacity:Di("opacity"),brightness:Di("brightness"),contrast:Di("contrast"),dropShadow:Di("drop-shadow"),grayscale:Di("grayscale"),hueRotate:t=>Di("hue-rotate")(qe.degree(t)),invert:Di("invert"),saturate:Di("saturate"),sepia:Di("sepia"),bgImage(t){return t==null||Ry(t)||xy.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:e,divide:n}=_D[t]??{},r={flexDirection:t};return e&&(r[e]=1),n&&(r[n]=1),r}},U={borderWidths:Br("borderWidths"),borderStyles:Br("borderStyles"),colors:Br("colors"),borders:Br("borders"),gradients:Br("gradients",qe.gradient),radii:Br("radii",qe.px),space:Br("space",Wh(qe.vh,qe.px)),spaceT:Br("space",Wh(qe.vh,qe.px)),degreeT(t){return{property:t,transform:qe.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:$v({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:Br("sizes",Wh(qe.vh,qe.px)),sizesT:Br("sizes",Wh(qe.vh,qe.fraction)),shadows:Br("shadows"),logical:fD,blur:Br("blur",qe.blur)},mf={background:U.colors("background"),backgroundColor:U.colors("backgroundColor"),backgroundImage:U.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:qe.bgClip},bgSize:U.prop("backgroundSize"),bgPosition:U.prop("backgroundPosition"),bg:U.colors("background"),bgColor:U.colors("backgroundColor"),bgPos:U.prop("backgroundPosition"),bgRepeat:U.prop("backgroundRepeat"),bgAttachment:U.prop("backgroundAttachment"),bgGradient:U.gradients("backgroundImage"),bgClip:{transform:qe.bgClip}};Object.assign(mf,{bgImage:mf.backgroundImage,bgImg:mf.backgroundImage});const et={border:U.borders("border"),borderWidth:U.borderWidths("borderWidth"),borderStyle:U.borderStyles("borderStyle"),borderColor:U.colors("borderColor"),borderRadius:U.radii("borderRadius"),borderTop:U.borders("borderTop"),borderBlockStart:U.borders("borderBlockStart"),borderTopLeftRadius:U.radii("borderTopLeftRadius"),borderStartStartRadius:U.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:U.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:U.radii("borderTopRightRadius"),borderStartEndRadius:U.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:U.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:U.borders("borderRight"),borderInlineEnd:U.borders("borderInlineEnd"),borderBottom:U.borders("borderBottom"),borderBlockEnd:U.borders("borderBlockEnd"),borderBottomLeftRadius:U.radii("borderBottomLeftRadius"),borderBottomRightRadius:U.radii("borderBottomRightRadius"),borderLeft:U.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:U.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:U.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:U.borders(["borderLeft","borderRight"]),borderInline:U.borders("borderInline"),borderY:U.borders(["borderTop","borderBottom"]),borderBlock:U.borders("borderBlock"),borderTopWidth:U.borderWidths("borderTopWidth"),borderBlockStartWidth:U.borderWidths("borderBlockStartWidth"),borderTopColor:U.colors("borderTopColor"),borderBlockStartColor:U.colors("borderBlockStartColor"),borderTopStyle:U.borderStyles("borderTopStyle"),borderBlockStartStyle:U.borderStyles("borderBlockStartStyle"),borderBottomWidth:U.borderWidths("borderBottomWidth"),borderBlockEndWidth:U.borderWidths("borderBlockEndWidth"),borderBottomColor:U.colors("borderBottomColor"),borderBlockEndColor:U.colors("borderBlockEndColor"),borderBottomStyle:U.borderStyles("borderBottomStyle"),borderBlockEndStyle:U.borderStyles("borderBlockEndStyle"),borderLeftWidth:U.borderWidths("borderLeftWidth"),borderInlineStartWidth:U.borderWidths("borderInlineStartWidth"),borderLeftColor:U.colors("borderLeftColor"),borderInlineStartColor:U.colors("borderInlineStartColor"),borderLeftStyle:U.borderStyles("borderLeftStyle"),borderInlineStartStyle:U.borderStyles("borderInlineStartStyle"),borderRightWidth:U.borderWidths("borderRightWidth"),borderInlineEndWidth:U.borderWidths("borderInlineEndWidth"),borderRightColor:U.colors("borderRightColor"),borderInlineEndColor:U.colors("borderInlineEndColor"),borderRightStyle:U.borderStyles("borderRightStyle"),borderInlineEndStyle:U.borderStyles("borderInlineEndStyle"),borderTopRadius:U.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:U.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:U.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:U.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(et,{rounded:et.borderRadius,roundedTop:et.borderTopRadius,roundedTopLeft:et.borderTopLeftRadius,roundedTopRight:et.borderTopRightRadius,roundedTopStart:et.borderStartStartRadius,roundedTopEnd:et.borderStartEndRadius,roundedBottom:et.borderBottomRadius,roundedBottomLeft:et.borderBottomLeftRadius,roundedBottomRight:et.borderBottomRightRadius,roundedBottomStart:et.borderEndStartRadius,roundedBottomEnd:et.borderEndEndRadius,roundedLeft:et.borderLeftRadius,roundedRight:et.borderRightRadius,roundedStart:et.borderInlineStartRadius,roundedEnd:et.borderInlineEndRadius,borderStart:et.borderInlineStart,borderEnd:et.borderInlineEnd,borderTopStartRadius:et.borderStartStartRadius,borderTopEndRadius:et.borderStartEndRadius,borderBottomStartRadius:et.borderEndStartRadius,borderBottomEndRadius:et.borderEndEndRadius,borderStartRadius:et.borderInlineStartRadius,borderEndRadius:et.borderInlineEndRadius,borderStartWidth:et.borderInlineStartWidth,borderEndWidth:et.borderInlineEndWidth,borderStartColor:et.borderInlineStartColor,borderEndColor:et.borderInlineEndColor,borderStartStyle:et.borderInlineStartStyle,borderEndStyle:et.borderInlineEndStyle});const kD={color:U.colors("color"),textColor:U.colors("color"),fill:U.colors("fill"),stroke:U.colors("stroke"),accentColor:U.colors("accentColor"),textFillColor:U.colors("textFillColor")},Uf={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:qe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:U.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:U.space("gap"),rowGap:U.space("rowGap"),columnGap:U.space("columnGap")};Object.assign(Uf,{flexDir:Uf.flexDirection});const Wr={width:U.sizesT("width"),inlineSize:U.sizesT("inlineSize"),height:U.sizes("height"),blockSize:U.sizes("blockSize"),boxSize:U.sizes(["width","height"]),minWidth:U.sizes("minWidth"),minInlineSize:U.sizes("minInlineSize"),minHeight:U.sizes("minHeight"),minBlockSize:U.sizes("minBlockSize"),maxWidth:U.sizes("maxWidth"),maxInlineSize:U.sizes("maxInlineSize"),maxHeight:U.sizes("maxHeight"),maxBlockSize:U.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var i,a;return{[`@media screen and (min-width: ${((a=(i=e.__breakpoints)==null?void 0:i.get(t))==null?void 0:a.minW)??t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var i,a;return{[`@media screen and (max-width: ${((a=(i=e.__breakpoints)==null?void 0:i.get(t))==null?void 0:a._minW)??t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:U.propT("float",qe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Wr,{w:Wr.width,h:Wr.height,minW:Wr.minWidth,maxW:Wr.maxWidth,minH:Wr.minHeight,maxH:Wr.maxHeight,overscroll:Wr.overscrollBehavior,overscrollX:Wr.overscrollBehaviorX,overscrollY:Wr.overscrollBehaviorY});const PD={filter:{transform:qe.filter},blur:U.blur("--chakra-blur"),brightness:U.propT("--chakra-brightness",qe.brightness),contrast:U.propT("--chakra-contrast",qe.contrast),hueRotate:U.propT("--chakra-hue-rotate",qe.hueRotate),invert:U.propT("--chakra-invert",qe.invert),saturate:U.propT("--chakra-saturate",qe.saturate),dropShadow:U.propT("--chakra-drop-shadow",qe.dropShadow),backdropFilter:{transform:qe.backdropFilter},backdropBlur:U.blur("--chakra-backdrop-blur"),backdropBrightness:U.propT("--chakra-backdrop-brightness",qe.brightness),backdropContrast:U.propT("--chakra-backdrop-contrast",qe.contrast),backdropHueRotate:U.propT("--chakra-backdrop-hue-rotate",qe.hueRotate),backdropInvert:U.propT("--chakra-backdrop-invert",qe.invert),backdropSaturate:U.propT("--chakra-backdrop-saturate",qe.saturate)},AD={ring:{transform:qe.ring},ringColor:U.colors("--chakra-ring-color"),ringOffset:U.prop("--chakra-ring-offset-width"),ringOffsetColor:U.colors("--chakra-ring-offset-color"),ringInset:U.prop("--chakra-ring-inset")},CD={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:qe.outline},outlineOffset:!0,outlineColor:U.colors("outlineColor")},vI={gridGap:U.space("gridGap"),gridColumnGap:U.space("gridColumnGap"),gridRowGap:U.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function xD(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}const RD=t=>{const e=new WeakMap;return(r,i,a,l)=>{if(typeof r>"u")return t(r,i,a);e.has(r)||e.set(r,new Map);const c=e.get(r);if(c.has(i))return c.get(i);const h=t(r,i,a,l);return c.set(i,h),h}},DD=RD(xD),ND={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},OD={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Ag=(t,e,n)=>{const r={},i=DD(t,e,{});for(const a in i)a in n&&n[a]!=null||(r[a]=i[a]);return r},MD={srOnly:{transform(t){return t===!0?ND:t==="focusable"?OD:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>Ag(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>Ag(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>Ag(e,t,n)}},Fc={position:!0,pos:U.prop("position"),zIndex:U.prop("zIndex","zIndices"),inset:U.spaceT("inset"),insetX:U.spaceT(["left","right"]),insetInline:U.spaceT("insetInline"),insetY:U.spaceT(["top","bottom"]),insetBlock:U.spaceT("insetBlock"),top:U.spaceT("top"),insetBlockStart:U.spaceT("insetBlockStart"),bottom:U.spaceT("bottom"),insetBlockEnd:U.spaceT("insetBlockEnd"),left:U.spaceT("left"),insetInlineStart:U.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:U.spaceT("right"),insetInlineEnd:U.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Fc,{insetStart:Fc.insetInlineStart,insetEnd:Fc.insetInlineEnd});const Dy={boxShadow:U.shadows("boxShadow"),mixBlendMode:!0,blendMode:U.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:U.prop("backgroundBlendMode"),opacity:!0};Object.assign(Dy,{shadow:Dy.boxShadow});const wt={margin:U.spaceT("margin"),marginTop:U.spaceT("marginTop"),marginBlockStart:U.spaceT("marginBlockStart"),marginRight:U.spaceT("marginRight"),marginInlineEnd:U.spaceT("marginInlineEnd"),marginBottom:U.spaceT("marginBottom"),marginBlockEnd:U.spaceT("marginBlockEnd"),marginLeft:U.spaceT("marginLeft"),marginInlineStart:U.spaceT("marginInlineStart"),marginX:U.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:U.spaceT("marginInline"),marginY:U.spaceT(["marginTop","marginBottom"]),marginBlock:U.spaceT("marginBlock"),padding:U.space("padding"),paddingTop:U.space("paddingTop"),paddingBlockStart:U.space("paddingBlockStart"),paddingRight:U.space("paddingRight"),paddingBottom:U.space("paddingBottom"),paddingBlockEnd:U.space("paddingBlockEnd"),paddingLeft:U.space("paddingLeft"),paddingInlineStart:U.space("paddingInlineStart"),paddingInlineEnd:U.space("paddingInlineEnd"),paddingX:U.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:U.space("paddingInline"),paddingY:U.space(["paddingTop","paddingBottom"]),paddingBlock:U.space("paddingBlock")};Object.assign(wt,{m:wt.margin,mt:wt.marginTop,mr:wt.marginRight,me:wt.marginInlineEnd,marginEnd:wt.marginInlineEnd,mb:wt.marginBottom,ml:wt.marginLeft,ms:wt.marginInlineStart,marginStart:wt.marginInlineStart,mx:wt.marginX,my:wt.marginY,p:wt.padding,pt:wt.paddingTop,py:wt.paddingY,px:wt.paddingX,pb:wt.paddingBottom,pl:wt.paddingLeft,ps:wt.paddingInlineStart,paddingStart:wt.paddingInlineStart,pr:wt.paddingRight,pe:wt.paddingInlineEnd,paddingEnd:wt.paddingInlineEnd});const VD={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:U.spaceT("scrollMargin"),scrollMarginTop:U.spaceT("scrollMarginTop"),scrollMarginBottom:U.spaceT("scrollMarginBottom"),scrollMarginLeft:U.spaceT("scrollMarginLeft"),scrollMarginRight:U.spaceT("scrollMarginRight"),scrollMarginX:U.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:U.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:U.spaceT("scrollPadding"),scrollPaddingTop:U.spaceT("scrollPaddingTop"),scrollPaddingBottom:U.spaceT("scrollPaddingBottom"),scrollPaddingLeft:U.spaceT("scrollPaddingLeft"),scrollPaddingRight:U.spaceT("scrollPaddingRight"),scrollPaddingX:U.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:U.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},LD={fontFamily:U.prop("fontFamily","fonts"),fontSize:U.prop("fontSize","fontSizes",qe.px),fontWeight:U.prop("fontWeight","fontWeights"),lineHeight:U.prop("lineHeight","lineHeights"),letterSpacing:U.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},FD={textDecorationColor:U.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:U.shadows("textShadow")},$D={clipPath:!0,transform:U.propT("transform",qe.transform),transformOrigin:!0,translateX:U.spaceT("--chakra-translate-x"),translateY:U.spaceT("--chakra-translate-y"),skewX:U.degreeT("--chakra-skew-x"),skewY:U.degreeT("--chakra-skew-y"),scaleX:U.prop("--chakra-scale-x"),scaleY:U.prop("--chakra-scale-y"),scale:U.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:U.degreeT("--chakra-rotate")},UD={listStyleType:!0,listStylePosition:!0,listStylePos:U.prop("listStylePosition"),listStyleImage:!0,listStyleImg:U.prop("listStyleImage")},zD={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:U.prop("transitionDuration","transition.duration"),transitionProperty:U.prop("transitionProperty","transition.property"),transitionTimingFunction:U.prop("transitionTimingFunction","transition.easing")},Uv=Fi({},mf,et,kD,Uf,Wr,PD,AD,CD,vI,MD,Fc,Dy,wt,VD,LD,FD,$D,UD,zD);Object.assign({},wt,Wr,Uf,vI,Fc);const BD=[...Object.keys(Uv),...gI],jD={...Uv,...iu},WD=t=>t in jD,HD=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,a={};for(const l in t){let c=Li(t[l],e);if(c==null)continue;if(c=li(c)&&n(c)?r(c):c,!Array.isArray(c)){a[l]=c;continue}const h=c.slice(0,i.length).length;for(let p=0;p<h;p+=1){const g=i==null?void 0:i[p];if(!g){a[l]=c[p];continue}a[g]=a[g]||{},c[p]!=null&&(a[g][l]=c[p])}}return a};function qD(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];a==="("?(r=!0,n+=a):a===")"?(r=!1,n+=a):a===","&&!r?(e.push(n),n=""):n+=a}return n=n.trim(),n&&e.push(n),e}function GD(t){return/^var\(--.+\)$/.test(t)}const KD=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!GD(e),QD=(t,e)=>{if(e==null)return e;const n=l=>{var c,h;return(h=(c=t.__cssMap)==null?void 0:c[l])==null?void 0:h.varRef},r=l=>n(l)??l,[i,a]=qD(e);return e=n(i)??r(a)??r(e),e};function YD(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(a,l=!1)=>{var g;const c=Li(a,r),h=HD(c)(r);let p={};for(let _ in h){const S=h[_];let T=Li(S,r);_ in n&&(_=n[_]),KD(_,T)&&(T=QD(r,T));let k=e[_];if(k===!0&&(k={property:_}),li(T)){p[_]=p[_]??{},p[_]=Fi({},p[_],i(T,!0));continue}let P=((g=k==null?void 0:k.transform)==null?void 0:g.call(k,T,r,c))??T;P=k!=null&&k.processResult?i(P,!0):P;const C=Li(k==null?void 0:k.property,r);if(!l&&(k!=null&&k.static)){const z=Li(k.static,r);p=Fi({},p,z)}if(C&&Array.isArray(C)){for(const z of C)p[z]=P;continue}if(C){C==="&"&&li(P)?p=Fi({},p,P):p[C]=P;continue}if(li(P)){p=Fi({},p,P);continue}p[_]=P}return p};return i}const _I=t=>e=>YD({theme:e,pseudos:iu,configs:Uv})(t);function KG(t){return t}function QG(t){return t}function yt(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function XD(t,e){if(Array.isArray(t))return t;if(li(t))return e(t);if(t!=null)return[t]}function JD(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function ZD(t){const e=t.__breakpoints;return function(r,i,a,l){var S,T;if(!e)return;const c={},h=XD(a,e.toArrayValue);if(!h)return c;const p=h.length,g=p===1,_=!!r.parts;for(let k=0;k<p;k++){const P=e.details[k],C=e.details[JD(h,k)],z=Tc(P.minW,C==null?void 0:C._minW),q=Li((S=r[i])==null?void 0:S[h[k]],l);if(q){if(_){(T=r.parts)==null||T.forEach(G=>{Fi(c,{[G]:g?q[G]:{[z]:q[G]}})});continue}if(!_){g?Fi(c,q):c[z]=q;continue}c[z]=q}}return c}}function e2(t){return e=>{const{variant:n,size:r,theme:i}=e,a=ZD(i);return Fi({},Li(t.baseStyle??{},e),a(t,"sizes",r,e),a(t,"variants",n,e))}}function yp(t){return pI(t,["styleConfig","size","variant","colorScheme"])}function wI(t){return li(t)&&t.reference?t.reference:String(t)}const vp=(t,...e)=>e.map(wI).join(` ${t} `).replace(/calc/g,""),ob=(...t)=>`calc(${vp("+",...t)})`,ab=(...t)=>`calc(${vp("-",...t)})`,Ny=(...t)=>`calc(${vp("*",...t)})`,lb=(...t)=>`calc(${vp("/",...t)})`,ub=t=>{const e=wI(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Ny(e,-1)},Ss=Object.assign(t=>({add:(...e)=>Ss(ob(t,...e)),subtract:(...e)=>Ss(ab(t,...e)),multiply:(...e)=>Ss(Ny(t,...e)),divide:(...e)=>Ss(lb(t,...e)),negate:()=>Ss(ub(t)),toString:()=>t.toString()}),{add:ob,subtract:ab,multiply:Ny,divide:lb,negate:ub});function t2(t,e="-"){return t.replace(/\s+/g,e)}function n2(t){const e=t2(t.toString());return i2(r2(e))}function r2(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function i2(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function s2(t,e=""){return[e,t].filter(Boolean).join("-")}function o2(t,e){return`var(${t}${e?`, ${e}`:""})`}function a2(t,e=""){return n2(`--${s2(t,e)}`)}function Ae(t,e,n){const r=a2(t,n);return{variable:r,reference:o2(r,e)}}function l2(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,a]=r;n[i]=Ae(`${t}-${i}`,a);continue}n[r]=Ae(`${t}-${r}`)}return n}const u2=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function c2(t){return rD(t,u2)}function d2(t){return t.semanticTokens}function h2(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}function f2(t){const e=c2(t),n=d2(t),r=a=>gI.includes(a)||a==="default",i={};return nb(e,(a,l)=>{a!=null&&(i[l.join(".")]={isSemantic:!1,value:a})}),nb(n,(a,l)=>{a!=null&&(i[l.join(".")]={isSemantic:!0,value:a})},{stop:a=>Object.keys(a).every(r)}),i}function cb(t,e){return Ae(String(t).replace(/\./g,"-"),void 0,e)}function p2(t){var l;const e=f2(t),n=(l=t.config)==null?void 0:l.cssVarPrefix;let r={};const i={};function a(c,h){const g=[String(c).split(".")[0],h].join(".");if(!e[g])return h;const{reference:S}=cb(g,n);return S}for(const[c,h]of Object.entries(e)){const{isSemantic:p,value:g}=h,{variable:_,reference:S}=cb(c,n);if(!p){if(c.startsWith("space")){const k=c.split("."),[P,...C]=k,z=`${P}.-${C.join(".")}`,q=Ss.negate(g),G=Ss.negate(S);i[z]={value:q,var:_,varRef:G}}r[_]=g,i[c]={value:g,var:_,varRef:S};continue}const T=li(g)?g:{default:g};r=Fi(r,Object.entries(T).reduce((k,[P,C])=>{if(!C)return k;const z=a(c,`${C}`);if(P==="default")return k[_]=z,k;const q=(iu==null?void 0:iu[P])??P;return k[q]={[_]:z},k},{})),i[c]={value:S,var:_,varRef:S}}return{cssVars:r,cssMap:i}}function m2(t){const e=h2(t),{cssMap:n,cssVars:r}=p2(e);return Object.assign(e,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...r},__cssMap:n,__breakpoints:JR(e.breakpoints)}),e}function it(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...g){r();for(const _ of g)e[_]=h(_);return it(t,e)}function a(...g){for(const _ of g)_ in e||(e[_]=h(_));return it(t,e)}function l(){return Object.fromEntries(Object.entries(e).map(([_,S])=>[_,S.selector]))}function c(){return Object.fromEntries(Object.entries(e).map(([_,S])=>[_,S.className]))}function h(g){const T=`chakra-${(["container","root"].includes(g??"")?[t]:[t,g]).filter(Boolean).join("__")}`;return{className:T,selector:`.${T}`,toString:()=>g}}return{parts:i,toPart:h,extend:a,selectors:l,classnames:c,get keys(){return Object.keys(e)},__type:{}}}const g2=it("accordion").parts("root","container","button","panel","icon"),y2=it("alert").parts("title","description","container","icon","spinner"),v2=it("avatar").parts("label","badge","container","excessLabel","group"),_2=it("breadcrumb").parts("link","item","container","separator");it("button").parts();const w2=it("checkbox").parts("control","icon","container","label");it("progress").parts("track","filledTrack","label");const S2=it("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),b2=it("editable").parts("preview","input","textarea"),T2=it("form").parts("container","requiredIndicator","helperText"),E2=it("formError").parts("text","icon"),I2=it("input").parts("addon","field","element","group"),k2=it("list").parts("container","item","icon"),P2=it("menu").parts("button","list","item","groupTitle","icon","command","divider"),A2=it("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),C2=it("numberinput").parts("root","field","stepperGroup","stepper");it("pininput").parts("field");const x2=it("popover").parts("content","header","body","footer","popper","arrow","closeButton"),R2=it("progress").parts("label","filledTrack","track"),D2=it("radio").parts("container","control","label"),N2=it("select").parts("field","icon"),O2=it("slider").parts("container","track","thumb","filledTrack","mark"),M2=it("stat").parts("container","label","helpText","number","icon"),V2=it("switch").parts("container","track","thumb","label"),L2=it("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),F2=it("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),$2=it("tag").parts("container","label","closeButton"),U2=it("card").parts("container","header","body","footer");it("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:z2,defineMultiStyleConfig:B2}=yt(g2.keys),j2={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},W2={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},H2={pt:"2",px:"4",pb:"5"},q2={fontSize:"1.25em"},G2=z2({container:j2,button:W2,panel:H2,icon:q2}),K2=B2({baseStyle:G2});function Pa(t,e,n){return Math.min(Math.max(t,n),e)}class Q2 extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Ic=Q2;function zv(t){if(typeof t!="string")throw new Ic(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=rN.test(t)?J2(t):t;const n=Z2.exec(e);if(n){const l=Array.from(n).slice(1);return[...l.slice(0,3).map(c=>parseInt(ed(c,2),16)),parseInt(ed(l[3]||"f",2),16)/255]}const r=eN.exec(e);if(r){const l=Array.from(r).slice(1);return[...l.slice(0,3).map(c=>parseInt(c,16)),parseInt(l[3]||"ff",16)/255]}const i=tN.exec(e);if(i){const l=Array.from(i).slice(1);return[...l.slice(0,3).map(c=>parseInt(c,10)),parseFloat(l[3]||"1")]}const a=nN.exec(e);if(a){const[l,c,h,p]=Array.from(a).slice(1).map(parseFloat);if(Pa(0,100,c)!==c)throw new Ic(t);if(Pa(0,100,h)!==h)throw new Ic(t);return[...iN(l,c,h),Number.isNaN(p)?1:p]}throw new Ic(t)}function Y2(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const db=t=>parseInt(t.replace(/_/g,""),36),X2="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=db(e.substring(0,3)),r=db(e.substring(3)).toString(16);let i="";for(let a=0;a<6-r.length;a++)i+="0";return t[n]=`${i}${r}`,t},{});function J2(t){const e=t.toLowerCase().trim(),n=X2[Y2(e)];if(!n)throw new Ic(t);return`#${n}`}const ed=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),Z2=new RegExp(`^#${ed("([a-f0-9])",3)}([a-f0-9])?$`,"i"),eN=new RegExp(`^#${ed("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),tN=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${ed(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),nN=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,rN=/^[a-z]+$/i,hb=t=>Math.round(t*255),iN=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(hb);const i=(t%360+360)%360/60,a=(1-Math.abs(2*r-1))*(e/100),l=a*(1-Math.abs(i%2-1));let c=0,h=0,p=0;i>=0&&i<1?(c=a,h=l):i>=1&&i<2?(c=l,h=a):i>=2&&i<3?(h=a,p=l):i>=3&&i<4?(h=l,p=a):i>=4&&i<5?(c=l,p=a):i>=5&&i<6&&(c=a,p=l);const g=r-a/2,_=c+g,S=h+g,T=p+g;return[_,S,T].map(hb)};function sN(t,e,n,r){return`rgba(${Pa(0,255,t).toFixed()}, ${Pa(0,255,e).toFixed()}, ${Pa(0,255,n).toFixed()}, ${parseFloat(Pa(0,1,r).toFixed(3))})`}function oN(t,e){const[n,r,i,a]=zv(t);return sN(n,r,i,a-e)}function aN(t){const[e,n,r,i]=zv(t);let a=l=>{const c=Pa(0,255,l).toString(16);return c.length===1?`0${c}`:c};return`#${a(e)}${a(n)}${a(r)}${i<1?a(Math.round(i*255)):""}`}const lN=t=>Object.keys(t).length===0;function uN(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}const Wn=(t,e,n)=>{const r=uN(t,`colors.${e}`,e);try{return aN(r),r}catch{return n??"#000000"}},cN=t=>{const[e,n,r]=zv(t);return(e*299+n*587+r*114)/1e3},dN=t=>e=>{const n=Wn(e,t);return cN(n)<128?"dark":"light"},hN=t=>e=>dN(t)(e)==="dark",gu=(t,e)=>n=>{const r=Wn(n,t);return oN(r,1-e)};function fb(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const fN=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function pN(t){const e=fN();return!t||lN(t)?e:t.string&&t.colors?gN(t.string,t.colors):t.string&&!t.colors?mN(t.string):t.colors&&!t.string?yN(t.colors):e}function mN(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function gN(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function yN(t){return t[Math.floor(Math.random()*t.length)]}function Pe(t,e){return n=>n.colorMode==="dark"?e:t}function Bv(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function SI(t){return li(t)&&t.reference?t.reference:String(t)}const _p=(t,...e)=>e.map(SI).join(` ${t} `).replace(/calc/g,""),pb=(...t)=>`calc(${_p("+",...t)})`,mb=(...t)=>`calc(${_p("-",...t)})`,Oy=(...t)=>`calc(${_p("*",...t)})`,gb=(...t)=>`calc(${_p("/",...t)})`,yb=t=>{const e=SI(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Oy(e,-1)},bs=Object.assign(t=>({add:(...e)=>bs(pb(t,...e)),subtract:(...e)=>bs(mb(t,...e)),multiply:(...e)=>bs(Oy(t,...e)),divide:(...e)=>bs(gb(t,...e)),negate:()=>bs(yb(t)),toString:()=>t.toString()}),{add:pb,subtract:mb,multiply:Oy,divide:gb,negate:yb});function vN(t){return!Number.isInteger(parseFloat(t.toString()))}function _N(t,e="-"){return t.replace(/\s+/g,e)}function bI(t){const e=_N(t.toString());return e.includes("\\.")?t:vN(t)?e.replace(".","\\."):t}function wN(t,e=""){return[e,bI(t)].filter(Boolean).join("-")}function SN(t,e){return`var(${bI(t)}${e?`, ${e}`:""})`}function bN(t,e=""){return`--${wN(t,e)}`}function tn(t,e){const n=bN(t,e==null?void 0:e.prefix);return{variable:n,reference:SN(n,TN(e==null?void 0:e.fallback))}}function TN(t){return t==null?void 0:t.reference}const{definePartsStyle:Ed,defineMultiStyleConfig:EN}=yt(y2.keys),Er=Ae("alert-fg"),Ds=Ae("alert-bg"),IN=Ed({container:{bg:Ds.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Er.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Er.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function jv(t){const{theme:e,colorScheme:n}=t,r=gu(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}const kN=Ed(t=>{const{colorScheme:e}=t,n=jv(t);return{container:{[Er.variable]:`colors.${e}.600`,[Ds.variable]:n.light,_dark:{[Er.variable]:`colors.${e}.200`,[Ds.variable]:n.dark}}}}),PN=Ed(t=>{const{colorScheme:e}=t,n=jv(t);return{container:{[Er.variable]:`colors.${e}.600`,[Ds.variable]:n.light,_dark:{[Er.variable]:`colors.${e}.200`,[Ds.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Er.reference}}}),AN=Ed(t=>{const{colorScheme:e}=t,n=jv(t);return{container:{[Er.variable]:`colors.${e}.600`,[Ds.variable]:n.light,_dark:{[Er.variable]:`colors.${e}.200`,[Ds.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Er.reference}}}),CN=Ed(t=>{const{colorScheme:e}=t;return{container:{[Er.variable]:"colors.white",[Ds.variable]:`colors.${e}.600`,_dark:{[Er.variable]:"colors.gray.900",[Ds.variable]:`colors.${e}.200`},color:Er.reference}}}),xN={subtle:kN,"left-accent":PN,"top-accent":AN,solid:CN},RN=EN({baseStyle:IN,variants:xN,defaultProps:{variant:"subtle",colorScheme:"blue"}}),TI={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},DN={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},NN={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},EI={...TI,...DN,container:NN},ON=t=>typeof t=="function";function Hn(t,...e){return ON(t)?t(...e):t}const{definePartsStyle:II,defineMultiStyleConfig:MN}=yt(v2.keys),su=Ae("avatar-border-color"),$c=Ae("avatar-bg"),td=Ae("avatar-font-size"),yu=Ae("avatar-size"),VN={borderRadius:"full",border:"0.2em solid",borderColor:su.reference,[su.variable]:"white",_dark:{[su.variable]:"colors.gray.800"}},LN={bg:$c.reference,fontSize:td.reference,width:yu.reference,height:yu.reference,lineHeight:"1",[$c.variable]:"colors.gray.200",_dark:{[$c.variable]:"colors.whiteAlpha.400"}},FN=t=>{const{name:e,theme:n}=t,r=e?pN({string:e}):"colors.gray.400",i=hN(r)(n);let a="white";return i||(a="gray.800"),{bg:$c.reference,fontSize:td.reference,color:a,borderColor:su.reference,verticalAlign:"top",width:yu.reference,height:yu.reference,"&:not([data-loaded])":{[$c.variable]:r},[su.variable]:"colors.white",_dark:{[su.variable]:"colors.gray.800"}}},$N={fontSize:td.reference,lineHeight:"1"},UN=II(t=>({badge:Hn(VN,t),excessLabel:Hn(LN,t),container:Hn(FN,t),label:$N}));function yo(t){const e=t!=="100%"?EI[t]:void 0;return II({container:{[yu.variable]:e??t,[td.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[yu.variable]:e??t,[td.variable]:`calc(${e??t} / 2.5)`}})}const zN={"2xs":yo(4),xs:yo(6),sm:yo(8),md:yo(12),lg:yo(16),xl:yo(24),"2xl":yo(32),full:yo("100%")},BN=MN({baseStyle:UN,sizes:zN,defaultProps:{size:"md"}}),$t=l2("badge",["bg","color","shadow"]),jN={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:$t.bg.reference,color:$t.color.reference,boxShadow:$t.shadow.reference},WN=t=>{const{colorScheme:e,theme:n}=t,r=gu(`${e}.500`,.6)(n);return{[$t.bg.variable]:`colors.${e}.500`,[$t.color.variable]:"colors.white",_dark:{[$t.bg.variable]:r,[$t.color.variable]:"colors.whiteAlpha.800"}}},HN=t=>{const{colorScheme:e,theme:n}=t,r=gu(`${e}.200`,.16)(n);return{[$t.bg.variable]:`colors.${e}.100`,[$t.color.variable]:`colors.${e}.800`,_dark:{[$t.bg.variable]:r,[$t.color.variable]:`colors.${e}.200`}}},qN=t=>{const{colorScheme:e,theme:n}=t,r=gu(`${e}.200`,.8)(n);return{[$t.color.variable]:`colors.${e}.500`,_dark:{[$t.color.variable]:r},[$t.shadow.variable]:`inset 0 0 0px 1px ${$t.color.reference}`}},GN={solid:WN,subtle:HN,outline:qN},Uc={baseStyle:jN,variants:GN,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:KN,definePartsStyle:QN}=yt(_2.keys),Cg=Ae("breadcrumb-link-decor"),YN={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Cg.reference,[Cg.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Cg.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},XN=QN({link:YN}),JN=KN({baseStyle:XN}),ZN={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},kI=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:Pe("gray.800","whiteAlpha.900")(t),_hover:{bg:Pe("gray.100","whiteAlpha.200")(t)},_active:{bg:Pe("gray.200","whiteAlpha.300")(t)}};const r=gu(`${e}.200`,.12)(n),i=gu(`${e}.200`,.24)(n);return{color:Pe(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Pe(`${e}.50`,r)(t)},_active:{bg:Pe(`${e}.100`,i)(t)}}},eO=t=>{const{colorScheme:e}=t,n=Pe("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Hn(kI,t)}},tO={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},nO=t=>{const{colorScheme:e}=t;if(e==="gray"){const c=Pe("gray.100","whiteAlpha.200")(t);return{bg:c,color:Pe("gray.800","whiteAlpha.900")(t),_hover:{bg:Pe("gray.200","whiteAlpha.300")(t),_disabled:{bg:c}},_active:{bg:Pe("gray.300","whiteAlpha.400")(t)}}}const{bg:n=`${e}.500`,color:r="white",hoverBg:i=`${e}.600`,activeBg:a=`${e}.700`}=tO[e]??{},l=Pe(n,`${e}.200`)(t);return{bg:l,color:Pe(r,"gray.800")(t),_hover:{bg:Pe(i,`${e}.300`)(t),_disabled:{bg:l}},_active:{bg:Pe(a,`${e}.400`)(t)}}},rO=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Pe(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Pe(`${e}.700`,`${e}.500`)(t)}}},iO={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},sO={ghost:kI,outline:eO,solid:nO,link:rO,unstyled:iO},oO={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},aO={baseStyle:ZN,variants:sO,sizes:oO,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:xa,defineMultiStyleConfig:lO}=yt(U2.keys),zf=Ae("card-bg"),As=Ae("card-padding"),PI=Ae("card-shadow"),gf=Ae("card-radius"),AI=Ae("card-border-width","0"),CI=Ae("card-border-color"),uO=xa({container:{[zf.variable]:"colors.chakra-body-bg",backgroundColor:zf.reference,boxShadow:PI.reference,borderRadius:gf.reference,color:"chakra-body-text",borderWidth:AI.reference,borderColor:CI.reference},body:{padding:As.reference,flex:"1 1 0%"},header:{padding:As.reference},footer:{padding:As.reference}}),cO={sm:xa({container:{[gf.variable]:"radii.base",[As.variable]:"space.3"}}),md:xa({container:{[gf.variable]:"radii.md",[As.variable]:"space.5"}}),lg:xa({container:{[gf.variable]:"radii.xl",[As.variable]:"space.7"}})},dO={elevated:xa({container:{[PI.variable]:"shadows.base",_dark:{[zf.variable]:"colors.gray.700"}}}),outline:xa({container:{[AI.variable]:"1px",[CI.variable]:"colors.chakra-border-color"}}),filled:xa({container:{[zf.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[As.variable]:0},header:{[As.variable]:0},footer:{[As.variable]:0}}},hO=lO({baseStyle:uO,variants:dO,sizes:cO,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:yf,defineMultiStyleConfig:fO}=yt(w2.keys),zc=Ae("checkbox-size"),pO=t=>{const{colorScheme:e}=t;return{w:zc.reference,h:zc.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Pe(`${e}.500`,`${e}.200`)(t),borderColor:Pe(`${e}.500`,`${e}.200`)(t),color:Pe("white","gray.900")(t),_hover:{bg:Pe(`${e}.600`,`${e}.300`)(t),borderColor:Pe(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Pe("gray.200","transparent")(t),bg:Pe("gray.200","whiteAlpha.300")(t),color:Pe("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Pe(`${e}.500`,`${e}.200`)(t),borderColor:Pe(`${e}.500`,`${e}.200`)(t),color:Pe("white","gray.900")(t)},_disabled:{bg:Pe("gray.100","whiteAlpha.100")(t),borderColor:Pe("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Pe("red.500","red.300")(t)}}},mO={_disabled:{cursor:"not-allowed"}},gO={userSelect:"none",_disabled:{opacity:.4}},yO={transitionProperty:"transform",transitionDuration:"normal"},vO=yf(t=>({icon:yO,container:mO,control:Hn(pO,t),label:gO})),_O={sm:yf({control:{[zc.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:yf({control:{[zc.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:yf({control:{[zc.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},bo=fO({baseStyle:vO,sizes:_O,defaultProps:{size:"md",colorScheme:"blue"}}),Bc=tn("close-button-size"),mc=tn("close-button-bg"),wO={w:[Bc.reference],h:[Bc.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[mc.variable]:"colors.blackAlpha.100",_dark:{[mc.variable]:"colors.whiteAlpha.100"}},_active:{[mc.variable]:"colors.blackAlpha.200",_dark:{[mc.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:mc.reference},SO={lg:{[Bc.variable]:"sizes.10",fontSize:"md"},md:{[Bc.variable]:"sizes.8",fontSize:"xs"},sm:{[Bc.variable]:"sizes.6",fontSize:"2xs"}},bO={baseStyle:wO,sizes:SO,defaultProps:{size:"md"}},{variants:TO,defaultProps:EO}=Uc,IO={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:$t.bg.reference,color:$t.color.reference,boxShadow:$t.shadow.reference},kO={baseStyle:IO,variants:TO,defaultProps:EO},PO={w:"100%",mx:"auto",maxW:"prose",px:"4"},AO={baseStyle:PO},CO={opacity:.6,borderColor:"inherit"},xO={borderStyle:"solid"},RO={borderStyle:"dashed"},DO={solid:xO,dashed:RO},NO={baseStyle:CO,variants:DO,defaultProps:{variant:"solid"}},{definePartsStyle:My,defineMultiStyleConfig:OO}=yt(S2.keys),xg=Ae("drawer-bg"),Rg=Ae("drawer-box-shadow");function Ul(t){return My(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const MO={bg:"blackAlpha.600",zIndex:"modal"},VO={display:"flex",zIndex:"modal",justifyContent:"center"},LO=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[xg.variable]:"colors.white",[Rg.variable]:"shadows.lg",_dark:{[xg.variable]:"colors.gray.700",[Rg.variable]:"shadows.dark-lg"},bg:xg.reference,boxShadow:Rg.reference}},FO={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},$O={position:"absolute",top:"2",insetEnd:"3"},UO={px:"6",py:"2",flex:"1",overflow:"auto"},zO={px:"6",py:"4"},BO=My(t=>({overlay:MO,dialogContainer:VO,dialog:Hn(LO,t),header:FO,closeButton:$O,body:UO,footer:zO})),jO={xs:Ul("xs"),sm:Ul("md"),md:Ul("lg"),lg:Ul("2xl"),xl:Ul("4xl"),full:Ul("full")},WO=OO({baseStyle:BO,sizes:jO,defaultProps:{size:"xs"}}),{definePartsStyle:HO,defineMultiStyleConfig:qO}=yt(b2.keys),GO={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},KO={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},QO={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},YO=HO({preview:GO,input:KO,textarea:QO}),XO=qO({baseStyle:YO}),{definePartsStyle:JO,defineMultiStyleConfig:ZO}=yt(T2.keys),ou=Ae("form-control-color"),eM={marginStart:"1",[ou.variable]:"colors.red.500",_dark:{[ou.variable]:"colors.red.300"},color:ou.reference},tM={mt:"2",[ou.variable]:"colors.gray.600",_dark:{[ou.variable]:"colors.whiteAlpha.600"},color:ou.reference,lineHeight:"normal",fontSize:"sm"},nM=JO({container:{width:"100%",position:"relative"},requiredIndicator:eM,helperText:tM}),rM=ZO({baseStyle:nM}),{definePartsStyle:iM,defineMultiStyleConfig:sM}=yt(E2.keys),au=Ae("form-error-color"),oM={[au.variable]:"colors.red.500",_dark:{[au.variable]:"colors.red.300"},color:au.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},aM={marginEnd:"0.5em",[au.variable]:"colors.red.500",_dark:{[au.variable]:"colors.red.300"},color:au.reference},lM=iM({text:oM,icon:aM}),uM=sM({baseStyle:lM}),cM={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},dM={baseStyle:cM},hM={fontFamily:"heading",fontWeight:"bold"},fM={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},pM={baseStyle:hM,sizes:fM,defaultProps:{size:"xl"}},{definePartsStyle:Es,defineMultiStyleConfig:mM}=yt(I2.keys),ql=Ae("input-height"),Gl=Ae("input-font-size"),Kl=Ae("input-padding"),Ql=Ae("input-border-radius"),gM=Es({addon:{height:ql.reference,fontSize:Gl.reference,px:Kl.reference,borderRadius:Ql.reference},field:{width:"100%",height:ql.reference,fontSize:Gl.reference,px:Kl.reference,borderRadius:Ql.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),vo={lg:{[Gl.variable]:"fontSizes.lg",[Kl.variable]:"space.4",[Ql.variable]:"radii.md",[ql.variable]:"sizes.12"},md:{[Gl.variable]:"fontSizes.md",[Kl.variable]:"space.4",[Ql.variable]:"radii.md",[ql.variable]:"sizes.10"},sm:{[Gl.variable]:"fontSizes.sm",[Kl.variable]:"space.3",[Ql.variable]:"radii.sm",[ql.variable]:"sizes.8"},xs:{[Gl.variable]:"fontSizes.xs",[Kl.variable]:"space.2",[Ql.variable]:"radii.sm",[ql.variable]:"sizes.6"}},yM={lg:Es({field:vo.lg,group:vo.lg}),md:Es({field:vo.md,group:vo.md}),sm:Es({field:vo.sm,group:vo.sm}),xs:Es({field:vo.xs,group:vo.xs})};function Wv(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Pe("blue.500","blue.300")(t),errorBorderColor:n||Pe("red.500","red.300")(t)}}const vM=Es(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Wv(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Pe("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wn(e,r),boxShadow:`0 0 0 1px ${Wn(e,r)}`},_focusVisible:{zIndex:1,borderColor:Wn(e,n),boxShadow:`0 0 0 1px ${Wn(e,n)}`}},addon:{border:"1px solid",borderColor:Pe("inherit","whiteAlpha.50")(t),bg:Pe("gray.100","whiteAlpha.300")(t)}}}),_M=Es(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Wv(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Pe("gray.100","whiteAlpha.50")(t),_hover:{bg:Pe("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wn(e,r)},_focusVisible:{bg:"transparent",borderColor:Wn(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Pe("gray.100","whiteAlpha.50")(t)}}}),wM=Es(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Wv(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wn(e,r),boxShadow:`0px 1px 0px 0px ${Wn(e,r)}`},_focusVisible:{borderColor:Wn(e,n),boxShadow:`0px 1px 0px 0px ${Wn(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),SM=Es({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),bM={outline:vM,filled:_M,flushed:wM,unstyled:SM},rt=mM({baseStyle:gM,sizes:yM,variants:bM,defaultProps:{size:"md",variant:"outline"}}),Dg=Ae("kbd-bg"),TM={[Dg.variable]:"colors.gray.100",_dark:{[Dg.variable]:"colors.whiteAlpha.100"},bg:Dg.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},EM={baseStyle:TM},IM={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},kM={baseStyle:IM},{defineMultiStyleConfig:PM,definePartsStyle:AM}=yt(k2.keys),CM={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},xM=AM({icon:CM}),RM=PM({baseStyle:xM}),{defineMultiStyleConfig:DM,definePartsStyle:NM}=yt(P2.keys),Ni=Ae("menu-bg"),Ng=Ae("menu-shadow"),OM={[Ni.variable]:"#fff",[Ng.variable]:"shadows.sm",_dark:{[Ni.variable]:"colors.gray.700",[Ng.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Ni.reference,boxShadow:Ng.reference},MM={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ni.variable]:"colors.gray.100",_dark:{[Ni.variable]:"colors.whiteAlpha.100"}},_active:{[Ni.variable]:"colors.gray.200",_dark:{[Ni.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ni.variable]:"colors.gray.100",_dark:{[Ni.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ni.reference},VM={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},LM={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},FM={opacity:.6},$M={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},UM={transitionProperty:"common",transitionDuration:"normal"},zM=NM({button:UM,list:OM,item:MM,groupTitle:VM,icon:LM,command:FM,divider:$M}),BM=DM({baseStyle:zM}),{defineMultiStyleConfig:jM,definePartsStyle:Vy}=yt(A2.keys),Og=Ae("modal-bg"),Mg=Ae("modal-shadow"),WM={bg:"blackAlpha.600",zIndex:"modal"},HM=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},qM=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[Og.variable]:"colors.white",[Mg.variable]:"shadows.lg",_dark:{[Og.variable]:"colors.gray.700",[Mg.variable]:"shadows.dark-lg"},bg:Og.reference,boxShadow:Mg.reference}},GM={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},KM={position:"absolute",top:"2",insetEnd:"3"},QM=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},YM={px:"6",py:"4"},XM=Vy(t=>({overlay:WM,dialogContainer:Hn(HM,t),dialog:Hn(qM,t),header:GM,closeButton:KM,body:Hn(QM,t),footer:YM}));function si(t){return Vy(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const JM={xs:si("xs"),sm:si("sm"),md:si("md"),lg:si("lg"),xl:si("xl"),"2xl":si("2xl"),"3xl":si("3xl"),"4xl":si("4xl"),"5xl":si("5xl"),"6xl":si("6xl"),full:si("full")},ZM=jM({baseStyle:XM,sizes:JM,defaultProps:{size:"md"}}),xI={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:eV,definePartsStyle:RI}=yt(C2.keys),Hv=tn("number-input-stepper-width"),DI=tn("number-input-input-padding"),tV=bs(Hv).add("0.5rem").toString(),Vg=tn("number-input-bg"),Lg=tn("number-input-color"),Fg=tn("number-input-border-color"),nV={[Hv.variable]:"sizes.6",[DI.variable]:tV},rV=t=>{var e;return((e=Hn(rt.baseStyle,t))==null?void 0:e.field)??{}},iV={width:Hv.reference},sV={borderStart:"1px solid",borderStartColor:Fg.reference,color:Lg.reference,bg:Vg.reference,[Lg.variable]:"colors.chakra-body-text",[Fg.variable]:"colors.chakra-border-color",_dark:{[Lg.variable]:"colors.whiteAlpha.800",[Fg.variable]:"colors.whiteAlpha.300"},_active:{[Vg.variable]:"colors.gray.200",_dark:{[Vg.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},oV=RI(t=>({root:nV,field:Hn(rV,t)??{},stepperGroup:iV,stepper:sV}));function Hh(t){var a,l;const e=(a=rt.sizes)==null?void 0:a[t],n={lg:"md",md:"md",sm:"sm",xs:"sm"},r=((l=e.field)==null?void 0:l.fontSize)??"md",i=xI.fontSizes[r];return RI({field:{...e.field,paddingInlineEnd:DI.reference,verticalAlign:"top"},stepper:{fontSize:bs(i).multiply(.75).toString(),_first:{borderTopEndRadius:n[t]},_last:{borderBottomEndRadius:n[t],mt:"-1px",borderTopWidth:1}}})}const aV={xs:Hh("xs"),sm:Hh("sm"),md:Hh("md"),lg:Hh("lg")},lV=eV({baseStyle:oV,sizes:aV,variants:rt.variants,defaultProps:rt.defaultProps});var K1;const uV={...(K1=rt.baseStyle)==null?void 0:K1.field,textAlign:"center"},cV={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var Q1;const dV={outline:t=>{var e,n;return((n=Hn((e=rt.variants)==null?void 0:e.outline,t))==null?void 0:n.field)??{}},flushed:t=>{var e,n;return((n=Hn((e=rt.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)??{}},filled:t=>{var e,n;return((n=Hn((e=rt.variants)==null?void 0:e.filled,t))==null?void 0:n.field)??{}},unstyled:((Q1=rt.variants)==null?void 0:Q1.unstyled.field)??{}},hV={baseStyle:uV,sizes:cV,variants:dV,defaultProps:rt.defaultProps},{defineMultiStyleConfig:fV,definePartsStyle:pV}=yt(x2.keys),qh=tn("popper-bg"),mV=tn("popper-arrow-bg"),vb=tn("popper-arrow-shadow-color"),gV={zIndex:"popover"},yV={[qh.variable]:"colors.white",bg:qh.reference,[mV.variable]:qh.reference,[vb.variable]:"colors.gray.200",_dark:{[qh.variable]:"colors.gray.700",[vb.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},vV={px:3,py:2,borderBottomWidth:"1px"},_V={px:3,py:2},wV={px:3,py:2,borderTopWidth:"1px"},SV={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},bV=pV({popper:gV,content:yV,header:vV,body:_V,footer:wV,closeButton:SV}),TV=fV({baseStyle:bV}),{defineMultiStyleConfig:EV,definePartsStyle:kc}=yt(R2.keys),IV=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,a=Pe(fb(),fb("1rem","rgba(0,0,0,0.1)"))(t),l=Pe(`${e}.500`,`${e}.200`)(t),c=`linear-gradient(
    to right,
    transparent 0%,
    ${Wn(n,l)} 50%,
    transparent 100%
  )`;return{...!r&&i&&a,...r?{bgImage:c}:{bgColor:l}}},kV={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},PV=t=>({bg:Pe("gray.100","whiteAlpha.300")(t)}),AV=t=>({transitionProperty:"common",transitionDuration:"slow",...IV(t)}),CV=kc(t=>({label:kV,filledTrack:AV(t),track:PV(t)})),xV={xs:kc({track:{h:"1"}}),sm:kc({track:{h:"2"}}),md:kc({track:{h:"3"}}),lg:kc({track:{h:"4"}})},RV=EV({sizes:xV,baseStyle:CV,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:DV,definePartsStyle:vf}=yt(D2.keys),NV=t=>{var n;const e=(n=Hn(bo.baseStyle,t))==null?void 0:n.control;return{...e,borderRadius:"full",_checked:{...e==null?void 0:e._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},OV=vf(t=>{var e,n;return{label:(e=bo.baseStyle)==null?void 0:e.call(bo,t).label,container:(n=bo.baseStyle)==null?void 0:n.call(bo,t).container,control:NV(t)}}),MV={md:vf({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:vf({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:vf({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},VV=DV({baseStyle:OV,sizes:MV,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:LV,definePartsStyle:FV}=yt(N2.keys),Gh=Ae("select-bg");var Y1;const $V={...(Y1=rt.baseStyle)==null?void 0:Y1.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Gh.reference,[Gh.variable]:"colors.white",_dark:{[Gh.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Gh.reference}},UV={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},zV=FV({field:$V,icon:UV}),Kh={paddingInlineEnd:"8"};var X1,J1,Z1,eI,tI,nI,rI,iI;const BV={lg:{...(X1=rt.sizes)==null?void 0:X1.lg,field:{...(J1=rt.sizes)==null?void 0:J1.lg.field,...Kh}},md:{...(Z1=rt.sizes)==null?void 0:Z1.md,field:{...(eI=rt.sizes)==null?void 0:eI.md.field,...Kh}},sm:{...(tI=rt.sizes)==null?void 0:tI.sm,field:{...(nI=rt.sizes)==null?void 0:nI.sm.field,...Kh}},xs:{...(rI=rt.sizes)==null?void 0:rI.xs,field:{...(iI=rt.sizes)==null?void 0:iI.xs.field,...Kh},icon:{insetEnd:"1"}}},jV=LV({baseStyle:zV,sizes:BV,variants:rt.variants,defaultProps:rt.defaultProps}),$g=Ae("skeleton-start-color"),Ug=Ae("skeleton-end-color"),WV={[$g.variable]:"colors.gray.100",[Ug.variable]:"colors.gray.400",_dark:{[$g.variable]:"colors.gray.800",[Ug.variable]:"colors.gray.600"},background:$g.reference,borderColor:Ug.reference,opacity:.7,borderRadius:"sm"},HV={baseStyle:WV},zg=Ae("skip-link-bg"),qV={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[zg.variable]:"colors.white",_dark:{[zg.variable]:"colors.gray.700"},bg:zg.reference}},GV={baseStyle:qV},{defineMultiStyleConfig:KV,definePartsStyle:wp}=yt(O2.keys),Ma=Ae("slider-thumb-size"),nd=Ae("slider-track-size"),To=Ae("slider-bg"),QV=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Bv({orientation:e,vertical:{h:"100%",px:Ss(Ma.reference).divide(2).toString()},horizontal:{w:"100%",py:Ss(Ma.reference).divide(2).toString()}})}},YV=t=>({...Bv({orientation:t.orientation,horizontal:{h:nd.reference},vertical:{w:nd.reference}}),overflow:"hidden",borderRadius:"sm",[To.variable]:"colors.gray.200",_dark:{[To.variable]:"colors.whiteAlpha.200"},_disabled:{[To.variable]:"colors.gray.300",_dark:{[To.variable]:"colors.whiteAlpha.300"}},bg:To.reference}),XV=t=>{const{orientation:e}=t;return{...Bv({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Ma.reference,h:Ma.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},JV=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[To.variable]:`colors.${e}.500`,_dark:{[To.variable]:`colors.${e}.200`},bg:To.reference}},ZV=wp(t=>({container:QV(t),track:YV(t),thumb:XV(t),filledTrack:JV(t)})),eL=wp({container:{[Ma.variable]:"sizes.4",[nd.variable]:"sizes.1"}}),tL=wp({container:{[Ma.variable]:"sizes.3.5",[nd.variable]:"sizes.1"}}),nL=wp({container:{[Ma.variable]:"sizes.2.5",[nd.variable]:"sizes.0.5"}}),rL={lg:eL,md:tL,sm:nL},iL=KV({baseStyle:ZV,sizes:rL,defaultProps:{size:"md",colorScheme:"blue"}}),ka=tn("spinner-size"),sL={width:[ka.reference],height:[ka.reference]},oL={xs:{[ka.variable]:"sizes.3"},sm:{[ka.variable]:"sizes.4"},md:{[ka.variable]:"sizes.6"},lg:{[ka.variable]:"sizes.8"},xl:{[ka.variable]:"sizes.12"}},aL={baseStyle:sL,sizes:oL,defaultProps:{size:"md"}},{defineMultiStyleConfig:lL,definePartsStyle:NI}=yt(M2.keys),uL={fontWeight:"medium"},cL={opacity:.8,marginBottom:"2"},dL={verticalAlign:"baseline",fontWeight:"semibold"},hL={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},fL=NI({container:{},label:uL,helpText:cL,number:dL,icon:hL}),pL={md:NI({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},mL=lL({baseStyle:fL,sizes:pL,defaultProps:{size:"md"}}),{defineMultiStyleConfig:gL,definePartsStyle:Pc}=yt(["stepper","step","title","description","indicator","separator","icon","number"]),Ts=Ae("stepper-indicator-size"),Yl=Ae("stepper-icon-size"),Xl=Ae("stepper-title-font-size"),Ac=Ae("stepper-description-font-size"),gc=Ae("stepper-accent-color"),yL=Pc(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[gc.variable]:`colors.${t}.500`,_dark:{[gc.variable]:`colors.${t}.200`}},title:{fontSize:Xl.reference,fontWeight:"medium"},description:{fontSize:Ac.reference,color:"chakra-subtle-text"},number:{fontSize:Xl.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Yl.reference,height:Yl.reference},indicator:{flexShrink:0,borderRadius:"full",width:Ts.reference,height:Ts.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:gc.reference},"&[data-status=complete]":{bg:gc.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:gc.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Ts.reference} - 8px)`,top:`calc(${Ts.reference} + 4px)`,insetStart:`calc(${Ts.reference} / 2 - 1px)`}}})),vL=gL({baseStyle:yL,sizes:{xs:Pc({stepper:{[Ts.variable]:"sizes.4",[Yl.variable]:"sizes.3",[Xl.variable]:"fontSizes.xs",[Ac.variable]:"fontSizes.xs"}}),sm:Pc({stepper:{[Ts.variable]:"sizes.6",[Yl.variable]:"sizes.4",[Xl.variable]:"fontSizes.sm",[Ac.variable]:"fontSizes.xs"}}),md:Pc({stepper:{[Ts.variable]:"sizes.8",[Yl.variable]:"sizes.5",[Xl.variable]:"fontSizes.md",[Ac.variable]:"fontSizes.sm"}}),lg:Pc({stepper:{[Ts.variable]:"sizes.10",[Yl.variable]:"sizes.6",[Xl.variable]:"fontSizes.lg",[Ac.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:_L,definePartsStyle:_f}=yt(V2.keys),jc=tn("switch-track-width"),Ra=tn("switch-track-height"),Bg=tn("switch-track-diff"),wL=bs.subtract(jc,Ra),Ly=tn("switch-thumb-x"),yc=tn("switch-bg"),SL=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[jc.reference],height:[Ra.reference],transitionProperty:"common",transitionDuration:"fast",[yc.variable]:"colors.gray.300",_dark:{[yc.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[yc.variable]:`colors.${e}.500`,_dark:{[yc.variable]:`colors.${e}.200`}},bg:yc.reference}},bL={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ra.reference],height:[Ra.reference],_checked:{transform:`translateX(${Ly.reference})`}},TL=_f(t=>({container:{[Bg.variable]:wL,[Ly.variable]:Bg.reference,_rtl:{[Ly.variable]:bs(Bg).negate().toString()}},track:SL(t),thumb:bL})),EL={sm:_f({container:{[jc.variable]:"1.375rem",[Ra.variable]:"sizes.3"}}),md:_f({container:{[jc.variable]:"1.875rem",[Ra.variable]:"sizes.4"}}),lg:_f({container:{[jc.variable]:"2.875rem",[Ra.variable]:"sizes.6"}})},IL=_L({baseStyle:TL,sizes:EL,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:kL,definePartsStyle:lu}=yt(L2.keys),PL=lu({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Bf={"&[data-is-numeric=true]":{textAlign:"end"}},AL=lu(t=>{const{colorScheme:e}=t;return{th:{color:Pe("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Pe(`${e}.100`,`${e}.700`)(t),...Bf},td:{borderBottom:"1px",borderColor:Pe(`${e}.100`,`${e}.700`)(t),...Bf},caption:{color:Pe("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),CL=lu(t=>{const{colorScheme:e}=t;return{th:{color:Pe("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Pe(`${e}.100`,`${e}.700`)(t),...Bf},td:{borderBottom:"1px",borderColor:Pe(`${e}.100`,`${e}.700`)(t),...Bf},caption:{color:Pe("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Pe(`${e}.100`,`${e}.700`)(t)},td:{background:Pe(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),xL={simple:AL,striped:CL,unstyled:{}},RL={sm:lu({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:lu({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:lu({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},DL=kL({baseStyle:PL,variants:xL,sizes:RL,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),or=Ae("tabs-color"),ai=Ae("tabs-bg"),Qh=Ae("tabs-border-color"),{defineMultiStyleConfig:NL,definePartsStyle:$i}=yt(F2.keys),OL=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},ML=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},VL=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},LL={p:4},FL=$i(t=>({root:OL(t),tab:ML(t),tablist:VL(t),tabpanel:LL})),$L={sm:$i({tab:{py:1,px:4,fontSize:"sm"}}),md:$i({tab:{fontSize:"md",py:2,px:4}}),lg:$i({tab:{fontSize:"lg",py:3,px:4}})},UL=$i(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",a=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[a]:"-2px",_selected:{[or.variable]:`colors.${e}.600`,_dark:{[or.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[ai.variable]:"colors.gray.200",_dark:{[ai.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:or.reference,bg:ai.reference}}}),zL=$i(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Qh.variable]:"transparent",_selected:{[or.variable]:`colors.${e}.600`,[Qh.variable]:"colors.white",_dark:{[or.variable]:`colors.${e}.300`,[Qh.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Qh.reference},color:or.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),BL=$i(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[ai.variable]:"colors.gray.50",_dark:{[ai.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ai.variable]:"colors.white",[or.variable]:`colors.${e}.600`,_dark:{[ai.variable]:"colors.gray.800",[or.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:or.reference,bg:ai.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),jL=$i(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Wn(n,`${e}.700`),bg:Wn(n,`${e}.100`)}}}}),WL=$i(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[or.variable]:"colors.gray.600",_dark:{[or.variable]:"inherit"},_selected:{[or.variable]:"colors.white",[ai.variable]:`colors.${e}.600`,_dark:{[or.variable]:"colors.gray.800",[ai.variable]:`colors.${e}.300`}},color:or.reference,bg:ai.reference}}}),HL=$i({}),qL={line:UL,enclosed:zL,"enclosed-colored":BL,"soft-rounded":jL,"solid-rounded":WL,unstyled:HL},GL=NL({baseStyle:FL,sizes:$L,variants:qL,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:KL,definePartsStyle:Da}=yt($2.keys),_b=Ae("tag-bg"),wb=Ae("tag-color"),jg=Ae("tag-shadow"),wf=Ae("tag-min-height"),Sf=Ae("tag-min-width"),bf=Ae("tag-font-size"),Tf=Ae("tag-padding-inline"),QL={fontWeight:"medium",lineHeight:1.2,outline:0,[wb.variable]:$t.color.reference,[_b.variable]:$t.bg.reference,[jg.variable]:$t.shadow.reference,color:wb.reference,bg:_b.reference,boxShadow:jg.reference,borderRadius:"md",minH:wf.reference,minW:Sf.reference,fontSize:bf.reference,px:Tf.reference,_focusVisible:{[jg.variable]:"shadows.outline"}},YL={lineHeight:1.2,overflow:"visible"},XL={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},JL=Da({container:QL,label:YL,closeButton:XL}),ZL={sm:Da({container:{[wf.variable]:"sizes.5",[Sf.variable]:"sizes.5",[bf.variable]:"fontSizes.xs",[Tf.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Da({container:{[wf.variable]:"sizes.6",[Sf.variable]:"sizes.6",[bf.variable]:"fontSizes.sm",[Tf.variable]:"space.2"}}),lg:Da({container:{[wf.variable]:"sizes.8",[Sf.variable]:"sizes.8",[bf.variable]:"fontSizes.md",[Tf.variable]:"space.3"}})},eF={subtle:Da(t=>{var e;return{container:(e=Uc.variants)==null?void 0:e.subtle(t)}}),solid:Da(t=>{var e;return{container:(e=Uc.variants)==null?void 0:e.solid(t)}}),outline:Da(t=>{var e;return{container:(e=Uc.variants)==null?void 0:e.outline(t)}})},tF=KL({variants:eF,baseStyle:JL,sizes:ZL,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var sI;const nF={...(sI=rt.baseStyle)==null?void 0:sI.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var oI;const rF={outline:t=>{var e;return((e=rt.variants)==null?void 0:e.outline(t).field)??{}},flushed:t=>{var e;return((e=rt.variants)==null?void 0:e.flushed(t).field)??{}},filled:t=>{var e;return((e=rt.variants)==null?void 0:e.filled(t).field)??{}},unstyled:((oI=rt.variants)==null?void 0:oI.unstyled.field)??{}};var aI,lI,uI,cI;const iF={xs:((aI=rt.sizes)==null?void 0:aI.xs.field)??{},sm:((lI=rt.sizes)==null?void 0:lI.sm.field)??{},md:((uI=rt.sizes)==null?void 0:uI.md.field)??{},lg:((cI=rt.sizes)==null?void 0:cI.lg.field)??{}},sF={baseStyle:nF,sizes:iF,variants:rF,defaultProps:{size:"md",variant:"outline"}},Yh=tn("tooltip-bg"),Wg=tn("tooltip-fg"),oF=tn("popper-arrow-bg"),aF={bg:Yh.reference,color:Wg.reference,[Yh.variable]:"colors.gray.700",[Wg.variable]:"colors.whiteAlpha.900",_dark:{[Yh.variable]:"colors.gray.300",[Wg.variable]:"colors.gray.900"},[oF.variable]:Yh.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},lF={baseStyle:aF},uF={Accordion:K2,Alert:RN,Avatar:BN,Badge:Uc,Breadcrumb:JN,Button:aO,Checkbox:bo,CloseButton:bO,Code:kO,Container:AO,Divider:NO,Drawer:WO,Editable:XO,Form:rM,FormError:uM,FormLabel:dM,Heading:pM,Input:rt,Kbd:EM,Link:kM,List:RM,Menu:BM,Modal:ZM,NumberInput:lV,PinInput:hV,Popover:TV,Progress:RV,Radio:VV,Select:jV,Skeleton:HV,SkipLink:GV,Slider:iL,Spinner:aL,Stat:mL,Switch:IL,Table:DL,Tabs:GL,Tag:tF,Textarea:sF,Tooltip:lF,Card:hO,Stepper:vL},cF={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},dF={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},hF={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},fF={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},pF={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},mF={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},gF={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},yF={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},vF={property:mF,easing:gF,duration:yF},_F={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},wF={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},SF={breakpoints:dF,zIndices:_F,radii:fF,blur:wF,colors:hF,...xI,sizes:EI,shadows:pF,space:TI,borders:cF,transition:vF},bF={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},TF={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},EF="ltr",IF={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},kF={semanticTokens:bF,direction:EF,...SF,components:uF,styles:TF,config:IF};function PF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CF=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=PF(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),In="-ms-",jf="-moz-",tt="-webkit-",OI="comm",qv="rule",Gv="decl",xF="@import",MI="@keyframes",RF="@layer",DF=Math.abs,Sp=String.fromCharCode,NF=Object.assign;function OF(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function VI(t){return t.trim()}function MF(t,e){return(t=e.exec(t))?t[0]:t}function nt(t,e,n){return t.replace(e,n)}function Fy(t,e){return t.indexOf(e)}function yn(t,e){return t.charCodeAt(e)|0}function rd(t,e,n){return t.slice(e,n)}function Mi(t){return t.length}function Kv(t){return t.length}function Xh(t,e){return e.push(t),t}function VF(t,e){return t.map(e).join("")}var bp=1,vu=1,LI=0,lr=0,qt=0,Nu="";function Tp(t,e,n,r,i,a,l){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:bp,column:vu,length:l,return:""}}function vc(t,e){return NF(Tp("",null,null,"",null,null,0),t,{length:-t.length},e)}function LF(){return qt}function FF(){return qt=lr>0?yn(Nu,--lr):0,vu--,qt===10&&(vu=1,bp--),qt}function Ir(){return qt=lr<LI?yn(Nu,lr++):0,vu++,qt===10&&(vu=1,bp++),qt}function Ui(){return yn(Nu,lr)}function Ef(){return lr}function Id(t,e){return rd(Nu,t,e)}function id(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function FI(t){return bp=vu=1,LI=Mi(Nu=t),lr=0,[]}function $I(t){return Nu="",t}function If(t){return VI(Id(lr-1,$y(t===91?t+2:t===40?t+1:t)))}function $F(t){for(;(qt=Ui())&&qt<33;)Ir();return id(t)>2||id(qt)>3?"":" "}function UF(t,e){for(;--e&&Ir()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return Id(t,Ef()+(e<6&&Ui()==32&&Ir()==32))}function $y(t){for(;Ir();)switch(qt){case t:return lr;case 34:case 39:t!==34&&t!==39&&$y(qt);break;case 40:t===41&&$y(t);break;case 92:Ir();break}return lr}function zF(t,e){for(;Ir()&&t+qt!==57;)if(t+qt===84&&Ui()===47)break;return"/*"+Id(e,lr-1)+"*"+Sp(t===47?t:Ir())}function BF(t){for(;!id(Ui());)Ir();return Id(t,lr)}function jF(t){return $I(kf("",null,null,null,[""],t=FI(t),0,[0],t))}function kf(t,e,n,r,i,a,l,c,h){for(var p=0,g=0,_=l,S=0,T=0,k=0,P=1,C=1,z=1,q=0,G="",te=i,O=a,X=r,x=G;C;)switch(k=q,q=Ir()){case 40:if(k!=108&&yn(x,_-1)==58){Fy(x+=nt(If(q),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:x+=If(q);break;case 9:case 10:case 13:case 32:x+=$F(k);break;case 92:x+=UF(Ef()-1,7);continue;case 47:switch(Ui()){case 42:case 47:Xh(WF(zF(Ir(),Ef()),e,n),h);break;default:x+="/"}break;case 123*P:c[p++]=Mi(x)*z;case 125*P:case 59:case 0:switch(q){case 0:case 125:C=0;case 59+g:z==-1&&(x=nt(x,/\f/g,"")),T>0&&Mi(x)-_&&Xh(T>32?bb(x+";",r,n,_-1):bb(nt(x," ","")+";",r,n,_-2),h);break;case 59:x+=";";default:if(Xh(X=Sb(x,e,n,p,g,i,c,G,te=[],O=[],_),a),q===123)if(g===0)kf(x,e,X,X,te,a,_,c,O);else switch(S===99&&yn(x,3)===110?100:S){case 100:case 108:case 109:case 115:kf(t,X,X,r&&Xh(Sb(t,X,X,0,0,i,c,G,i,te=[],_),O),i,O,_,c,r?te:O);break;default:kf(x,X,X,X,[""],O,0,c,O)}}p=g=T=0,P=z=1,G=x="",_=l;break;case 58:_=1+Mi(x),T=k;default:if(P<1){if(q==123)--P;else if(q==125&&P++==0&&FF()==125)continue}switch(x+=Sp(q),q*P){case 38:z=g>0?1:(x+="\f",-1);break;case 44:c[p++]=(Mi(x)-1)*z,z=1;break;case 64:Ui()===45&&(x+=If(Ir())),S=Ui(),g=_=Mi(G=x+=BF(Ef())),q++;break;case 45:k===45&&Mi(x)==2&&(P=0)}}return a}function Sb(t,e,n,r,i,a,l,c,h,p,g){for(var _=i-1,S=i===0?a:[""],T=Kv(S),k=0,P=0,C=0;k<r;++k)for(var z=0,q=rd(t,_+1,_=DF(P=l[k])),G=t;z<T;++z)(G=VI(P>0?S[z]+" "+q:nt(q,/&\f/g,S[z])))&&(h[C++]=G);return Tp(t,e,n,i===0?qv:c,h,p,g)}function WF(t,e,n){return Tp(t,e,n,OI,Sp(LF()),rd(t,2,-2),0)}function bb(t,e,n,r){return Tp(t,e,n,Gv,rd(t,0,r),rd(t,r+1,-1),r)}function uu(t,e){for(var n="",r=Kv(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function HF(t,e,n,r){switch(t.type){case RF:if(t.children.length)break;case xF:case Gv:return t.return=t.return||t.value;case OI:return"";case MI:return t.return=t.value+"{"+uu(t.children,r)+"}";case qv:t.value=t.props.join(",")}return Mi(n=uu(t.children,r))?t.return=t.value+"{"+n+"}":""}function qF(t){var e=Kv(t);return function(n,r,i,a){for(var l="",c=0;c<e;c++)l+=t[c](n,r,i,a)||"";return l}}function GF(t){return function(e){e.root||(e=e.return)&&t(e)}}var Tb=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function UI(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var KF=function(e,n,r){for(var i=0,a=0;i=a,a=Ui(),i===38&&a===12&&(n[r]=1),!id(a);)Ir();return Id(e,lr)},QF=function(e,n){var r=-1,i=44;do switch(id(i)){case 0:i===38&&Ui()===12&&(n[r]=1),e[r]+=KF(lr-1,n,r);break;case 2:e[r]+=If(i);break;case 4:if(i===44){e[++r]=Ui()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Sp(i)}while(i=Ir());return e},YF=function(e,n){return $I(QF(FI(e),n))},Eb=new WeakMap,XF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Eb.get(r))&&!i){Eb.set(e,!0);for(var a=[],l=YF(n,a),c=r.props,h=0,p=0;h<l.length;h++)for(var g=0;g<c.length;g++,p++)e.props[p]=a[h]?l[h].replace(/&\f/g,c[g]):c[g]+" "+l[h]}}},JF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function zI(t,e){switch(OF(t,e)){case 5103:return tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+t+jf+t+In+t+t;case 6828:case 4268:return tt+t+In+t+t;case 6165:return tt+t+In+"flex-"+t+t;case 5187:return tt+t+nt(t,/(\w+).+(:[^]+)/,tt+"box-$1$2"+In+"flex-$1$2")+t;case 5443:return tt+t+In+"flex-item-"+nt(t,/flex-|-self/,"")+t;case 4675:return tt+t+In+"flex-line-pack"+nt(t,/align-content|flex-|-self/,"")+t;case 5548:return tt+t+In+nt(t,"shrink","negative")+t;case 5292:return tt+t+In+nt(t,"basis","preferred-size")+t;case 6060:return tt+"box-"+nt(t,"-grow","")+tt+t+In+nt(t,"grow","positive")+t;case 4554:return tt+nt(t,/([^-])(transform)/g,"$1"+tt+"$2")+t;case 6187:return nt(nt(nt(t,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),t,"")+t;case 5495:case 3959:return nt(t,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(t,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+In+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+t+t;case 4095:case 3583:case 4068:case 2532:return nt(t,/(.+)-inline(.+)/,tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mi(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return nt(t,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+jf+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fy(t,"stretch")?zI(nt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yn(t,e+1)!==115)break;case 6444:switch(yn(t,Mi(t)-3-(~Fy(t,"!important")&&10))){case 107:return nt(t,":",":"+tt)+t;case 101:return nt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(yn(t,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+In+"$2box$3")+t}break;case 5936:switch(yn(t,e+11)){case 114:return tt+t+In+nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tt+t+In+nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tt+t+In+nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return tt+t+In+t+t}return t}var ZF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Gv:e.return=zI(e.value,e.length);break;case MI:return uu([vc(e,{value:nt(e.value,"@","@"+tt)})],i);case qv:if(e.length)return VF(e.props,function(a){switch(MF(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uu([vc(e,{props:[nt(a,/:(read-\w+)/,":"+jf+"$1")]})],i);case"::placeholder":return uu([vc(e,{props:[nt(a,/:(plac\w+)/,":"+tt+"input-$1")]}),vc(e,{props:[nt(a,/:(plac\w+)/,":"+jf+"$1")]}),vc(e,{props:[nt(a,/:(plac\w+)/,In+"input-$1")]})],i)}return""})}},e$=[ZF],t$=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var C=P.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var i=e.stylisPlugins||e$,a={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(P){for(var C=P.getAttribute("data-emotion").split(" "),z=1;z<C.length;z++)a[C[z]]=!0;c.push(P)});var h,p=[XF,JF];{var g,_=[HF,GF(function(P){g.insert(P)})],S=qF(p.concat(i,_)),T=function(C){return uu(jF(C),S)};h=function(C,z,q,G){g=q,T(C?C+"{"+z.styles+"}":z.styles),G&&(k.inserted[z.name]=!0)}}var k={key:n,sheet:new CF({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return k.sheet.hydrate(c),k};function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(null,arguments)}var Hg={exports:{}},at={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function n$(){if(Ib)return at;Ib=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,T=t?Symbol.for("react.memo"):60115,k=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,z=t?Symbol.for("react.responder"):60118,q=t?Symbol.for("react.scope"):60119;function G(O){if(typeof O=="object"&&O!==null){var X=O.$$typeof;switch(X){case e:switch(O=O.type,O){case h:case p:case r:case a:case i:case _:return O;default:switch(O=O&&O.$$typeof,O){case c:case g:case k:case T:case l:return O;default:return X}}case n:return X}}}function te(O){return G(O)===p}return at.AsyncMode=h,at.ConcurrentMode=p,at.ContextConsumer=c,at.ContextProvider=l,at.Element=e,at.ForwardRef=g,at.Fragment=r,at.Lazy=k,at.Memo=T,at.Portal=n,at.Profiler=a,at.StrictMode=i,at.Suspense=_,at.isAsyncMode=function(O){return te(O)||G(O)===h},at.isConcurrentMode=te,at.isContextConsumer=function(O){return G(O)===c},at.isContextProvider=function(O){return G(O)===l},at.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},at.isForwardRef=function(O){return G(O)===g},at.isFragment=function(O){return G(O)===r},at.isLazy=function(O){return G(O)===k},at.isMemo=function(O){return G(O)===T},at.isPortal=function(O){return G(O)===n},at.isProfiler=function(O){return G(O)===a},at.isStrictMode=function(O){return G(O)===i},at.isSuspense=function(O){return G(O)===_},at.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===p||O===a||O===i||O===_||O===S||typeof O=="object"&&O!==null&&(O.$$typeof===k||O.$$typeof===T||O.$$typeof===l||O.$$typeof===c||O.$$typeof===g||O.$$typeof===C||O.$$typeof===z||O.$$typeof===q||O.$$typeof===P)},at.typeOf=G,at}var kb;function r$(){return kb||(kb=1,Hg.exports=n$()),Hg.exports}var qg,Pb;function i$(){if(Pb)return qg;Pb=1;var t=r$(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function l(k){return t.isMemo(k)?i:a[k.$$typeof]||e}var c=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,S=Object.prototype;function T(k,P,C){if(typeof P!="string"){if(S){var z=_(P);z&&z!==S&&T(k,z,C)}var q=h(P);p&&(q=q.concat(p(P)));for(var G=l(k),te=l(P),O=0;O<q.length;++O){var X=q[O];if(!n[X]&&!(C&&C[X])&&!(te&&te[X])&&!(G&&G[X])){var x=g(P,X);try{c(k,X,x)}catch{}}}}return k}return qg=T,qg}i$();var s$=!0;function BI(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Qv=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||s$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Yv=function(e,n,r){Qv(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function o$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var a$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l$=/[A-Z]|^ms/g,u$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jI=function(e){return e.charCodeAt(1)===45},Ab=function(e){return e!=null&&typeof e!="boolean"},Gg=UI(function(t){return jI(t)?t:t.replace(l$,"-$&").toLowerCase()}),Cb=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(u$,function(r,i,a){return Vi={name:i,styles:a,next:Vi},i})}return a$[e]!==1&&!jI(e)&&typeof n=="number"&&n!==0?n+"px":n};function sd(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Vi={name:i.name,styles:i.styles,next:Vi},i.name;var a=n;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)Vi={name:l.name,styles:l.styles,next:Vi},l=l.next;var c=a.styles+";";return c}return c$(t,e,n)}case"function":{if(t!==void 0){var h=Vi,p=n(t);return Vi=h,sd(t,e,p)}break}}var g=n;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function c$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=sd(t,e,n[i])+";";else for(var a in n){var l=n[a];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=a+"{"+e[c]+"}":Ab(c)&&(r+=Gg(a)+":"+Cb(a,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var h=0;h<l.length;h++)Ab(l[h])&&(r+=Gg(a)+":"+Cb(a,l[h])+";");else{var p=sd(t,e,l);switch(a){case"animation":case"animationName":{r+=Gg(a)+":"+p+";";break}default:r+=a+"{"+p+"}"}}}return r}var xb=/label:\s*([^\s;{]+)\s*(;|$)/g,Vi;function Ep(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Vi=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=sd(n,e,a);else{var l=a;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=sd(n,e,t[c]),r){var h=a;i+=h[c]}xb.lastIndex=0;for(var p="",g;(g=xb.exec(i))!==null;)p+="-"+g[1];var _=o$(i)+p;return{name:_,styles:i,next:Vi}}var d$=function(e){return e()},WI=KS.useInsertionEffect?KS.useInsertionEffect:!1,HI=WI||d$,Rb=WI||Y.useLayoutEffect,Xv=Y.createContext(typeof HTMLElement<"u"?t$({key:"css"}):null);Xv.Provider;var h$=function(){return Y.useContext(Xv)},Jv=function(e){return Y.forwardRef(function(n,r){var i=Y.useContext(Xv);return e(n,i,r)})},_u=Y.createContext({}),f$=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Wf({},e,n)},p$=Tb(function(t){return Tb(function(e){return f$(t,e)})}),m$=function(e){var n=Y.useContext(_u);return e.theme!==n&&(n=p$(n)(e.theme)),Y.createElement(_u.Provider,{value:n},e.children)},Zv={}.hasOwnProperty,Uy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g$=function(e,n){var r={};for(var i in n)Zv.call(n,i)&&(r[i]=n[i]);return r[Uy]=e,r},y$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Qv(n,r,i),HI(function(){return Yv(n,r,i)}),null},v$=Jv(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Uy],a=[r],l="";typeof t.className=="string"?l=BI(e.registered,a,t.className):t.className!=null&&(l=t.className+" ");var c=Ep(a,void 0,Y.useContext(_u));l+=e.key+"-"+c.name;var h={};for(var p in t)Zv.call(t,p)&&p!=="css"&&p!==Uy&&(h[p]=t[p]);return h.className=l,n&&(h.ref=n),Y.createElement(Y.Fragment,null,Y.createElement(y$,{cache:e,serialized:c,isStringTag:typeof i=="string"}),Y.createElement(i,h))}),_$=v$,Db=function(e,n){var r=arguments;if(n==null||!Zv.call(n,"css"))return Y.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=_$,a[1]=g$(e,n);for(var l=2;l<i;l++)a[l]=r[l];return Y.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Db||(Db={}));var Ip=Jv(function(t,e){var n=t.styles,r=Ep([n],void 0,Y.useContext(_u)),i=Y.useRef();return Rb(function(){var a=e.key+"-global",l=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,h=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),h!==null&&(c=!0,h.setAttribute("data-emotion",a),l.hydrate([h])),i.current=[l,c],function(){l.flush()}},[e]),Rb(function(){var a=i.current,l=a[0],c=a[1];if(c){a[1]=!1;return}if(r.next!==void 0&&Yv(e,r.next,!0),l.tags.length){var h=l.tags[l.tags.length-1].nextElementSibling;l.before=h,l.flush()}e.insert("",r,l,!1)},[e,r.name]),null});function w$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ep(e)}function S$(){var t=w$.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const e0=Y.createContext({});e0.displayName="ColorModeContext";function t0(){const t=Y.useContext(e0);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}const Jh={light:"chakra-ui-light",dark:"chakra-ui-dark"};function b$(t={}){const{preventTransition:e=!0,nonce:n}=t,r={setDataset:i=>{const a=e?r.preventTransition():void 0;document.documentElement.dataset.theme=i,document.documentElement.style.colorScheme=i,a==null||a()},setClassName(i){document.body.classList.add(i?Jh.dark:Jh.light),document.body.classList.remove(i?Jh.light:Jh.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(i){return r.query().matches??i==="dark"?"dark":"light"},addListener(i){const a=r.query(),l=c=>{i(c.matches?"dark":"light")};return typeof a.addListener=="function"?a.addListener(l):a.addEventListener("change",l),()=>{typeof a.removeListener=="function"?a.removeListener(l):a.removeEventListener("change",l)}},preventTransition(){const i=document.createElement("style");return i.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),n!==void 0&&(i.nonce=n),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(i)})})}}};return r}const T$="chakra-ui-color-mode";function E$(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}const I$=E$(T$),Nb=()=>{},k$=qR()?Y.useLayoutEffect:Y.useEffect;function Ob(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}const qI=function(e){const{value:n,children:r,options:{useSystemColorMode:i,initialColorMode:a,disableTransitionOnChange:l}={},colorModeManager:c=I$}=e,h=h$(),p=a==="dark"?"dark":"light",[g,_]=Y.useState(()=>Ob(c,p)),[S,T]=Y.useState(()=>Ob(c)),{getSystemTheme:k,setClassName:P,setDataset:C,addListener:z}=Y.useMemo(()=>b$({preventTransition:l,nonce:h==null?void 0:h.nonce}),[l,h==null?void 0:h.nonce]),q=a==="system"&&!g?S:g,G=Y.useCallback(X=>{const x=X==="system"?k():X;_(x),P(x==="dark"),C(x),c.set(x)},[c,k,P,C]);k$(()=>{a==="system"&&T(k())},[]),Y.useEffect(()=>{const X=c.get();if(X){G(X);return}if(a==="system"){G("system");return}G(p)},[c,p,a,G]);const te=Y.useCallback(()=>{G(q==="dark"?"light":"dark")},[q,G]);Y.useEffect(()=>{if(i)return z(G)},[i,z,G]);const O=Y.useMemo(()=>({colorMode:n??q,toggleColorMode:n?Nb:te,setColorMode:n?Nb:G,forced:n!==void 0}),[q,te,G,n]);return oe.jsx(e0.Provider,{value:O,children:r})};qI.displayName="ColorModeProvider";const GI=String.raw,KI=GI`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,P$=()=>oe.jsx(Ip,{styles:KI}),A$=({scope:t=""})=>oe.jsx(Ip,{styles:GI`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${KI}
    `});function C$(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=Y.useMemo(()=>m2(n),[n]);return oe.jsxs(m$,{theme:i,children:[oe.jsx(x$,{root:e}),r]})}function x$({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return oe.jsx(Ip,{styles:n=>({[e]:n.__cssVars})})}Du({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function R$(){const{colorMode:t}=t0();return oe.jsx(Ip,{styles:e=>{const n=fI(e,"styles.global"),r=Li(n,{theme:e,colorMode:t});return r?_I(r)(e):void 0}})}const[D$,N$]=Du({strict:!1,name:"PortalManagerContext"});function QI(t){const{children:e,zIndex:n}=t;return oe.jsx(D$,{value:{zIndex:n},children:e})}QI.displayName="PortalManager";const YI=Y.createContext({getDocument(){return document},getWindow(){return window}});YI.displayName="EnvironmentContext";function XI(t){const{children:e,environment:n,disabled:r}=t,i=Y.useRef(null),a=Y.useMemo(()=>n||{getDocument:()=>{var c;return((c=i.current)==null?void 0:c.ownerDocument)??document},getWindow:()=>{var c;return((c=i.current)==null?void 0:c.ownerDocument.defaultView)??window}},[n]),l=!r||!n;return oe.jsxs(YI.Provider,{value:a,children:[e,l&&oe.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}XI.displayName="EnvironmentProvider";const O$=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:a=!0,theme:l={},environment:c,cssVarsRoot:h,disableEnvironment:p,disableGlobalStyle:g}=t,_=oe.jsx(XI,{environment:c,disabled:p,children:e});return oe.jsx(C$,{theme:l,cssVarsRoot:h,children:oe.jsxs(qI,{colorModeManager:n,options:l.config,children:[a?oe.jsx(A$,{scope:i}):oe.jsx(P$,{}),!g&&oe.jsx(R$,{}),r?oe.jsx(QI,{zIndex:r,children:_}):_]})})},n0=Y.createContext({});function r0(t){const e=Y.useRef(null);return e.current===null&&(e.current=t()),e.current}const kd=Y.createContext(null),i0=Y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class M$ extends Y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function V$({children:t,isPresent:e}){const n=Y.useId(),r=Y.useRef(null),i=Y.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=Y.useContext(i0);return Y.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:p}=i.current;if(e||!r.current||!l||!c)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${h}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),oe.jsx(M$,{isPresent:e,childRef:r,sizeRef:i,children:Y.cloneElement(t,{ref:r})})}const L$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const c=r0(F$),h=Y.useId(),p=Y.useCallback(_=>{c.set(_,!0);for(const S of c.values())if(!S)return;r&&r()},[c,r]),g=Y.useMemo(()=>({id:h,initial:e,isPresent:n,custom:i,onExitComplete:p,register:_=>(c.set(_,!1),()=>c.delete(_))}),a?[Math.random(),p]:[n,p]);return Y.useMemo(()=>{c.forEach((_,S)=>c.set(S,!1))},[n]),Y.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),l==="popLayout"&&(t=oe.jsx(V$,{isPresent:n,children:t})),oe.jsx(kd.Provider,{value:g,children:t})};function F$(){return new Map}function JI(t=!0){const e=Y.useContext(kd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=Y.useId();Y.useEffect(()=>{t&&i(a)},[t]);const l=Y.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}function $$(){return U$(Y.useContext(kd))}function U$(t){return t===null?!0:t.isPresent}const Zh=t=>t.key||"";function Mb(t){const e=[];return Y.Children.forEach(t,n=>{Y.isValidElement(n)&&e.push(n)}),e}const s0=typeof window<"u",ZI=s0?Y.useLayoutEffect:Y.useEffect,z$=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1})=>{const[c,h]=JI(l),p=Y.useMemo(()=>Mb(t),[t]),g=l&&!c?[]:p.map(Zh),_=Y.useRef(!0),S=Y.useRef(p),T=r0(()=>new Map),[k,P]=Y.useState(p),[C,z]=Y.useState(p);ZI(()=>{_.current=!1,S.current=p;for(let te=0;te<C.length;te++){const O=Zh(C[te]);g.includes(O)?T.delete(O):T.get(O)!==!0&&T.set(O,!1)}},[C,g.length,g.join("-")]);const q=[];if(p!==k){let te=[...p];for(let O=0;O<C.length;O++){const X=C[O],x=Zh(X);g.includes(x)||(te.splice(O,0,X),q.push(X))}a==="wait"&&q.length&&(te=q),z(Mb(te)),P(p);return}const{forceRender:G}=Y.useContext(n0);return oe.jsx(oe.Fragment,{children:C.map(te=>{const O=Zh(te),X=l&&!c?!1:p===C||g.includes(O),x=()=>{if(T.has(O))T.set(O,!0);else return;let E=!0;T.forEach(R=>{R||(E=!1)}),E&&(G==null||G(),z(S.current),l&&(h==null||h()),r&&r())};return oe.jsx(L$,{isPresent:X,initial:!_.current||n?void 0:!1,custom:X?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:X?void 0:x,children:te},O)})})},kr=t=>t;let ek=kr;function o0(t){let e;return()=>(e===void 0&&(e=t()),e)}const wu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Cs=t=>t*1e3,xs=t=>t/1e3,B$={useManualTiming:!1};function j$(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(h.schedule(p),t()),p(l)}const h={schedule:(p,g=!1,_=!1)=>{const T=_&&r?e:n;return g&&a.add(p),T.has(p)||T.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const ef=["read","resolveKeyframes","update","preRender","render","postRender"],W$=40;function tk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ef.reduce((z,q)=>(z[q]=j$(a),z),{}),{read:c,resolveKeyframes:h,update:p,preRender:g,render:_,postRender:S}=l,T=()=>{const z=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(z-i.timestamp,W$),1),i.timestamp=z,i.isProcessing=!0,c.process(i),h.process(i),p.process(i),g.process(i),_.process(i),S.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},k=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:ef.reduce((z,q)=>{const G=l[q];return z[q]=(te,O=!1,X=!1)=>(n||k(),G.schedule(te,O,X)),z},{}),cancel:z=>{for(let q=0;q<ef.length;q++)l[ef[q]].cancel(z)},state:i,steps:l}}const{schedule:St,cancel:Mo,state:mn,steps:Kg}=tk(typeof requestAnimationFrame<"u"?requestAnimationFrame:kr,!0),nk=Y.createContext({strict:!1}),Vb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Su={};for(const t in Vb)Su[t]={isEnabled:e=>Vb[t].some(n=>!!e[n])};function H$(t){for(const e in t)Su[e]={...Su[e],...t[e]}}const q$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||q$.has(t)}let rk=t=>!Hf(t);function G$(t){t&&(rk=e=>e.startsWith("on")?!Hf(e):t(e))}try{G$(require("@emotion/is-prop-valid").default)}catch{}function K$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(rk(i)||n===!0&&Hf(i)||!e&&!Hf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Q$(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const kp=Y.createContext({});function od(t){return typeof t=="string"||Array.isArray(t)}function Pp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const a0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l0=["initial",...a0];function Ap(t){return Pp(t.animate)||l0.some(e=>od(t[e]))}function ik(t){return!!(Ap(t)||t.variants)}function Y$(t,e){if(Ap(t)){const{initial:n,animate:r}=t;return{initial:n===!1||od(n)?n:void 0,animate:od(r)?r:void 0}}return t.inherit!==!1?e:{}}function X$(t){const{initial:e,animate:n}=Y$(t,Y.useContext(kp));return Y.useMemo(()=>({initial:e,animate:n}),[Lb(e),Lb(n)])}function Lb(t){return Array.isArray(t)?t.join(" "):t}const J$=Symbol.for("motionComponentSymbol");function Jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Z$(t,e,n){return Y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Jl(n)&&(n.current=r))},[e])}const u0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),e4="framerAppearId",sk="data-"+u0(e4),{schedule:c0}=tk(queueMicrotask,!1),ok=Y.createContext({});function t4(t,e,n,r,i){var a,l;const{visualElement:c}=Y.useContext(kp),h=Y.useContext(nk),p=Y.useContext(kd),g=Y.useContext(i0).reducedMotion,_=Y.useRef(null);r=r||h.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const S=_.current,T=Y.useContext(ok);S&&!S.projection&&i&&(S.type==="html"||S.type==="svg")&&n4(_.current,n,i,T);const k=Y.useRef(!1);Y.useInsertionEffect(()=>{S&&k.current&&S.update(n,p)});const P=n[sk],C=Y.useRef(!!P&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,P))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,P)));return ZI(()=>{S&&(k.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),c0.render(S.render),C.current&&S.animationState&&S.animationState.animateChanges())}),Y.useEffect(()=>{S&&(!C.current&&S.animationState&&S.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)===null||z===void 0||z.call(window,P)}),C.current=!1))}),S}function n4(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ak(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Jl(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function ak(t){if(t)return t.options.allowProjection!==!1?t.projection:ak(t.parent)}function r4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&H$(t);function c(p,g){let _;const S={...Y.useContext(i0),...p,layoutId:i4(p)},{isStatic:T}=S,k=X$(p),P=r(p,T);if(!T&&s0){s4();const C=o4(S);_=C.MeasureLayout,k.visualElement=t4(i,P,S,e,C.ProjectionNode)}return oe.jsxs(kp.Provider,{value:k,children:[_&&k.visualElement?oe.jsx(_,{visualElement:k.visualElement,...S}):null,n(i,p,Z$(P,k.visualElement,g),P,T,k.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const h=Y.forwardRef(c);return h[J$]=i,h}function i4({layoutId:t}){const e=Y.useContext(n0).id;return e&&t!==void 0?e+"-"+t:t}function s4(t,e){Y.useContext(nk).strict}function o4(t){const{drag:e,layout:n}=Su;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const a4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d0(t){return typeof t!="string"||t.includes("-")?!1:!!(a4.indexOf(t)>-1||/[A-Z]/u.test(t))}function Fb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function h0(t,e,n,r){if(typeof e=="function"){const[i,a]=Fb(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Fb(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const zy=t=>Array.isArray(t),l4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),u4=t=>zy(t)?t[t.length-1]||0:t,Cn=t=>!!(t&&t.getVelocity);function Pf(t){const e=Cn(t)?t.get():t;return l4(e)?e.toValue():e}function c4({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:d4(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const lk=t=>(e,n)=>{const r=Y.useContext(kp),i=Y.useContext(kd),a=()=>c4(t,e,r,i);return n?a():r0(a)};function d4(t,e,n,r){const i={},a=r(t,{});for(const S in a)i[S]=Pf(a[S]);let{initial:l,animate:c}=t;const h=Ap(t),p=ik(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!Pp(_)){const S=Array.isArray(_)?_:[_];for(let T=0;T<S.length;T++){const k=h0(t,S[T]);if(k){const{transitionEnd:P,transition:C,...z}=k;for(const q in z){let G=z[q];if(Array.isArray(G)){const te=g?G.length-1:0;G=G[te]}G!==null&&(i[q]=G)}for(const q in P)i[q]=P[q]}}}return i}const Ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qa=new Set(Ou),uk=t=>e=>typeof e=="string"&&e.startsWith(t),ck=uk("--"),h4=uk("var(--"),f0=t=>h4(t)?f4.test(t.split("/*")[0].trim()):!1,f4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ns=(t,e,n)=>n>e?e:n<t?t:n,Mu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ad={...Mu,transform:t=>Ns(0,1,t)},tf={...Mu,default:1},Pd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),So=Pd("deg"),zi=Pd("%"),Ce=Pd("px"),p4=Pd("vh"),m4=Pd("vw"),$b={...zi,parse:t=>zi.parse(t)/100,transform:t=>zi.transform(t*100)},g4={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},y4={rotate:So,rotateX:So,rotateY:So,rotateZ:So,scale:tf,scaleX:tf,scaleY:tf,scaleZ:tf,skew:So,skewX:So,skewY:So,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:ad,originX:$b,originY:$b,originZ:Ce},Ub={...Mu,transform:Math.round},p0={...g4,...y4,zIndex:Ub,size:Ce,fillOpacity:ad,strokeOpacity:ad,numOctaves:Ub},v4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_4=Ou.length;function w4(t,e,n){let r="",i=!0;for(let a=0;a<_4;a++){const l=Ou[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=dk(c,p0[l]);if(!h){i=!1;const g=v4[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function m0(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(qa.has(h)){l=!0;continue}else if(ck(h)){i[h]=p;continue}else{const g=dk(p,p0[h]);h.startsWith("origin")?(c=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=w4(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${p} ${g}`}}const S4={offset:"stroke-dashoffset",array:"stroke-dasharray"},b4={offset:"strokeDashoffset",array:"strokeDasharray"};function T4(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?S4:b4;t[a.offset]=Ce.transform(-r);const l=Ce.transform(e),c=Ce.transform(n);t[a.array]=`${l} ${c}`}function zb(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function E4(t,e,n){const r=zb(e,t.x,t.width),i=zb(n,t.y,t.height);return`${r} ${i}`}function g0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},g,_){if(m0(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:T,dimensions:k}=t;S.transform&&(k&&(T.transform=S.transform),delete S.transform),k&&(i!==void 0||a!==void 0||T.transform)&&(T.transformOrigin=E4(k,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),r!==void 0&&(S.scale=r),l!==void 0&&T4(S,l,c,h,!1)}const y0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hk=()=>({...y0(),attrs:{}}),v0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const pk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mk(t,e,n,r){fk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(pk.has(i)?i:u0(i),e.attrs[i])}const qf={};function I4(t){Object.assign(qf,t)}function gk(t,{layout:e,layoutId:n}){return qa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qf[t]||t==="opacity")}function _0(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(Cn(i[l])||e.style&&Cn(e.style[l])||gk(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function yk(t,e,n){const r=_0(t,e,n);for(const i in t)if(Cn(t[i])||Cn(e[i])){const a=Ou.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function k4(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Bb=["x","y","width","height","cx","cy","r"],P4={useVisualState:lk({scrapeMotionValuesFromProps:yk,createRenderState:hk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(qa.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<Bb.length;c++){const h=Bb[c];t[h]!==e[h]&&(l=!0)}l&&St.read(()=>{k4(n,r),St.render(()=>{g0(r,i,v0(n.tagName),t.transformTemplate),mk(n,r)})})}})},A4={useVisualState:lk({scrapeMotionValuesFromProps:_0,createRenderState:y0})};function vk(t,e,n){for(const r in e)!Cn(e[r])&&!gk(r,n)&&(t[r]=e[r])}function C4({transformTemplate:t},e){return Y.useMemo(()=>{const n=y0();return m0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function x4(t,e){const n=t.style||{},r={};return vk(r,n,t),Object.assign(r,C4(t,e)),r}function R4(t,e){const n={},r=x4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function D4(t,e,n,r){const i=Y.useMemo(()=>{const a=hk();return g0(a,e,v0(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};vk(a,t.style,t),i.style={...a,...i.style}}return i}function N4(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(d0(n)?D4:R4)(r,a,l,n),p=K$(r,typeof n=="string",t),g=n!==Y.Fragment?{...p,...h,ref:i}:{},{children:_}=r,S=Y.useMemo(()=>Cn(_)?_.get():_,[_]);return Y.createElement(n,{...g,children:S})}}function O4(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...d0(r)?P4:A4,preloadedFeatures:t,useRender:N4(i),createVisualElement:e,Component:r};return r4(l)}}function _k(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Cp(t,e,n){const r=t.getProps();return h0(r,e,n!==void 0?n:r.custom,t)}const M4=o0(()=>window.ScrollTimeline!==void 0);class V4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(M4()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class L4 extends V4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function w0(t,e){return t?t[e]||t.default||t:void 0}const By=2e4;function wk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<By;)e+=n,r=t.next(e);return e>=By?1/0:e}function S0(t){return typeof t=="function"}function jb(t,e){t.timeline=e,t.onfinish=null}const b0=t=>Array.isArray(t)&&typeof t[0]=="number",F4={linearEasing:void 0};function $4(t,e){const n=o0(t);return()=>{var r;return(r=F4[e])!==null&&r!==void 0?r:n()}}const Gf=$4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(wu(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function bk(t){return!!(typeof t=="function"&&Gf()||!t||typeof t=="string"&&(t in jy||Gf())||b0(t)||Array.isArray(t)&&t.every(bk))}const Cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function Tk(t,e){if(t)return typeof t=="function"&&Gf()?Sk(t,e):b0(t)?Cc(t):Array.isArray(t)?t.map(n=>Tk(n,e)||jy.easeOut):jy[t]}const oi={x:!1,y:!1};function Ek(){return oi.x||oi.y}function U4(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function Ik(t,e){const n=U4(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Wb(t){return e=>{e.pointerType==="touch"||Ek()||t(e)}}function z4(t,e,n={}){const[r,i,a]=Ik(t,n),l=Wb(c=>{const{target:h}=c,p=e(c);if(typeof p!="function"||!h)return;const g=Wb(_=>{p(_),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const kk=(t,e)=>e?t===e?!0:kk(t,e.parentElement):!1,T0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,B4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j4(t){return B4.has(t.tagName)||t.tabIndex!==-1}const xc=new WeakSet;function Hb(t){return e=>{e.key==="Enter"&&t(e)}}function Qg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const W4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Hb(()=>{if(xc.has(n))return;Qg(n,"down");const i=Hb(()=>{Qg(n,"up")}),a=()=>Qg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function qb(t){return T0(t)&&!Ek()}function H4(t,e,n={}){const[r,i,a]=Ik(t,n),l=c=>{const h=c.currentTarget;if(!qb(c)||xc.has(h))return;xc.add(h);const p=e(c),g=(T,k)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),!(!qb(T)||!xc.has(h))&&(xc.delete(h),typeof p=="function"&&p(T,{success:k}))},_=T=>{g(T,n.useGlobalTarget||kk(h,T.target))},S=T=>{g(T,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",S,i)};return r.forEach(c=>{!j4(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",p=>W4(p,i),i)}),a}function q4(t){return t==="x"||t==="y"?oi[t]?null:(oi[t]=!0,()=>{oi[t]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}const Pk=new Set(["width","height","top","left","right","bottom",...Ou]);let Af;function G4(){Af=void 0}const Bi={now:()=>(Af===void 0&&Bi.set(mn.isProcessing||B$.useManualTiming?mn.timestamp:performance.now()),Af),set:t=>{Af=t,queueMicrotask(G4)}};function E0(t,e){t.indexOf(e)===-1&&t.push(e)}function I0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class k0{constructor(){this.subscriptions=[]}add(e){return E0(this.subscriptions,e),()=>I0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ak(t,e){return e?t*(1e3/e):0}const Gb=30,K4=t=>!isNaN(parseFloat(t));class Q4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Bi.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=K4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new k0);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gb);return Ak(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ld(t,e){return new Q4(t,e)}function Y4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ld(n))}function X4(t,e){const n=Cp(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=u4(a[l]);Y4(t,l,c)}}function J4(t){return!!(Cn(t)&&t.add)}function Wy(t,e){const n=t.getValue("willChange");if(J4(n))return n.add(e)}function Ck(t){return t.props[sk]}const xk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Z4=1e-7,e5=12;function t5(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=xk(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>Z4&&++c<e5);return l}function Ad(t,e,n,r){if(t===e&&n===r)return kr;const i=a=>t5(a,0,1,t,n);return a=>a===0||a===1?a:xk(i(a),e,r)}const Rk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Dk=t=>e=>1-t(1-e),Nk=Ad(.33,1.53,.69,.99),P0=Dk(Nk),Ok=Rk(P0),Mk=t=>(t*=2)<1?.5*P0(t):.5*(2-Math.pow(2,-10*(t-1))),A0=t=>1-Math.sin(Math.acos(t)),Vk=Dk(A0),Lk=Rk(A0),Fk=t=>/^0[^.\s]+$/u.test(t);function n5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Fk(t):!0}const Wc=t=>Math.round(t*1e5)/1e5,C0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r5(t){return t==null}const i5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x0=(t,e)=>n=>!!(typeof n=="string"&&i5.test(n)&&n.startsWith(t)||e&&!r5(n)&&Object.prototype.hasOwnProperty.call(n,e)),$k=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(C0);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},s5=t=>Ns(0,255,t),Yg={...Mu,transform:t=>Math.round(s5(t))},Aa={test:x0("rgb","red"),parse:$k("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yg.transform(t)+", "+Yg.transform(e)+", "+Yg.transform(n)+", "+Wc(ad.transform(r))+")"};function o5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hy={test:x0("#"),parse:o5,transform:Aa.transform},Zl={test:x0("hsl","hue"),parse:$k("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zi.transform(Wc(e))+", "+zi.transform(Wc(n))+", "+Wc(ad.transform(r))+")"},kn={test:t=>Aa.test(t)||Hy.test(t)||Zl.test(t),parse:t=>Aa.test(t)?Aa.parse(t):Zl.test(t)?Zl.parse(t):Hy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Aa.transform(t):Zl.transform(t)},a5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(C0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(a5))===null||n===void 0?void 0:n.length)||0)>0}const Uk="number",zk="color",u5="var",c5="var(",Kb="${}",d5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ud(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(d5,h=>(kn.test(h)?(r.color.push(a),i.push(zk),n.push(kn.parse(h))):h.startsWith(c5)?(r.var.push(a),i.push(u5),n.push(h)):(r.number.push(a),i.push(Uk),n.push(parseFloat(h))),++a,Kb)).split(Kb);return{values:n,split:c,indexes:r,types:i}}function Bk(t){return ud(t).values}function jk(t){const{split:e,types:n}=ud(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===Uk?a+=Wc(i[l]):c===zk?a+=kn.transform(i[l]):a+=i[l]}return a}}const h5=t=>typeof t=="number"?0:t;function f5(t){const e=Bk(t);return jk(t)(e.map(h5))}const Vo={test:l5,parse:Bk,createTransformer:jk,getAnimatableNone:f5},p5=new Set(["brightness","contrast","saturate","opacity"]);function m5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(C0)||[];if(!r)return t;const i=n.replace(r,"");let a=p5.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const g5=/\b([a-z-]*)\(.*?\)/gu,qy={...Vo,getAnimatableNone:t=>{const e=t.match(g5);return e?e.map(m5).join(" "):t}},y5={...p0,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:qy,WebkitFilter:qy},R0=t=>y5[t];function Wk(t,e){let n=R0(t);return n!==qy&&(n=Vo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v5=new Set(["auto","none","0"]);function _5(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!v5.has(a)&&ud(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=Wk(n,i)}const Qb=t=>t===Mu||t===Ce,Yb=(t,e)=>parseFloat(t.split(", ")[e]),Xb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Yb(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Yb(a[1],t):0}},w5=new Set(["x","y","z"]),S5=Ou.filter(t=>!w5.has(t));function b5(t){const e=[];return S5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Xb(4,13),y:Xb(5,14)};bu.translateX=bu.x;bu.translateY=bu.y;const Na=new Set;let Gy=!1,Ky=!1;function Hk(){if(Ky){const t=Array.from(Na).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=b5(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ky=!1,Gy=!1,Na.forEach(t=>t.complete()),Na.clear()}function qk(){Na.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ky=!0)})}function T5(){qk(),Hk()}class D0{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Na.add(this),Gy||(Gy=!0,St.read(qk),St.resolveKeyframes(Hk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Na.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Na.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Gk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),E5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I5(t){const e=E5.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Kk(t,e,n=1){const[r,i]=I5(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return Gk(l)?parseFloat(l):l}return f0(i)?Kk(i,e,n+1):i}const Qk=t=>e=>e.test(t),k5={test:t=>t==="auto",parse:t=>t},Yk=[Mu,Ce,zi,So,m4,p4,k5],Jb=t=>Yk.find(Qk(t));class Xk extends D0{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),f0(p))){const g=Kk(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Pk.has(r)||e.length!==2)return;const[i,a]=e,l=Jb(i),c=Jb(a);if(l!==c)if(Qb(l)&&Qb(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)n5(e[i])&&r.push(i);r.length&&_5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=bu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const Zb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vo.test(t)||t==="0")&&!t.startsWith("url("));function P5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function A5(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Zb(i,e),c=Zb(a,e);return!l||!c?!1:P5(t)||(n==="spring"||S0(n))&&r}const C5=t=>t!==null;function xp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(C5),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const x5=40;class Jk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Bi.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>x5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&T5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Bi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!A5(e,r,i,a))if(l)this.options.duration=0;else{h&&h(xp(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const At=(t,e,n)=>t+(e-t)*n;function Xg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function R5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=Xg(h,c,t+1/3),a=Xg(h,c,t),l=Xg(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Kf(t,e){return n=>n>0?e:t}const Jg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},D5=[Hy,Aa,Zl],N5=t=>D5.find(e=>e.test(t));function eT(t){const e=N5(t);if(!e)return!1;let n=e.parse(t);return e===Zl&&(n=R5(n)),n}const tT=(t,e)=>{const n=eT(t),r=eT(e);if(!n||!r)return Kf(t,e);const i={...n};return a=>(i.red=Jg(n.red,r.red,a),i.green=Jg(n.green,r.green,a),i.blue=Jg(n.blue,r.blue,a),i.alpha=At(n.alpha,r.alpha,a),Aa.transform(i))},O5=(t,e)=>n=>e(t(n)),Cd=(...t)=>t.reduce(O5),Qy=new Set(["none","hidden"]);function M5(t,e){return Qy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function V5(t,e){return n=>At(t,e,n)}function N0(t){return typeof t=="number"?V5:typeof t=="string"?f0(t)?Kf:kn.test(t)?tT:$5:Array.isArray(t)?Zk:typeof t=="object"?kn.test(t)?tT:L5:Kf}function Zk(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>N0(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function L5(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=N0(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function F5(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=h,i[l]++}return r}const $5=(t,e)=>{const n=Vo.createTransformer(e),r=ud(t),i=ud(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Qy.has(t)&&!i.values.length||Qy.has(e)&&!r.values.length?M5(t,e):Cd(Zk(F5(r,i),i.values),n):Kf(t,e)};function eP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):N0(t)(t,e)}const U5=5;function tP(t,e,n){const r=Math.max(e-U5,0);return Ak(n-t(r),e-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nT=.001;function z5({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let i,a,l=1-e;l=Ns(Dt.minDamping,Dt.maxDamping,l),t=Ns(Dt.minDuration,Dt.maxDuration,xs(t)),l<1?(i=p=>{const g=p*l,_=g*t,S=g-n,T=Yy(p,l),k=Math.exp(-_);return nT-S/T*k},a=p=>{const _=p*l*t,S=_*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,k=Math.exp(-_),P=Yy(Math.pow(p,2),l);return(-i(p)+nT>0?-1:1)*((S-T)*k)/P}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,h=j5(i,a,c);if(t=Cs(t),isNaN(h))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const B5=12;function j5(t,e,n){let r=n;for(let i=1;i<B5;i++)r=r-t(r)/e(r);return r}function Yy(t,e){return t*Math.sqrt(1-e*e)}const W5=["duration","bounce"],H5=["stiffness","damping","mass"];function rT(t,e){return e.some(n=>t[n]!==void 0)}function q5(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!rT(t,H5)&&rT(t,W5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ns(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Dt.mass,stiffness:i,damping:a}}else{const n=z5(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function nP(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:_,velocity:S,isResolvedFromDuration:T}=q5({...n,velocity:-xs(n.velocity||0)}),k=S||0,P=p/(2*Math.sqrt(h*g)),C=l-a,z=xs(Math.sqrt(h/g)),q=Math.abs(C)<5;r||(r=q?Dt.restSpeed.granular:Dt.restSpeed.default),i||(i=q?Dt.restDelta.granular:Dt.restDelta.default);let G;if(P<1){const O=Yy(z,P);G=X=>{const x=Math.exp(-P*z*X);return l-x*((k+P*z*C)/O*Math.sin(O*X)+C*Math.cos(O*X))}}else if(P===1)G=O=>l-Math.exp(-z*O)*(C+(k+z*C)*O);else{const O=z*Math.sqrt(P*P-1);G=X=>{const x=Math.exp(-P*z*X),E=Math.min(O*X,300);return l-x*((k+P*z*C)*Math.sinh(E)+O*C*Math.cosh(E))/O}}const te={calculatedDuration:T&&_||null,next:O=>{const X=G(O);if(T)c.done=O>=_;else{let x=0;P<1&&(x=O===0?Cs(k):tP(G,O,X));const E=Math.abs(x)<=r,R=Math.abs(l-X)<=i;c.done=E&&R}return c.value=c.done?l:X,c},toString:()=>{const O=Math.min(wk(te),By),X=Sk(x=>te.next(O*x).value,O,30);return O+"ms "+X}};return te}function iT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:g}){const _=t[0],S={done:!1,value:_},T=E=>c!==void 0&&E<c||h!==void 0&&E>h,k=E=>c===void 0?h:h===void 0||Math.abs(c-E)<Math.abs(h-E)?c:h;let P=n*e;const C=_+P,z=l===void 0?C:l(C);z!==C&&(P=z-_);const q=E=>-P*Math.exp(-E/r),G=E=>z+q(E),te=E=>{const R=q(E),M=G(E);S.done=Math.abs(R)<=p,S.value=S.done?z:M};let O,X;const x=E=>{T(S.value)&&(O=E,X=nP({keyframes:[S.value,k(S.value)],velocity:tP(G,E,S.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return x(0),{calculatedDuration:null,next:E=>{let R=!1;return!X&&O===void 0&&(R=!0,te(E),x(E)),O!==void 0&&E>=O?X.next(E-O):(!R&&te(E),S)}}}const G5=Ad(.42,0,1,1),K5=Ad(0,0,.58,1),rP=Ad(.42,0,.58,1),Q5=t=>Array.isArray(t)&&typeof t[0]!="number",Y5={linear:kr,easeIn:G5,easeInOut:rP,easeOut:K5,circIn:A0,circInOut:Lk,circOut:Vk,backIn:P0,backInOut:Ok,backOut:Nk,anticipate:Mk},sT=t=>{if(b0(t)){ek(t.length===4);const[e,n,r,i]=t;return Ad(e,n,r,i)}else if(typeof t=="string")return Y5[t];return t};function X5(t,e,n){const r=[],i=n||eP,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||kr:e;c=Cd(h,c)}r.push(c)}return r}function J5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ek(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=X5(e,r,i),h=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(h>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const S=wu(t[_],t[_+1],g);return c[_](S)};return n?g=>p(Ns(t[0],t[a-1],g)):p}function Z5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wu(0,e,r);t.push(At(n,1,i))}}function eU(t){const e=[0];return Z5(e,t.length-1),e}function tU(t,e){return t.map(n=>n*e)}function nU(t,e){return t.map(()=>e||rP).splice(0,t.length-1)}function Qf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Q5(r)?r.map(sT):sT(r),a={done:!1,value:e[0]},l=tU(n&&n.length===e.length?n:eU(e),t),c=J5(l,e,{ease:Array.isArray(i)?i:nU(e,i)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const rU=t=>{const e=({timestamp:n})=>t(n);return{start:()=>St.update(e,!0),stop:()=>Mo(e),now:()=>mn.isProcessing?mn.timestamp:Bi.now()}},iU={decay:iT,inertia:iT,tween:Qf,keyframes:Qf,spring:nP},sU=t=>t/100;class O0 extends Jk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||D0,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=S0(n)?n:iU[n]||Qf;let h,p;c!==Qf&&typeof e[0]!="number"&&(h=Cd(sU,eP(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=wk(g));const{calculatedDuration:_}=g,S=_+i,T=S*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:_,resolvedDuration:S,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:S,repeat:T,repeatType:k,repeatDelay:P,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const z=this.currentTime-S*(this.speed>=0?1:-1),q=this.speed>=0?z<0:z>g;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let G=this.currentTime,te=a;if(T){const E=Math.min(this.currentTime,g)/_;let R=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(k==="reverse"?(M=1-M,P&&(M-=P/_)):k==="mirror"&&(te=l)),G=Ns(0,1,M)*_}const O=q?{done:!1,value:h[0]}:te.next(G);c&&(O.value=c(O.value));let{done:X}=O;!q&&p!==null&&(X=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return x&&i!==void 0&&(O.value=xp(h,this.options,i)),C&&C(O.value),x&&this.finish(),O}get duration(){const{resolved:e}=this;return e?xs(e.calculatedDuration):0}get time(){return xs(this.currentTime)}set time(e){e=Cs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=rU,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const oU=new Set(["opacity","clipPath","filter","transform"]);function aU(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=Tk(c,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const lU=o0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yf=10,uU=2e4;function cU(t){return S0(t.type)||t.type==="spring"||!bk(t.ease)}function dU(t,e){const n=new O0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<uU;)r=n.sample(a),i.push(r.value),a+=Yf;return{times:void 0,keyframes:i,duration:a-Yf,ease:"linear"}}const iP={anticipate:Mk,backInOut:Ok,circInOut:Lk};function hU(t){return t in iP}class oT extends Jk{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new Xk(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Gf()&&hU(a)&&(a=iP[a]),cU(this.options)){const{onComplete:_,onUpdate:S,motionValue:T,element:k,...P}=this.options,C=dU(e,P);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,i=C.times,a=C.ease,l="keyframes"}const g=aU(c.owner.current,h,e,{...this.options,duration:r,times:i,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(jb(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;c.set(xp(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Cs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kr;const{animation:r}=n;jb(r,e)}return kr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:S,...T}=this.options,k=new O0({...T,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),P=Cs(this.time);p.setWithVelocity(k.sample(P-Yf).value,k.sample(P).value,Yf)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return lU()&&r&&oU.has(r)&&!h&&!p&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const fU={type:"spring",stiffness:500,damping:25,restSpeed:10},pU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mU={type:"keyframes",duration:.8},gU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yU=(t,{keyframes:e})=>e.length>2?mU:qa.has(t)?t.startsWith("scale")?pU(e[1]):fU:gU;function vU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const M0=(t,e,n,r={},i,a)=>l=>{const c=w0(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Cs(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:S=>{e.set(S),c.onUpdate&&c.onUpdate(S)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};vU(c)||(g={...g,...yU(t,g)}),g.duration&&(g.duration=Cs(g.duration)),g.repeatDelay&&(g.repeatDelay=Cs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const S=xp(g.keyframes,c);if(S!==void 0)return St.update(()=>{g.onUpdate(S),g.onComplete()}),new L4([])}return!a&&oT.supports(g)?new oT(g):new O0(g)};function _U({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const _ in h){const S=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),T=h[_];if(T===void 0||g&&_U(g,_))continue;const k={delay:n,...w0(l||{},_)};let P=!1;if(window.MotionHandoffAnimation){const z=Ck(t);if(z){const q=window.MotionHandoffAnimation(z,_,St);q!==null&&(k.startTime=q,P=!0)}}Wy(t,_),S.start(M0(_,S,T,t.shouldReduceMotion&&Pk.has(_)?{type:!1}:k,t,P));const C=S.animation;C&&p.push(C)}return c&&Promise.all(p).then(()=>{St.update(()=>{c&&X4(t,c)})}),p}function Xy(t,e,n={}){var r;const i=Cp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(sP(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:S}=a;return wU(t,e,g+p,_,S,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function wU(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(SU).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Xy(p,e,{...a,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function SU(t,e){return t.sortNodePosition(e)}function bU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Xy(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Xy(t,e,n);else{const i=typeof e=="function"?Cp(t,e,n.custom):e;r=Promise.all(sP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const TU=l0.length;function oP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<TU;n++){const r=l0[n],i=t.props[r];(od(i)||i===!1)&&(e[r]=i)}return e}const EU=[...a0].reverse(),IU=a0.length;function kU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>bU(t,n,r)))}function PU(t){let e=kU(t),n=aT(),r=!0;const i=h=>(p,g)=>{var _;const S=Cp(t,g,h==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(S){const{transition:T,transitionEnd:k,...P}=S;p={...p,...P,...k}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,g=oP(t.parent)||{},_=[],S=new Set;let T={},k=1/0;for(let C=0;C<IU;C++){const z=EU[C],q=n[z],G=p[z]!==void 0?p[z]:g[z],te=od(G),O=z===h?q.isActive:null;O===!1&&(k=C);let X=G===g[z]&&G!==p[z]&&te;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),q.protectedKeys={...T},!q.isActive&&O===null||!G&&!q.prevProp||Pp(G)||typeof G=="boolean")continue;const x=AU(q.prevProp,G);let E=x||z===h&&q.isActive&&!X&&te||C>k&&te,R=!1;const M=Array.isArray(G)?G:[G];let F=M.reduce(i(z),{});O===!1&&(F={});const{prevResolvedValues:B={}}=q,N={...B,...F},ut=Te=>{E=!0,S.has(Te)&&(R=!0,S.delete(Te)),q.needsAnimating[Te]=!0;const le=t.getValue(Te);le&&(le.liveStyle=!1)};for(const Te in N){const le=F[Te],be=B[Te];if(T.hasOwnProperty(Te))continue;let fe=!1;zy(le)&&zy(be)?fe=!_k(le,be):fe=le!==be,fe?le!=null?ut(Te):S.add(Te):le!==void 0&&S.has(Te)?ut(Te):q.protectedKeys[Te]=!0}q.prevProp=G,q.prevResolvedValues=F,q.isActive&&(T={...T,...F}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(X&&x)||R)&&_.push(...M.map(Te=>({animation:Te,options:{type:z}})))}if(S.size){const C={};S.forEach(z=>{const q=t.getBaseTarget(z),G=t.getValue(z);G&&(G.liveStyle=!0),C[z]=q??null}),_.push({animation:C})}let P=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(_):Promise.resolve()}function c(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(S=>{var T;return(T=S.animationState)===null||T===void 0?void 0:T.setActive(h,p)}),n[h].isActive=p;const _=l(h);for(const S in n)n[S].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=aT(),r=!0}}}function AU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_k(e,t):!1}function Sa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aT(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}class Wo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CU extends Wo{constructor(e){super(e),e.animationState||(e.animationState=PU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let xU=0;class RU extends Wo{constructor(){super(...arguments),this.id=xU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const DU={animation:{Feature:CU},exit:{Feature:RU}};function cd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xd(t){return{point:{x:t.pageX,y:t.pageY}}}const NU=t=>e=>T0(e)&&t(e,xd(e));function Hc(t,e,n,r){return cd(t,e,NU(n),r)}const lT=(t,e)=>Math.abs(t-e);function OU(t,e){const n=lT(t.x,e.x),r=lT(t.y,e.y);return Math.sqrt(n**2+r**2)}class aP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ey(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=OU(_.offset,{x:0,y:0})>=3;if(!S&&!T)return;const{point:k}=_,{timestamp:P}=mn;this.history.push({...k,timestamp:P});const{onStart:C,onMove:z}=this.handlers;S||(C&&C(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Zg(S,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:T,onSessionEnd:k,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=ey(_.type==="pointercancel"?this.lastMoveEventInfo:Zg(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,C),k&&k(_,C)},!T0(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=xd(e),c=Zg(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=mn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,ey(c,this.history)),this.removeListeners=Cd(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function Zg(t,e){return e?{point:e(t.point)}:t}function uT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ey({point:t},e){return{point:t,delta:uT(t,lP(e)),offset:uT(t,MU(e)),velocity:VU(e,.1)}}function MU(t){return t[0]}function lP(t){return t[t.length-1]}function VU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=lP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Cs(e)));)n--;if(!r)return{x:0,y:0};const a=xs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const uP=1e-4,LU=1-uP,FU=1+uP,cP=.01,$U=0-cP,UU=0+cP;function Pr(t){return t.max-t.min}function zU(t,e,n){return Math.abs(t-e)<=n}function cT(t,e,n,r=.5){t.origin=r,t.originPoint=At(e.min,e.max,t.origin),t.scale=Pr(n)/Pr(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=LU&&t.scale<=FU||isNaN(t.scale))&&(t.scale=1),(t.translate>=$U&&t.translate<=UU||isNaN(t.translate))&&(t.translate=0)}function qc(t,e,n,r){cT(t.x,e.x,n.x,r?r.originX:void 0),cT(t.y,e.y,n.y,r?r.originY:void 0)}function dT(t,e,n){t.min=n.min+e.min,t.max=t.min+Pr(e)}function BU(t,e,n){dT(t.x,e.x,n.x),dT(t.y,e.y,n.y)}function hT(t,e,n){t.min=e.min-n.min,t.max=t.min+Pr(e)}function Gc(t,e,n){hT(t.x,e.x,n.x),hT(t.y,e.y,n.y)}function jU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?At(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?At(n,t,r.max):Math.min(t,n)),t}function fT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WU(t,{top:e,left:n,bottom:r,right:i}){return{x:fT(t.x,n,i),y:fT(t.y,e,r)}}function pT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function HU(t,e){return{x:pT(t.x,e.x),y:pT(t.y,e.y)}}function qU(t,e){let n=.5;const r=Pr(t),i=Pr(e);return i>r?n=wu(e.min,e.max-r,t.min):r>i&&(n=wu(t.min,t.max-i,e.min)),Ns(0,1,n)}function GU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jy=.35;function KU(t=Jy){return t===!1?t=0:t===!0&&(t=Jy),{x:mT(t,"left","right"),y:mT(t,"top","bottom")}}function mT(t,e,n){return{min:gT(t,e),max:gT(t,n)}}function gT(t,e){return typeof t=="number"?t:t[e]||0}const yT=()=>({translate:0,scale:1,origin:0,originPoint:0}),eu=()=>({x:yT(),y:yT()}),vT=()=>({min:0,max:0}),Lt=()=>({x:vT(),y:vT()});function Hr(t){return[t("x"),t("y")]}function dP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function QU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ty(t){return t===void 0||t===1}function Zy({scale:t,scaleX:e,scaleY:n}){return!ty(t)||!ty(e)||!ty(n)}function ba(t){return Zy(t)||hP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hP(t){return _T(t.x)||_T(t.y)}function _T(t){return t&&t!=="0%"}function Xf(t,e,n){const r=t-n,i=e*r;return n+i}function wT(t,e,n,r,i){return i!==void 0&&(t=Xf(t,i,r)),Xf(t,n,r)+e}function ev(t,e=0,n=1,r,i){t.min=wT(t.min,e,n,r,i),t.max=wT(t.max,e,n,r,i)}function fP(t,{x:e,y:n}){ev(t.x,e.translate,e.scale,e.originPoint),ev(t.y,n.translate,n.scale,n.originPoint)}const ST=.999999999999,bT=1.0000000000001;function XU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&nu(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,fP(t,l)),r&&ba(a.latestValues)&&nu(t,a.latestValues))}e.x<bT&&e.x>ST&&(e.x=1),e.y<bT&&e.y>ST&&(e.y=1)}function tu(t,e){t.min=t.min+e,t.max=t.max+e}function TT(t,e,n,r,i=.5){const a=At(t.min,t.max,i);ev(t,e,n,a,r)}function nu(t,e){TT(t.x,e.x,e.scaleX,e.scale,e.originX),TT(t.y,e.y,e.scaleY,e.scale,e.originY)}function pP(t,e){return dP(YU(t.getBoundingClientRect(),e))}function JU(t,e,n){const r=pP(t,n),{scroll:i}=e;return i&&(tu(r.x,i.offset.x),tu(r.y,i.offset.y)),r}const mP=({current:t})=>t?t.ownerDocument.defaultView:null,ZU=new WeakMap;class ez{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xd(g).point)},a=(g,_)=>{const{drag:S,dragPropagation:T,onDragStart:k}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q4(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(C=>{let z=this.getAxisMotionValue(C).get()||0;if(zi.test(z)){const{projection:q}=this.visualElement;if(q&&q.layout){const G=q.layout.layoutBox[C];G&&(z=Pr(G)*(parseFloat(z)/100))}}this.originPoint[C]=z}),k&&St.postRender(()=>k(g,_)),Wy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:k,onDrag:P}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:C}=_;if(T&&this.currentDirection===null){this.currentDirection=tz(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",_.point,C),this.updateAxis("y",_.point,C),this.visualElement.render(),P&&P(g,_)},c=(g,_)=>this.stop(g,_),h=()=>Hr(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new aP(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:mP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&St.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nf(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=jU(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Jl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=WU(i.layoutBox,n):this.constraints=!1,this.elastic=KU(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=GU(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=JU(r,i.root,this.visualElement.getTransformPagePoint());let l=HU(i.layout.layoutBox,a);if(n){const c=n(QU(l));this.hasMutatedConstraints=!!c,c&&(l=dP(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Hr(g=>{if(!nf(g,n,this.currentDirection))return;let _=h&&h[g]||{};l&&(_={min:0,max:0});const S=i?200:1e6,T=i?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:S,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Wy(this.visualElement,e),r.start(M0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:r}=this.getProps();if(!nf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-At(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=qU({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hr(l=>{if(!nf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(At(h,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;ZU.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Jl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),St.read(r);const l=cd(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hr(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=h[g].translate,_.set(_.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Jy,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function nf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nz extends Wo{constructor(e){super(e),this.removeGroupControls=kr,this.removeListeners=kr,this.controls=new ez(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const ET=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class rz extends Wo{constructor(){super(...arguments),this.removePointerDownListener=kr}onPointerDown(e){this.session=new aP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ET(e),onStart:ET(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&St.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _c={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=IT(t,e.target.x),r=IT(t,e.target.y);return`${n}% ${r}%`}},iz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Vo.parse(t);if(i.length>5)return r;const a=Vo.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const p=At(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};class sz extends Y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;I4(oz),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||St.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),c0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gP(t){const[e,n]=JI(),r=Y.useContext(n0);return oe.jsx(sz,{...t,layoutGroup:r,switchLayoutGroup:Y.useContext(ok),isPresent:e,safeToRemove:n})}const oz={borderRadius:{..._c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_c,borderTopRightRadius:_c,borderBottomLeftRadius:_c,borderBottomRightRadius:_c,boxShadow:iz};function az(t,e,n){const r=Cn(t)?t:ld(t);return r.start(M0("",r,e,n)),r.animation}function lz(t){return t instanceof SVGElement&&t.tagName!=="svg"}const uz=(t,e)=>t.depth-e.depth;class cz{constructor(){this.children=[],this.isDirty=!1}add(e){E0(this.children,e),this.isDirty=!0}remove(e){I0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uz),this.isDirty=!1,this.children.forEach(e)}}function dz(t,e){const n=Bi.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Mo(r),t(a-e))};return St.read(r,!0),()=>Mo(r)}const yP=["TopLeft","TopRight","BottomLeft","BottomRight"],hz=yP.length,kT=t=>typeof t=="string"?parseFloat(t):t,PT=t=>typeof t=="number"||Ce.test(t);function fz(t,e,n,r,i,a){i?(t.opacity=At(0,n.opacity!==void 0?n.opacity:1,pz(r)),t.opacityExit=At(e.opacity!==void 0?e.opacity:1,0,mz(r))):a&&(t.opacity=At(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<hz;l++){const c=`border${yP[l]}Radius`;let h=AT(e,c),p=AT(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||PT(h)===PT(p)?(t[c]=Math.max(At(kT(h),kT(p),r),0),(zi.test(p)||zi.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,r))}function AT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pz=vP(0,.5,Vk),mz=vP(.5,.95,kr);function vP(t,e,n){return r=>r<t?0:r>e?1:n(wu(t,e,r))}function CT(t,e){t.min=e.min,t.max=e.max}function jr(t,e){CT(t.x,e.x),CT(t.y,e.y)}function xT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function RT(t,e,n,r,i){return t-=e,t=Xf(t,1/n,r),i!==void 0&&(t=Xf(t,1/i,r)),t}function gz(t,e=0,n=1,r=.5,i,a=t,l=t){if(zi.test(e)&&(e=parseFloat(e),e=At(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=At(a.min,a.max,r);t===a&&(c-=e),t.min=RT(t.min,e,n,c,i),t.max=RT(t.max,e,n,c,i)}function DT(t,e,[n,r,i],a,l){gz(t,e[n],e[r],e[i],e.scale,a,l)}const yz=["x","scaleX","originX"],vz=["y","scaleY","originY"];function NT(t,e,n,r){DT(t.x,e,yz,n?n.x:void 0,r?r.x:void 0),DT(t.y,e,vz,n?n.y:void 0,r?r.y:void 0)}function OT(t){return t.translate===0&&t.scale===1}function _P(t){return OT(t.x)&&OT(t.y)}function MT(t,e){return t.min===e.min&&t.max===e.max}function _z(t,e){return MT(t.x,e.x)&&MT(t.y,e.y)}function VT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wP(t,e){return VT(t.x,e.x)&&VT(t.y,e.y)}function LT(t){return Pr(t.x)/Pr(t.y)}function FT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wz{constructor(){this.members=[]}add(e){E0(this.members,e),e.scheduleRender()}remove(e){if(I0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sz(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:S,skewX:T,skewY:k}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),S&&(r+=`rotateY(${S}deg) `),T&&(r+=`skewX(${T}deg) `),k&&(r+=`skewY(${k}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const Ta={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Rc=typeof window<"u"&&window.MotionDebug!==void 0,ny=["","X","Y","Z"],bz={visibility:"hidden"},$T=1e3;let Tz=0;function ry(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ck(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SP(r)}function bP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=Tz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rc&&(Ta.totalNodes=Ta.resolvedTargetDeltas=Ta.recalculatedProjection=0),this.nodes.forEach(kz),this.nodes.forEach(Rz),this.nodes.forEach(Dz),this.nodes.forEach(Pz),Rc&&window.MotionDebug.record(Ta)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new cz)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new k0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lz(l),this.instance=l;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let _;const S=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=dz(S,250),Cf.hasAnimatedSinceResize&&(Cf.hasAnimatedSinceResize=!1,this.nodes.forEach(zT))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:S,hasRelativeTargetChanged:T,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||Lz,{onLayoutAnimationStart:C,onLayoutAnimationComplete:z}=g.getProps(),q=!this.targetLayout||!wP(this.targetLayout,k)||T,G=!S&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||G||S&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,G);const te={...w0(P,"layout"),onPlay:C,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te)}else S||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UT);return}this.isUpdating||this.nodes.forEach(Cz),this.isUpdating=!1,this.nodes.forEach(xz),this.nodes.forEach(Ez),this.nodes.forEach(Iz),this.clearAllSnapshots();const c=Bi.now();mn.delta=Ns(0,1e3/60,c-mn.timestamp),mn.timestamp=c,mn.isProcessing=!0,Kg.update.process(mn),Kg.preRender.process(mn),Kg.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Az),this.sharedNodes.forEach(Oz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!_P(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||ba(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),Fz(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Lt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some($z))){const{scroll:g}=this.root;g&&(tu(h.x,g.offset.x),tu(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=Lt();if(jr(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:S}=g;g!==this.root&&_&&S.layoutScroll&&(_.wasRoot&&jr(h,l),tu(h.x,_.offset.x),tu(h.y,_.offset.y))}return h}applyTransform(l,c=!1){const h=Lt();jr(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&nu(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ba(g.latestValues)&&nu(h,g.latestValues)}return ba(this.latestValues)&&nu(h,this.latestValues),h}removeTransform(l){const c=Lt();jr(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ba(p.latestValues))continue;Zy(p.latestValues)&&p.updateSnapshot();const g=Lt(),_=p.measurePageBox();jr(g,_),NT(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ba(this.latestValues)&&NT(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:S}=this.options;if(!(!this.layout||!(_||S))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jr(this.target,this.layout.layoutBox),fP(this.target,this.targetDelta)):jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Gc(this.relativeTargetOrigin,this.target,T.target),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rc&&Ta.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zy(this.parent.latestValues)||hP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;jr(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,T=this.treeScale.y;XU(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Lt());const{target:k}=c;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xT(this.prevProjectionDelta.x,this.projectionDelta.x),xT(this.prevProjectionDelta.y,this.projectionDelta.y)),qc(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==T||!FT(this.projectionDelta.x,this.prevProjectionDelta.x)||!FT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Rc&&Ta.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eu(),this.projectionDelta=eu(),this.projectionDeltaWithTransform=eu()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},_=eu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const S=Lt(),T=h?h.source:void 0,k=this.layout?this.layout.source:void 0,P=T!==k,C=this.getStack(),z=!C||C.members.length<=1,q=!!(P&&!z&&this.options.crossfade===!0&&!this.path.some(Vz));this.animationProgress=0;let G;this.mixTargetDelta=te=>{const O=te/1e3;BT(_.x,l.x,O),BT(_.y,l.y,O),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mz(this.relativeTarget,this.relativeTargetOrigin,S,O),G&&_z(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Lt()),jr(G,this.relativeTarget)),P&&(this.animationValues=g,fz(g,p,this.latestValues,O,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{Cf.hasAnimatedSinceResize=!0,this.currentAnimation=az(0,$T,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($T),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:g}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&TP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Lt();const _=Pr(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+_;const S=Pr(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+S}jr(c,h),nu(c,g),qc(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new wz),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&ry("z",l,p,this.animationValues);for(let g=0;g<ny.length;g++)ry(`rotate${ny[g]}`,l,p,this.animationValues),ry(`skew${ny[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bz;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Pf(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Pf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(P.transform=g?g({},""):"none",this.hasProjected=!1),P}const S=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=Sz(this.projectionDeltaWithTransform,this.treeScale,S),g&&(p.transform=g(S,p.transform));const{x:T,y:k}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${k.origin*100}% 0`,_.animationValues?p.opacity=_===this?(h=(c=S.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:p.opacity=_===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const P in qf){if(S[P]===void 0)continue;const{correct:C,applyTo:z}=qf[P],q=p.transform==="none"?S[P]:C(S[P],_);if(z){const G=z.length;for(let te=0;te<G;te++)p[z[te]]=q}else p[P]=q}return this.options.layoutId&&(p.pointerEvents=_===this?Pf(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(UT),this.root.sharedNodes.clear()}}}function Ez(t){t.updateLayout()}function Iz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Hr(_=>{const S=l?n.measuredBox[_]:n.layoutBox[_],T=Pr(S);S.min=r[_].min,S.max=S.min+T}):TP(a,n.layoutBox,r)&&Hr(_=>{const S=l?n.measuredBox[_]:n.layoutBox[_],T=Pr(r[_]);S.max=S.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+T)});const c=eu();qc(c,r,n.layoutBox);const h=eu();l?qc(h,t.applyTransform(i,!0),n.measuredBox):qc(h,r,n.layoutBox);const p=!_P(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:S,layout:T}=_;if(S&&T){const k=Lt();Gc(k,n.layoutBox,S.layoutBox);const P=Lt();Gc(P,r,T.layoutBox),wP(k,P)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=k,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kz(t){Rc&&Ta.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Pz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Az(t){t.clearSnapshot()}function UT(t){t.clearMeasurements()}function Cz(t){t.isLayoutDirty=!1}function xz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rz(t){t.resolveTargetDelta()}function Dz(t){t.calcProjection()}function Nz(t){t.resetSkewAndRotation()}function Oz(t){t.removeLeadSnapshot()}function BT(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jT(t,e,n,r){t.min=At(e.min,n.min,r),t.max=At(e.max,n.max,r)}function Mz(t,e,n,r){jT(t.x,e.x,n.x,r),jT(t.y,e.y,n.y,r)}function Vz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Lz={duration:.45,ease:[.4,0,.1,1]},WT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HT=WT("applewebkit/")&&!WT("chrome/")?Math.round:kr;function qT(t){t.min=HT(t.min),t.max=HT(t.max)}function Fz(t){qT(t.x),qT(t.y)}function TP(t,e,n){return t==="position"||t==="preserve-aspect"&&!zU(LT(e),LT(n),.2)}function $z(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Uz=bP({attachResizeListener:(t,e)=>cd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},EP=bP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iy.current){const t=new Uz({});t.mount(window),t.setOptions({layoutScroll:!0}),iy.current=t}return iy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zz={pan:{Feature:rz},drag:{Feature:nz,ProjectionNode:EP,MeasureLayout:gP}};function GT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&St.postRender(()=>a(e,xd(e)))}class Bz extends Wo{mount(){const{current:e}=this.node;e&&(this.unmount=z4(e,n=>(GT(this.node,n,"Start"),r=>GT(this.node,r,"End"))))}unmount(){}}class jz extends Wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cd(cd(this.node.current,"focus",()=>this.onFocus()),cd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&St.postRender(()=>a(e,xd(e)))}class Wz extends Wo{mount(){const{current:e}=this.node;e&&(this.unmount=H4(e,n=>(KT(this.node,n,"Start"),(r,{success:i})=>KT(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tv=new WeakMap,sy=new WeakMap,Hz=t=>{const e=tv.get(t.target);e&&e(t)},qz=t=>{t.forEach(Hz)};function Gz({root:t,...e}){const n=t||document;sy.has(n)||sy.set(n,{});const r=sy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(qz,{root:t,...e})),r[i]}function Kz(t,e,n){const r=Gz(e);return tv.set(t,n),r.observe(t),()=>{tv.delete(t),r.unobserve(t)}}const Qz={some:0,all:1};class Yz extends Wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Qz[i]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),S=p?g:_;S&&S(h)};return Kz(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Xz(e,n))&&this.startObserver()}unmount(){}}function Xz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Jz={inView:{Feature:Yz},tap:{Feature:Wz},focus:{Feature:jz},hover:{Feature:Bz}},Zz={layout:{ProjectionNode:EP,MeasureLayout:gP}},nv={current:null},IP={current:!1};function eB(){if(IP.current=!0,!!s0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nv.current=t.matches;t.addListener(e),e()}else nv.current=!1}const tB=[...Yk,kn,Vo],nB=t=>tB.find(Qk(t)),QT=new WeakMap;function rB(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Cn(i))t.addValue(r,i);else if(Cn(a))t.addValue(r,ld(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ld(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const YT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=D0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Bi.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,St.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Ap(n),this.isVariantNode=ik(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in S){const k=S[T];h[T]!==void 0&&Cn(k)&&k.set(h[T],!1)}}mount(e){this.current=e,QT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IP.current||eB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){QT.delete(this.current),this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=qa.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Su){const n=Su[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YT.length;r++){const i=YT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=rB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ld(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Gk(i)||Fk(i))?i=parseFloat(i):!nB(i)&&Vo.test(n)&&(i=Wk(e,n)),this.setBaseTarget(e,Cn(i)?i.get():i)),Cn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=h0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Cn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new k0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class kP extends iB{constructor(){super(...arguments),this.KeyframeResolver=Xk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sB(t){return window.getComputedStyle(t)}class oB extends kP{constructor(){super(...arguments),this.type="html",this.renderInstance=fk}readValueFromInstance(e,n){if(qa.has(n)){const r=R0(n);return r&&r.default||0}else{const r=sB(e),i=(ck(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pP(e,n)}build(e,n,r){m0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return _0(e,n,r)}}class aB extends kP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qa.has(n)){const r=R0(n);return r&&r.default||0}return n=pk.has(n)?n:u0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yk(e,n,r)}build(e,n,r){g0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){mk(e,n,r,i)}mount(e){this.isSVGTag=v0(e.tagName),super.mount(e)}}const lB=(t,e)=>d0(t)?new aB(e):new oB(e,{allowProjection:t!==Y.Fragment}),uB=O4({...DU,...Jz,...zz,...Zz},lB),PP=Q$(uB),cB=(t,e)=>t.find(n=>n.id===e);function XT(t,e){const n=AP(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function AP(t,e){for(const[n,r]of Object.entries(t))if(cB(r,e))return n}function dB(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function hB(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,a=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",l=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:a,left:l}}var fB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pB=UI(function(t){return fB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),mB=pB,gB=function(e){return e!=="theme"},JT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?mB:gB},ZT=function(e,n,r){var i;if(n){var a=n.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(l){return e.__emotion_forwardProp(l)&&a(l)}:a}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},yB=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Qv(n,r,i),HI(function(){return Yv(n,r,i)}),null},vB=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,a,l;n!==void 0&&(a=n.label,l=n.target);var c=ZT(e,n,r),h=c||JT(i),p=!h("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&_.push("label:"+a+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var S=g[0];_.push(S[0]);for(var T=g.length,k=1;k<T;k++)_.push(g[k],S[k])}var P=Jv(function(C,z,q){var G=p&&C.as||i,te="",O=[],X=C;if(C.theme==null){X={};for(var x in C)X[x]=C[x];X.theme=Y.useContext(_u)}typeof C.className=="string"?te=BI(z.registered,O,C.className):C.className!=null&&(te=C.className+" ");var E=Ep(_.concat(O),z.registered,X);te+=z.key+"-"+E.name,l!==void 0&&(te+=" "+l);var R=p&&c===void 0?JT(G):h,M={};for(var F in C)p&&F==="as"||R(F)&&(M[F]=C[F]);return M.className=te,q&&(M.ref=q),Y.createElement(Y.Fragment,null,Y.createElement(yB,{cache:z,serialized:E,isStringTag:typeof G=="string"}),Y.createElement(G,M))});return P.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",P.defaultProps=e.defaultProps,P.__emotion_real=P,P.__emotion_base=i,P.__emotion_styles=_,P.__emotion_forwardProp=c,Object.defineProperty(P,"toString",{value:function(){return"."+l}}),P.withComponent=function(C,z){var q=t(C,Wf({},n,z,{shouldForwardProp:ZT(P,z,!0)}));return q.apply(void 0,_)},P}},_B=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],rv=vB.bind(null);_B.forEach(function(t){rv[t]=rv(t)});const wB=new Set([...BD,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),SB=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function bB(t){return(SB.has(t)||!wB.has(t))&&t[0]!=="_"}const TB=nD(rv),EB=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:a,...l}=e,[c]=sD(l,WD),h=Li(t,e),p=GR({},i,h,Fv(c),a),g=_I(p)(e.theme);return r?[g,r]:g};function oy(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=bB);const i=EB({baseStyle:n}),a=TB(t,r)(i);return Y.forwardRef(function(h,p){const{children:g,..._}=h,{colorMode:S,forced:T}=t0(),k=T?S:void 0;return Y.createElement(a,{ref:p,"data-theme":k,..._},g)})}function IB(){const t=new Map;return new Proxy(oy,{apply(e,n,r){return oy(...r)},get(e,n){return t.has(n)||t.set(n,oy(n)),t.get(n)}})}const Ar=IB(),kB={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},CP=Y.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:a=!1,position:l="bottom",duration:c=5e3,containerStyle:h,motionVariants:p=kB,toastSpacing:g="0.5rem"}=t,[_,S]=Y.useState(c),T=$$();ib(()=>{T||r==null||r()},[T]),ib(()=>{S(c)},[c]);const k=()=>S(null),P=()=>S(c),C=()=>{T&&i()};Y.useEffect(()=>{T&&a&&i()},[T,a,i]),uD(C,_);const z=Y.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:g,...h}),[h,g]),q=Y.useMemo(()=>dB(l),[l]);return oe.jsx(PP.div,{layout:!0,className:"chakra-toast",variants:p,initial:"initial",animate:"animate",exit:"exit",onHoverStart:k,onHoverEnd:P,custom:{position:l},style:q,children:oe.jsx(Ar.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:z,children:Li(n,{id:e,onClose:C})})})});CP.displayName="ToastComponent";function Ga(t){return Y.forwardRef(t)}var ay,eE;function PB(){if(eE)return ay;eE=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,h,p;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(h=c;h--!==0;)if(!i(a[h],l[h]))return!1;return!0}var g;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(g=a.entries();!(h=g.next()).done;)if(!l.has(h.value[0]))return!1;for(g=a.entries();!(h=g.next()).done;)if(!i(h.value[1],l.get(h.value[0])))return!1;return!0}if(n&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(g=a.entries();!(h=g.next()).done;)if(!l.has(h.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(h=c;h--!==0;)if(a[h]!==l[h])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),c=p.length,c!==Object.keys(l).length)return!1;for(h=c;h--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[h]))return!1;if(t&&a instanceof Element)return!1;for(h=c;h--!==0;)if(!((p[h]==="_owner"||p[h]==="__v"||p[h]==="__o")&&a.$$typeof)&&!i(a[p[h]],l[p[h]]))return!1;return!0}return a!==a&&l!==l}return ay=function(l,c){try{return i(l,c)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},ay}var AB=PB();const CB=Td(AB);function xB(){const t=Y.useContext(_u);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function RB(){const t=t0(),e=xB();return{...t,theme:e}}function xP(t,e={}){const{styleConfig:n,...r}=e,{theme:i,colorMode:a}=RB(),l=t?fI(i,`components.${t}`):void 0,c=n||l,h=Fi({theme:i,colorMode:a},(c==null?void 0:c.defaultProps)??{},Fv(pI(r,["children"])),(g,_)=>g?void 0:_),p=Y.useRef({});if(c){const _=e2(c)(h);CB(p.current,_)||(p.current=_)}return p.current}function Rp(t,e={}){return xP(t,e)}function DB(t,e={}){return xP(t,e)}const tE={path:oe.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[oe.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),oe.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),oe.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Rd=Ga((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:a=!1,children:l,className:c,__css:h,...p}=t,g=Ha("chakra-icon",c),_=Rp("Icon",t),S={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...h,..._},T={ref:e,focusable:a,className:g,__css:S},k=r??tE.viewBox;if(n&&typeof n!="string")return oe.jsx(Ar.svg,{as:n,...T,...p});const P=l??tE.path;return oe.jsx(Ar.svg,{verticalAlign:"middle",viewBox:k,...T,...p,children:P})});Rd.displayName="Icon";function NB(t){return oe.jsx(Rd,{viewBox:"0 0 24 24",...t,children:oe.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function OB(t){return oe.jsx(Rd,{viewBox:"0 0 24 24",...t,children:oe.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function nE(t){return oe.jsx(Rd,{viewBox:"0 0 24 24",...t,children:oe.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const MB=S$({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),RP=Ga((t,e)=>{const n=Rp("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:a="0.45s",emptyColor:l="transparent",className:c,...h}=yp(t),p=Ha("chakra-spinner",c),g={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:l,borderLeftColor:l,animation:`${MB} ${a} linear infinite`,...n};return oe.jsx(Ar.div,{ref:e,__css:g,className:p,...h,children:r&&oe.jsx(Ar.span,{srOnly:!0,children:r})})});RP.displayName="Spinner";const[VB,V0]=Du({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[LB,L0]=Du({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),DP={info:{icon:OB,colorScheme:"blue"},warning:{icon:nE,colorScheme:"orange"},success:{icon:NB,colorScheme:"green"},error:{icon:nE,colorScheme:"red"},loading:{icon:RP,colorScheme:"blue"}};function FB(t){return DP[t].colorScheme}function $B(t){return DP[t].icon}const NP=Ga(function(e,n){const{status:r="info",addRole:i=!0,...a}=yp(e),l=e.colorScheme??FB(r),c=DB("Alert",{...e,colorScheme:l}),h={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...c.container};return oe.jsx(VB,{value:{status:r},children:oe.jsx(LB,{value:c,children:oe.jsx(Ar.div,{"data-status":r,role:i?"alert":void 0,ref:n,...a,className:Ha("chakra-alert",e.className),__css:h})})})});NP.displayName="Alert";function OP(t){const{status:e}=V0(),n=$B(e),r=L0(),i=e==="loading"?r.spinner:r.icon;return oe.jsx(Ar.span,{display:"inherit","data-status":e,...t,className:Ha("chakra-alert__icon",t.className),__css:i,children:t.children||oe.jsx(n,{h:"100%",w:"100%"})})}OP.displayName="AlertIcon";const MP=Ga(function(e,n){const r=L0(),{status:i}=V0();return oe.jsx(Ar.div,{ref:n,"data-status":i,...e,className:Ha("chakra-alert__title",e.className),__css:r.title})});MP.displayName="AlertTitle";const VP=Ga(function(e,n){const{status:r}=V0(),i=L0(),a={display:"inline",...i.description};return oe.jsx(Ar.div,{ref:n,"data-status":r,...e,className:Ha("chakra-alert__desc",e.className),__css:a})});VP.displayName="AlertDescription";function UB(t){return oe.jsx(Rd,{focusable:"false","aria-hidden":!0,...t,children:oe.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const LP=Ga(function(e,n){const r=Rp("CloseButton",e),{children:i,isDisabled:a,__css:l,...c}=yp(e),h={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return oe.jsx(Ar.button,{type:"button","aria-label":"Close",ref:n,disabled:a,__css:{...h,...r,...l},...c,children:i||oe.jsx(UB,{width:"1em",height:"1em"})})});LP.displayName="CloseButton";const zB=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:a,onClose:l,description:c,colorScheme:h,icon:p}=t,g=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return oe.jsxs(NP,{addRole:!1,status:e,variant:n,id:g==null?void 0:g.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:h,children:[oe.jsx(OP,{children:p}),oe.jsxs(Ar.div,{flex:"1",maxWidth:"100%",children:[i&&oe.jsx(MP,{id:g==null?void 0:g.title,children:i}),c&&oe.jsx(VP,{id:g==null?void 0:g.description,display:"block",children:c})]}),a&&oe.jsx(LP,{size:"sm",onClick:l,position:"absolute",insetEnd:1,top:1})]})};function BB(t={}){const{render:e,toastComponent:n=zB}=t;return i=>typeof e=="function"?e({...i,...t}):oe.jsx(n,{...i,...t})}const jB={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Kc=WB(jB);function WB(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(a=>a())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,a)=>{r(l=>({...l,[a]:l[a].filter(c=>c.id!=i)}))},notify:(i,a)=>{const l=HB(i,a),{position:c,id:h}=l;return r(p=>{const _=c.includes("top")?[l,...p[c]??[]]:[...p[c]??[],l];return{...p,[c]:_}}),h},update:(i,a)=>{i&&r(l=>{const c={...l},{position:h,index:p}=XT(c,i);return h&&p!==-1&&(c[h][p]={...c[h][p],...a,message:BB(a)}),c})},closeAll:({positions:i}={})=>{r(a=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((h,p)=>(h[p]=a[p].map(g=>({...g,requestClose:!0})),h),{...a}))},close:i=>{r(a=>{const l=AP(a,i);return l?{...a,[l]:a[l].map(c=>c.id==i?{...c,requestClose:!0}:c)}:a})},isActive:i=>!!XT(Kc.getState(),i).position}}let rE=0;function HB(t,e={}){rE+=1;const n=e.id??rE,r=e.position??"bottom";return{id:n,message:t,position:r,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Kc.removeToast(String(n),r),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var FP=dI();const[$P,qB]=Du({strict:!1,name:"PortalContext"}),F0="chakra-portal",GB=".chakra-portal",KB=t=>oe.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),QB=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=Y.useState(null),a=Y.useRef(null),[,l]=Y.useState({});Y.useEffect(()=>l({}),[]);const c=qB(),h=N$();Ay(()=>{if(!r)return;const g=r.ownerDocument,_=e?c??g.body:g.body;if(!_)return;a.current=g.createElement("div"),a.current.className=F0,_.appendChild(a.current),l({});const S=a.current;return()=>{_.contains(S)&&_.removeChild(S)}},[r]);const p=h!=null&&h.zIndex?oe.jsx(KB,{zIndex:h==null?void 0:h.zIndex,children:n}):n;return a.current?FP.createPortal(oe.jsx($P,{value:a.current,children:p}),a.current):oe.jsx("span",{ref:g=>{g&&i(g)}})},YB=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,a=i??(typeof window<"u"?document.body:void 0),l=Y.useMemo(()=>{const h=i==null?void 0:i.ownerDocument.createElement("div");return h&&(h.className=F0),h},[i]),[,c]=Y.useState({});return Ay(()=>c({}),[]),Ay(()=>{if(!(!l||!a))return a.appendChild(l),()=>{a.removeChild(l)}},[l,a]),a&&l?FP.createPortal(oe.jsx($P,{value:r?l:null,children:e}),l):null};function Dp(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?oe.jsx(YB,{containerRef:n,...r}):oe.jsx(QB,{...r})}Dp.className=F0;Dp.selector=GB;Dp.displayName="Portal";const[XB,XG]=Du({name:"ToastOptionsContext",strict:!1}),JB=t=>{const e=Y.useSyncExternalStore(Kc.subscribe,Kc.getState,Kc.getState),{motionVariants:n,component:r=CP,portalProps:i,animatePresenceProps:a}=t,c=Object.keys(e).map(h=>{const p=e[h];return oe.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${h}`,id:`chakra-toast-manager-${h}`,style:hB(h),children:oe.jsx(z$,{...a,initial:!1,children:p.map(g=>oe.jsx(r,{motionVariants:n,...g},g.id))})},h)});return oe.jsx(Dp,{...i,children:c})},ZB=t=>function({children:n,theme:r=t,toastOptions:i,...a}){return oe.jsxs(O$,{theme:r,...a,children:[oe.jsx(XB,{value:i==null?void 0:i.defaultOptions,children:n}),oe.jsx(JB,{...i})]})},e3=ZB(kF),Ao=Ar("div");Ao.displayName="Box";var ly={exports:{}},uy,iE;function t3(){if(iE)return uy;iE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uy=t,uy}var cy,sE;function n3(){if(sE)return cy;sE=1;var t=t3();function e(){}function n(){}return n.resetWarningCache=e,cy=function(){function r(l,c,h,p,g,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},cy}var oE;function r3(){return oE||(oE=1,ly.exports=n3()()),ly.exports}var i3=r3();const rf=Td(i3);function $0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Qc=Ga(function(e,n){const r=Rp("Text",e),{className:i,align:a,decoration:l,casing:c,...h}=yp(e),p=Fv({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return oe.jsx(Ar.p,{ref:n,className:Ha("chakra-text",e.className),...p,...h,__css:r})});Qc.displayName="Text";const s3="modulepreload",o3=function(t,e){return new URL(t,e).href},aE={},dy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(n.map(p=>{if(p=o3(p,r),p in aE)return;aE[p]=!0;const g=p.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(!!r)for(let k=l.length-1;k>=0;k--){const P=l[k];if(P.href===p&&(!g||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${_}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":s3,g||(T.as="script"),T.crossOrigin="",T.href=p,h&&T.setAttribute("nonce",h),document.head.appendChild(T),g)return new Promise((k,P)=>{T.addEventListener("load",k),T.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},sf=()=>{const t=new Date,e=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0"),r=t.getSeconds().toString().padStart(2,"0"),i=t.getMilliseconds().toString().padStart(3,"0");return`${e}:${n}:${r}.${i}`},he={log:(...t)=>{{const e=t.map((n,r)=>r===0&&typeof n=="string"?`
${n}`:n);console.log(`[LOG] [${sf()}] `,...e)}},error:(...t)=>{{const e=t.map((n,r)=>r===0&&typeof n=="string"?`
${n}`:n);console.error(`[ERROR] [${sf()}] `,...e)}},warn:(...t)=>{{const e=t.map((n,r)=>r===0&&typeof n=="string"?`
${n}`:n);console.warn(`[WARN] [${sf()}]`,...e)}},trace:t=>{console.trace(`[TRACE] [${sf()}] ${t}`)}};async function a3(t){let e;try{switch(t){case"default":e=await dy(()=>import("./index.v0.9.22.js"),[],import.meta.url);break;default:e=await dy(()=>import("./index.v0.9.22.js"),[],import.meta.url)}return e.default}catch(n){return he.error("Failed to load theme:",n),e=await dy(()=>import("./index.v0.9.22.js"),[],import.meta.url),e.default}}const l3=()=>{};var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let S=(c&15)<<2|p>>6,T=p&63;h||(T=64,l||(S=64)),r.push(n[g],n[_],n[S],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new c3;const S=a<<2|c>>4;if(r.push(S),p!==64){const T=c<<4&240|p>>2;if(r.push(T),_!==64){const k=p<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d3=function(t){const e=UP(t);return zP.encodeByteArray(e,!0)},Jf=function(t){return d3(t).replace(/\./g,"")},BP=function(t){try{return zP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=()=>h3().__FIREBASE_DEFAULTS__,p3=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BP(t[1]);return e&&JSON.parse(e)},Np=()=>{try{return l3()||f3()||p3()||m3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jP=t=>{var e,n;return(n=(e=Np())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WP=t=>{const e=jP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HP=()=>{var t;return(t=Np())===null||t===void 0?void 0:t.config},qP=t=>{var e;return(e=Np())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jf(JSON.stringify(n)),Jf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function v3(){var t;const e=(t=Np())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b3(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T3(){return!v3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E3(){try{return typeof indexedDB=="object"}catch{return!1}}function I3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k3,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dd.prototype.create)}}class Dd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?P3(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Xi(i,c,r)}}function P3(t,e){return t.replace(A3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const A3=/\{\$([^}]+)}/g;function C3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(uE(a)&&uE(l)){if(!Va(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function x3(t,e){const n=new R3(t,e);return n.subscribe.bind(n)}class R3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hy),i.error===void 0&&(i.error=hy),i.complete===void 0&&(i.complete=hy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M3(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O3(t){return t===Ea?void 0:t}function M3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const L3={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},F3=We.INFO,$3={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},U3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U0{constructor(e){this.name=e,this._logLevel=F3,this._logHandler=U3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const z3=(t,e)=>e.some(n=>t instanceof n);let cE,dE;function B3(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j3(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KP=new WeakMap,iv=new WeakMap,QP=new WeakMap,fy=new WeakMap,z0=new WeakMap;function W3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(xo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&KP.set(n,t)}).catch(()=>{}),z0.set(e,t),e}function H3(t){if(iv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});iv.set(t,e)}let sv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q3(t){sv=t(sv)}function G3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(py(this),e,...n);return QP.set(r,e.sort?e.sort():[e]),xo(r)}:j3().includes(t)?function(...e){return t.apply(py(this),e),xo(KP.get(this))}:function(...e){return xo(t.apply(py(this),e))}}function K3(t){return typeof t=="function"?G3(t):(t instanceof IDBTransaction&&H3(t),z3(t,B3())?new Proxy(t,sv):t)}function xo(t){if(t instanceof IDBRequest)return W3(t);if(fy.has(t))return fy.get(t);const e=K3(t);return e!==t&&(fy.set(t,e),z0.set(e,t)),e}const py=t=>z0.get(t);function Q3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=xo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(xo(l.result),h.oldVersion,h.newVersion,xo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Y3=["get","getKey","getAll","getAllKeys","count"],X3=["put","add","delete","clear"],my=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=X3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y3.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&h.done]))[0]};return my.set(e,a),a}q3(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ov="@firebase/app",fE="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new U0("@firebase/app"),ej="@firebase/app-compat",tj="@firebase/analytics-compat",nj="@firebase/analytics",rj="@firebase/app-check-compat",ij="@firebase/app-check",sj="@firebase/auth",oj="@firebase/auth-compat",aj="@firebase/database",lj="@firebase/data-connect",uj="@firebase/database-compat",cj="@firebase/functions",dj="@firebase/functions-compat",hj="@firebase/installations",fj="@firebase/installations-compat",pj="@firebase/messaging",mj="@firebase/messaging-compat",gj="@firebase/performance",yj="@firebase/performance-compat",vj="@firebase/remote-config",_j="@firebase/remote-config-compat",wj="@firebase/storage",Sj="@firebase/storage-compat",bj="@firebase/firestore",Tj="@firebase/vertexai",Ej="@firebase/firestore-compat",Ij="firebase",kj="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",Pj={[ov]:"fire-core",[ej]:"fire-core-compat",[nj]:"fire-analytics",[tj]:"fire-analytics-compat",[ij]:"fire-app-check",[rj]:"fire-app-check-compat",[sj]:"fire-auth",[oj]:"fire-auth-compat",[aj]:"fire-rtdb",[lj]:"fire-data-connect",[uj]:"fire-rtdb-compat",[cj]:"fire-fn",[dj]:"fire-fn-compat",[hj]:"fire-iid",[fj]:"fire-iid-compat",[pj]:"fire-fcm",[mj]:"fire-fcm-compat",[gj]:"fire-perf",[yj]:"fire-perf-compat",[vj]:"fire-rc",[_j]:"fire-rc-compat",[wj]:"fire-gcs",[Sj]:"fire-gcs-compat",[bj]:"fire-fst",[Ej]:"fire-fst-compat",[Tj]:"fire-vertex","fire-js":"fire-js",[Ij]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,Aj=new Map,lv=new Map;function pE(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function La(t){const e=t.name;if(lv.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;lv.set(e,t);for(const n of Zf.values())pE(n,t);for(const n of Aj.values())pE(n,t);return!0}function Op(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new Dd("app","Firebase",Cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=kj;function YP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ro.create("bad-app-name",{appName:String(i)});if(n||(n=HP()),!n)throw Ro.create("no-options");const a=Zf.get(i);if(a){if(Va(n,a.options)&&Va(r,a.config))return a;throw Ro.create("duplicate-app",{appName:i})}const l=new V3(i);for(const h of lv.values())l.addComponent(h);const c=new xj(n,r,l);return Zf.set(i,c),c}function B0(t=av){const e=Zf.get(t);if(!e&&t===av&&HP())return YP();if(!e)throw Ro.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let i=(r=Pj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}La(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebase-heartbeat-database",Dj=1,dd="firebase-heartbeat-store";let gy=null;function XP(){return gy||(gy=Q3(Rj,Dj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ro.create("idb-open",{originalErrorMessage:t.message})})),gy}async function Nj(t){try{const n=(await XP()).transaction(dd),r=await n.objectStore(dd).get(JP(t));return await n.done,r}catch(e){if(e instanceof Xi)Os.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function mE(t,e){try{const r=(await XP()).transaction(dd,"readwrite");await r.objectStore(dd).put(e,JP(t)),await r.done}catch(n){if(n instanceof Xi)Os.warn(n.message);else{const r=Ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function JP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=1024,Mj=30;class Vj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Mj){const l=$j(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gE(),{heartbeatsToSend:r,unsentEntries:i}=Lj(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Os.warn(n),""}}}function gE(){return new Date().toISOString().substring(0,10)}function Lj(t,e=Oj){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),yE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Fj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E3()?I3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}function $j(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){La(new Lo("platform-logger",e=>new J3(e),"PRIVATE")),La(new Lo("heartbeat",e=>new Vj(e),"PRIVATE")),ji(ov,fE,t),ji(ov,fE,"esm2017"),ji("fire-js","")}Uj("");function ZP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zj=ZP,eA=new Dd("auth","Firebase",ZP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new U0("@firebase/auth");function Bj(t,...e){ep.logLevel<=We.WARN&&ep.warn(`Auth (${Ka}): ${t}`,...e)}function xf(t,...e){ep.logLevel<=We.ERROR&&ep.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,...e){throw j0(t,...e)}function Wi(t,...e){return j0(t,...e)}function tA(t,e,n){const r=Object.assign(Object.assign({},zj()),{[e]:n});return new Dd("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return tA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eA.create(t,...e)}function xe(t,e,...n){if(!t)throw j0(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xf(e),new Error(e)}function Ms(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jj(){return vE()==="http:"||vE()==="https:"}function vE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jj()||w3()||"connection"in navigator)?navigator.onLine:!0}function Hj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=y3()||S3()}get(){return Wj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new Od(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $s(t,e,n,r,i={}){return rA(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Nd(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return _3()||(p.referrerPolicy="no-referrer"),nA.fetch()(iA(t,t.config.apiHost,n,c),p)})}async function rA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qj),e);try{const i=new Qj(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw of(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw of(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw of(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tA(t,g,p);ui(t,g)}}catch(i){if(i instanceof Xi)throw i;ui(t,"network-request-failed",{message:String(i)})}}async function Md(t,e,n,r,i={}){const a=await $s(t,e,n,r,i);return"mfaPendingCredential"in a&&ui(t,"multi-factor-auth-required",{_serverResponse:a}),a}function iA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?W0(t.config,i):`${t.config.apiScheme}://${i}`}function Kj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),Gj.get())})}}function of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wi(t,e,r);return i.customData._tokenResponse=n,i}function _E(t){return t!==void 0&&t.enterprise!==void 0}class Yj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Kj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xj(t,e){return $s(t,"GET","/v2/recaptchaConfig",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return $s(t,"POST","/v1/accounts:delete",e)}async function sA(t,e){return $s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zj(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=H0(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Yc(yy(i.auth_time)),issuedAtTime:Yc(yy(i.iat)),expirationTime:Yc(yy(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yy(t){return Number(t)*1e3}function H0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const i=BP(n);return i?JSON.parse(i):(xf("Failed to decode base64 JWT payload"),null)}catch(i){return xf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wE(t){const e=H0(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&e6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hd(t,sA(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?oA(a.providerUserInfo):[],c=r6(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new cv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function n6(t){const e=Et(t);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oA(t){return t.map(e=>{var{providerId:n}=e,r=$0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e){const n=await rA(t,{},async()=>{const r=Nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=iA(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",nA.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s6(t,e){return $s(t,"POST","/v2/accounts:revokeToken",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await i6(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new cu;return r&&(xe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(xe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=$0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hd(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zj(this,e)}reload(){return n6(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await hd(this,Jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,h,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(i=n.email)!==null&&i!==void 0?i:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,k=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,z=(p=n.createdAt)!==null&&p!==void 0?p:void 0,q=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:G,emailVerified:te,isAnonymous:O,providerData:X,stsTokenManager:x}=n;xe(G&&x,e,"internal-error");const E=cu.fromJSON(this.name,x);xe(typeof G=="string",e,"internal-error"),_o(_,e.name),_o(S,e.name),xe(typeof te=="boolean",e,"internal-error"),xe(typeof O=="boolean",e,"internal-error"),_o(T,e.name),_o(k,e.name),_o(P,e.name),_o(C,e.name),_o(z,e.name),_o(q,e.name);const R=new ks({uid:G,auth:e,email:S,emailVerified:te,displayName:_,isAnonymous:O,photoURL:k,phoneNumber:T,tenantId:P,stsTokenManager:E,createdAt:z,lastLoginAt:q});return X&&Array.isArray(X)&&(R.providerData=X.map(M=>Object.assign({},M))),C&&(R._redirectEventId=C),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new cu;i.updateFromServerResponse(n);const a=new ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?oA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new cu;c.updateFromIdToken(r);const h=new ks({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new cv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;function Ps(t){Ms(t instanceof Function,"Expected a class definition");let e=SE.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aA.type="NONE";const bE=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}class du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Rf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Rf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new du(Ps(bE),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Ps(bE);const l=Rf(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=ks._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new du(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new du(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(pA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||cA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lA(t=Rn()){return/firefox\//i.test(t)}function uA(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cA(t=Rn()){return/crios\//i.test(t)}function dA(t=Rn()){return/iemobile/i.test(t)}function hA(t=Rn()){return/android/i.test(t)}function fA(t=Rn()){return/blackberry/i.test(t)}function pA(t=Rn()){return/webos/i.test(t)}function q0(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o6(t=Rn()){var e;return q0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a6(){return b3()&&document.documentMode===10}function mA(t=Rn()){return q0(t)||hA(t)||pA(t)||fA(t)||/windows phone/i.test(t)||dA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e=[]){let n;switch(t){case"Browser":n=TE(Rn());break;case"Worker":n=`${TE(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(t,e={}){return $s(t,"GET","/v2/passwordPolicy",Fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=6;class d6{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:c6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new l6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await du.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sA(this,{idToken:e}),r=await ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Rs(this));const n=e?Et(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u6(this),n=new d6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await du.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Bj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qa(t){return Et(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=x3(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f6(t){Mp=t}function yA(t){return Mp.loadJS(t)}function p6(){return Mp.recaptchaEnterpriseScript}function m6(){return Mp.gapiScript}function g6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y6{constructor(){this.enterprise=new v6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _6="recaptcha-enterprise",vA="NO_RECAPTCHA";class w6{constructor(e){this.type=_6,this.auth=Qa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{Xj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new Yj(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(a,l,c){const h=window.grecaptcha;_E(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(vA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y6().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&_E(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=p6();h.length!==0&&(h+=c),yA(h).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function IE(t,e,n,r=!1,i=!1){const a=new w6(t);let l;if(i)l=vA;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function dv(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await IE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await IE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t,e){const n=Op(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Va(a,e??{}))return i;ui(i,"already-initialized")}return n.initialize({options:e})}function b6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T6(t,e,n){const r=Qa(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=_A(e),{host:l,port:c}=E6(e),h=c===null?"":`:${c}`,p={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Va(p,r.config.emulator)&&Va(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,I6()}function _A(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E6(t){const e=_A(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:kE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:kE(l)}}}function kE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function k6(t,e){return $s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){return Md(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}async function A6(t,e){return $s(t,"POST","/v1/accounts:sendOobCode",Fs(t,e))}async function C6(t,e){return A6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e){return Md(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function R6(t,e){return Md(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends G0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,n,"signInWithPassword",P6);case"emailLink":return x6(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,r,"signUpPassword",k6);case"emailLink":return R6(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e){return Md(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="http://localhost";class Fa extends G0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=$0(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Fa(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return hu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hu(e,n)}buildRequest(){const e={requestUri:D6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O6(t){const e=Dc(Nc(t)).link,n=e?Dc(Nc(e)).deep_link_id:null,r=Dc(Nc(t)).deep_link_id;return(r?Dc(Nc(r)).link:null)||r||n||e||t}class K0{constructor(e){var n,r,i,a,l,c;const h=Dc(Nc(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,_=N6((i=h.mode)!==null&&i!==void 0?i:null);xe(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=O6(e);try{return new K0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.providerId=Vu.PROVIDER_ID}static credential(e,n){return fd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=K0.parseLink(n);return xe(r,"argument-error"),fd._fromEmailAndCode(e,r.code,r.tenantId)}}Vu.PROVIDER_ID="password";Vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends wA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Vd{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.GOOGLE_SIGN_IN_METHOD="google.com";Io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Vd{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.GITHUB_SIGN_IN_METHOD="github.com";ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Vd{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Po.credential(n,r)}catch{return null}}}Po.TWITTER_SIGN_IN_METHOD="twitter.com";Po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e){return Md(t,"POST","/v1/accounts:signUp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ks._fromIdTokenResponse(e,r,i),l=PE(r);return new $a({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PE(r);return new $a({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Xi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new np(e,n,r,i)}}function SA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(t,a,e,r):a})}async function V6(t,e,n=!1){const r=await hd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e,n=!1){const{auth:r}=t;if(Sr(r.app))return Promise.reject(Rs(r));const i="reauthenticate";try{const a=await hd(t,SA(r,i,e,t),n);xe(a.idToken,r,"internal-error");const l=H0(a.idToken);xe(l,r,"internal-error");const{sub:c}=l;return xe(t.uid===c,r,"user-mismatch"),$a._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ui(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e,n=!1){if(Sr(t.app))return Promise.reject(Rs(t));const r="signIn",i=await SA(t,r,e),a=await $a._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function F6(t,e){return bA(Qa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t){const e=Qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $6(t,e,n){if(Sr(t.app))return Promise.reject(Rs(t));const r=Qa(t),l=await dv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M6).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&TA(t),h}),c=await $a._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function U6(t,e,n){return Sr(t.app)?Promise.reject(Rs(t)):F6(Et(t),Vu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TA(t),r})}async function EA(t,e){const n=Et(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await C6(n.auth,i);a!==t.email&&await t.reload()}function z6(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function B6(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function j6(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function W6(t){return Et(t).signOut()}const rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rp,"1"),this.storage.removeItem(rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=1e3,q6=10;class kA extends IA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);a6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},H6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kA.type="LOCAL";const G6=kA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends IA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PA.type="SESSION";const AA=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,a)),h=await K6(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=Q0("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const S=_;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(S.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function Y6(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function X6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z6(){return CA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebaseLocalStorageDb",e9=1,ip="firebaseLocalStorage",RA="fbase_key";class Ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lp(t,e){return t.transaction([ip],e?"readwrite":"readonly").objectStore(ip)}function t9(){const t=indexedDB.deleteDatabase(xA);return new Ld(t).toPromise()}function hv(){const t=indexedDB.open(xA,e9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ip,{keyPath:RA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ip)?e(r):(r.close(),await t9(),e(await hv()))})})}async function AE(t,e,n){const r=Lp(t,!0).put({[RA]:e,value:n});return new Ld(r).toPromise()}async function n9(t,e){const n=Lp(t,!1).get(e),r=await new Ld(n).toPromise();return r===void 0?null:r.value}function CE(t,e){const n=Lp(t,!0).delete(e);return new Ld(n).toPromise()}const r9=800,i9=3;class DA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>i9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vp._getInstance(Z6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X6(),!this.activeServiceWorker)return;this.sender=new Q6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hv();return await AE(e,rp,"1"),await CE(e,rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>n9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Lp(i,!1).getAll();return new Ld(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DA.type="LOCAL";const s9=DA;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t,e){return e?Ps(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends G0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a9(t){return bA(t.auth,new Y0(t),t.bypassAuthState)}function l9(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),L6(n,new Y0(t),t.bypassAuthState)}async function u9(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),V6(n,new Y0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a9;case"linkViaPopup":case"linkViaRedirect":return u9;case"reauthViaPopup":case"reauthViaRedirect":return l9;default:ui(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new Od(2e3,1e4);class ru extends NA{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=Q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c9.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="pendingRedirect",Df=new Map;class h9 extends NA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const r=await f9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f9(t,e){const n=g9(e),r=m9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function p9(t,e){Df.set(t._key(),e)}function m9(t){return Ps(t._redirectPersistence)}function g9(t){return Rf(d9,t.config.apiKey,t.name)}async function y9(t,e,n=!1){if(Sr(t.app))return Promise.reject(Rs(t));const r=Qa(t),i=o9(r,e),l=await new h9(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=10*60*1e3;class _9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v9&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e={}){return $s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T9=/^https?/;async function E9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S9(t);for(const n of e)try{if(I9(n))return}catch{}ui(t,"unauthorized-domain")}function I9(t){const e=uv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!T9.test(n))return!1;if(b9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new Od(3e4,6e4);function RE(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P9(t){return new Promise((e,n)=>{var r,i,a;function l(){RE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RE(),n(Wi(t,"network-request-failed"))},timeout:k9.get()})}if(!((i=(r=Hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Hi().gapi)===null||a===void 0)&&a.load)l();else{const c=g6("iframefcb");return Hi()[c]=()=>{gapi.load?l():n(Wi(t,"network-request-failed"))},yA(`${m6()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function A9(t){return Nf=Nf||P9(t),Nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new Od(5e3,15e3),x9="__/auth/iframe",R9="emulator/auth/iframe",D9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O9(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W0(e,R9):`https://${t.config.authDomain}/${x9}`,r={apiKey:e.apiKey,appName:t.name,v:Ka},i=N9.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Nd(r).slice(1)}`}async function M9(t){const e=await A9(t),n=Hi().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:O9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D9,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Wi(t,"network-request-failed"),c=Hi().setTimeout(()=>{a(l)},C9.get());function h(){Hi().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L9=500,F9=600,$9="_blank",U9="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z9(t,e,n,r=L9,i=F9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},V9),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Rn().toLowerCase();n&&(c=cA(p)?$9:n),lA(p)&&(e=e||U9,h.scrollbars="yes");const g=Object.entries(h).reduce((S,[T,k])=>`${S}${T}=${k},`,"");if(o6(p)&&c!=="_self")return B9(e||"",c),new DE(null);const _=window.open(e||"",c,g);xe(_,t,"popup-blocked");try{_.focus()}catch{}return new DE(_)}function B9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="__/auth/handler",W9="emulator/auth/handler",H9=encodeURIComponent("fac");async function NE(t,e,n,r,i,a){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ka,eventId:i};if(e instanceof wA){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",C3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Vd){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),p=h?`#${H9}=${encodeURIComponent(h)}`:"";return`${q9(t)}?${Nd(c).slice(1)}${p}`}function q9({config:t}){return t.emulator?W0(t,W9):`https://${t.authDomain}/${j9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="webStorageSupport";class G9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=y9,this._overrideRedirectResult=p9}async _openPopup(e,n,r,i){var a;Ms((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await NE(e,n,r,uv(),i);return z9(e,l,Q0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await NE(e,n,r,uv(),i);return Y6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ms(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await M9(e),r=new _9(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vy,{type:vy},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[vy];l!==void 0&&n(!!l),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mA()||uA()||q0()}}const K9=G9;var OE="@firebase/auth",ME="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X9(t){La(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},p=new h6(r,i,a,h);return b6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),La(new Lo("auth-internal",e=>{const n=Qa(e.getProvider("auth").getImmediate());return(r=>new Q9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(OE,ME,Y9(t)),ji(OE,ME,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=5*60,Z9=qP("authIdTokenMaxAge")||J9;let VE=null;const eW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z9)return;const i=n==null?void 0:n.token;VE!==i&&(VE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X0(t=B0()){const e=Op(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S6(t,{popupRedirectResolver:K9,persistence:[s9,G6,AA]}),r=qP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=eW(a.toString());B6(n,l,()=>l(n.currentUser)),z6(n,c=>l(c))}}const i=jP("auth");return i&&T6(n,`http://${i}`),n}function tW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Wi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",tW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X9("Browser");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,MA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,E){function R(){}R.prototype=E.prototype,x.D=E.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(M,F,B){for(var N=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)N[ut-2]=arguments[ut];return E.prototype[F].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,E,R){R||(R=0);var M=Array(16);if(typeof E=="string")for(var F=0;16>F;++F)M[F]=E.charCodeAt(R++)|E.charCodeAt(R++)<<8|E.charCodeAt(R++)<<16|E.charCodeAt(R++)<<24;else for(F=0;16>F;++F)M[F]=E[R++]|E[R++]<<8|E[R++]<<16|E[R++]<<24;E=x.g[0],R=x.g[1],F=x.g[2];var B=x.g[3],N=E+(B^R&(F^B))+M[0]+3614090360&4294967295;E=R+(N<<7&4294967295|N>>>25),N=B+(F^E&(R^F))+M[1]+3905402710&4294967295,B=E+(N<<12&4294967295|N>>>20),N=F+(R^B&(E^R))+M[2]+606105819&4294967295,F=B+(N<<17&4294967295|N>>>15),N=R+(E^F&(B^E))+M[3]+3250441966&4294967295,R=F+(N<<22&4294967295|N>>>10),N=E+(B^R&(F^B))+M[4]+4118548399&4294967295,E=R+(N<<7&4294967295|N>>>25),N=B+(F^E&(R^F))+M[5]+1200080426&4294967295,B=E+(N<<12&4294967295|N>>>20),N=F+(R^B&(E^R))+M[6]+2821735955&4294967295,F=B+(N<<17&4294967295|N>>>15),N=R+(E^F&(B^E))+M[7]+4249261313&4294967295,R=F+(N<<22&4294967295|N>>>10),N=E+(B^R&(F^B))+M[8]+1770035416&4294967295,E=R+(N<<7&4294967295|N>>>25),N=B+(F^E&(R^F))+M[9]+2336552879&4294967295,B=E+(N<<12&4294967295|N>>>20),N=F+(R^B&(E^R))+M[10]+4294925233&4294967295,F=B+(N<<17&4294967295|N>>>15),N=R+(E^F&(B^E))+M[11]+2304563134&4294967295,R=F+(N<<22&4294967295|N>>>10),N=E+(B^R&(F^B))+M[12]+1804603682&4294967295,E=R+(N<<7&4294967295|N>>>25),N=B+(F^E&(R^F))+M[13]+4254626195&4294967295,B=E+(N<<12&4294967295|N>>>20),N=F+(R^B&(E^R))+M[14]+2792965006&4294967295,F=B+(N<<17&4294967295|N>>>15),N=R+(E^F&(B^E))+M[15]+1236535329&4294967295,R=F+(N<<22&4294967295|N>>>10),N=E+(F^B&(R^F))+M[1]+4129170786&4294967295,E=R+(N<<5&4294967295|N>>>27),N=B+(R^F&(E^R))+M[6]+3225465664&4294967295,B=E+(N<<9&4294967295|N>>>23),N=F+(E^R&(B^E))+M[11]+643717713&4294967295,F=B+(N<<14&4294967295|N>>>18),N=R+(B^E&(F^B))+M[0]+3921069994&4294967295,R=F+(N<<20&4294967295|N>>>12),N=E+(F^B&(R^F))+M[5]+3593408605&4294967295,E=R+(N<<5&4294967295|N>>>27),N=B+(R^F&(E^R))+M[10]+38016083&4294967295,B=E+(N<<9&4294967295|N>>>23),N=F+(E^R&(B^E))+M[15]+3634488961&4294967295,F=B+(N<<14&4294967295|N>>>18),N=R+(B^E&(F^B))+M[4]+3889429448&4294967295,R=F+(N<<20&4294967295|N>>>12),N=E+(F^B&(R^F))+M[9]+568446438&4294967295,E=R+(N<<5&4294967295|N>>>27),N=B+(R^F&(E^R))+M[14]+3275163606&4294967295,B=E+(N<<9&4294967295|N>>>23),N=F+(E^R&(B^E))+M[3]+4107603335&4294967295,F=B+(N<<14&4294967295|N>>>18),N=R+(B^E&(F^B))+M[8]+1163531501&4294967295,R=F+(N<<20&4294967295|N>>>12),N=E+(F^B&(R^F))+M[13]+2850285829&4294967295,E=R+(N<<5&4294967295|N>>>27),N=B+(R^F&(E^R))+M[2]+4243563512&4294967295,B=E+(N<<9&4294967295|N>>>23),N=F+(E^R&(B^E))+M[7]+1735328473&4294967295,F=B+(N<<14&4294967295|N>>>18),N=R+(B^E&(F^B))+M[12]+2368359562&4294967295,R=F+(N<<20&4294967295|N>>>12),N=E+(R^F^B)+M[5]+4294588738&4294967295,E=R+(N<<4&4294967295|N>>>28),N=B+(E^R^F)+M[8]+2272392833&4294967295,B=E+(N<<11&4294967295|N>>>21),N=F+(B^E^R)+M[11]+1839030562&4294967295,F=B+(N<<16&4294967295|N>>>16),N=R+(F^B^E)+M[14]+4259657740&4294967295,R=F+(N<<23&4294967295|N>>>9),N=E+(R^F^B)+M[1]+2763975236&4294967295,E=R+(N<<4&4294967295|N>>>28),N=B+(E^R^F)+M[4]+1272893353&4294967295,B=E+(N<<11&4294967295|N>>>21),N=F+(B^E^R)+M[7]+4139469664&4294967295,F=B+(N<<16&4294967295|N>>>16),N=R+(F^B^E)+M[10]+3200236656&4294967295,R=F+(N<<23&4294967295|N>>>9),N=E+(R^F^B)+M[13]+681279174&4294967295,E=R+(N<<4&4294967295|N>>>28),N=B+(E^R^F)+M[0]+3936430074&4294967295,B=E+(N<<11&4294967295|N>>>21),N=F+(B^E^R)+M[3]+3572445317&4294967295,F=B+(N<<16&4294967295|N>>>16),N=R+(F^B^E)+M[6]+76029189&4294967295,R=F+(N<<23&4294967295|N>>>9),N=E+(R^F^B)+M[9]+3654602809&4294967295,E=R+(N<<4&4294967295|N>>>28),N=B+(E^R^F)+M[12]+3873151461&4294967295,B=E+(N<<11&4294967295|N>>>21),N=F+(B^E^R)+M[15]+530742520&4294967295,F=B+(N<<16&4294967295|N>>>16),N=R+(F^B^E)+M[2]+3299628645&4294967295,R=F+(N<<23&4294967295|N>>>9),N=E+(F^(R|~B))+M[0]+4096336452&4294967295,E=R+(N<<6&4294967295|N>>>26),N=B+(R^(E|~F))+M[7]+1126891415&4294967295,B=E+(N<<10&4294967295|N>>>22),N=F+(E^(B|~R))+M[14]+2878612391&4294967295,F=B+(N<<15&4294967295|N>>>17),N=R+(B^(F|~E))+M[5]+4237533241&4294967295,R=F+(N<<21&4294967295|N>>>11),N=E+(F^(R|~B))+M[12]+1700485571&4294967295,E=R+(N<<6&4294967295|N>>>26),N=B+(R^(E|~F))+M[3]+2399980690&4294967295,B=E+(N<<10&4294967295|N>>>22),N=F+(E^(B|~R))+M[10]+4293915773&4294967295,F=B+(N<<15&4294967295|N>>>17),N=R+(B^(F|~E))+M[1]+2240044497&4294967295,R=F+(N<<21&4294967295|N>>>11),N=E+(F^(R|~B))+M[8]+1873313359&4294967295,E=R+(N<<6&4294967295|N>>>26),N=B+(R^(E|~F))+M[15]+4264355552&4294967295,B=E+(N<<10&4294967295|N>>>22),N=F+(E^(B|~R))+M[6]+2734768916&4294967295,F=B+(N<<15&4294967295|N>>>17),N=R+(B^(F|~E))+M[13]+1309151649&4294967295,R=F+(N<<21&4294967295|N>>>11),N=E+(F^(R|~B))+M[4]+4149444226&4294967295,E=R+(N<<6&4294967295|N>>>26),N=B+(R^(E|~F))+M[11]+3174756917&4294967295,B=E+(N<<10&4294967295|N>>>22),N=F+(E^(B|~R))+M[2]+718787259&4294967295,F=B+(N<<15&4294967295|N>>>17),N=R+(B^(F|~E))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+E&4294967295,x.g[1]=x.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+F&4294967295,x.g[3]=x.g[3]+B&4294967295}r.prototype.u=function(x,E){E===void 0&&(E=x.length);for(var R=E-this.blockSize,M=this.B,F=this.h,B=0;B<E;){if(F==0)for(;B<=R;)i(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<E;)if(M[F++]=x.charCodeAt(B++),F==this.blockSize){i(this,M),F=0;break}}else for(;B<E;)if(M[F++]=x[B++],F==this.blockSize){i(this,M),F=0;break}}this.h=F,this.o+=E},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var E=1;E<x.length-8;++E)x[E]=0;var R=8*this.o;for(E=x.length-8;E<x.length;++E)x[E]=R&255,R/=256;for(this.u(x),x=Array(16),E=R=0;4>E;++E)for(var M=0;32>M;M+=8)x[R++]=this.g[E]>>>M&255;return x};function a(x,E){var R=c;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=E(x)}function l(x,E){this.h=E;for(var R=[],M=!0,F=x.length-1;0<=F;F--){var B=x[F]|0;M&&B==E||(R[F]=B,M=!1)}this.g=R}var c={};function h(x){return-128<=x&&128>x?a(x,function(E){return new l([E|0],0>E?-1:0)}):new l([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return _;if(0>x)return C(p(-x));for(var E=[],R=1,M=0;x>=R;M++)E[M]=x/R|0,R*=4294967296;return new l(E,0)}function g(x,E){if(x.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return C(g(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(E,8)),M=_,F=0;F<x.length;F+=8){var B=Math.min(8,x.length-F),N=parseInt(x.substring(F,F+B),E);8>B?(B=p(Math.pow(E,B)),M=M.j(B).add(p(N))):(M=M.j(R),M=M.add(p(N)))}return M}var _=h(0),S=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(P(this))return-C(this).m();for(var x=0,E=1,R=0;R<this.g.length;R++){var M=this.i(R);x+=(0<=M?M:4294967296+M)*E,E*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(P(this))return"-"+C(this).toString(x);for(var E=p(Math.pow(x,6)),R=this,M="";;){var F=te(R,E).g;R=z(R,F.j(E));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=F,k(R))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var E=0;E<x.g.length;E++)if(x.g[E]!=0)return!1;return!0}function P(x){return x.h==-1}t.l=function(x){return x=z(this,x),P(x)?-1:k(x)?0:1};function C(x){for(var E=x.g.length,R=[],M=0;M<E;M++)R[M]=~x.g[M];return new l(R,~x.h).add(S)}t.abs=function(){return P(this)?C(this):this},t.add=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],M=0,F=0;F<=E;F++){var B=M+(this.i(F)&65535)+(x.i(F)&65535),N=(B>>>16)+(this.i(F)>>>16)+(x.i(F)>>>16);M=N>>>16,B&=65535,N&=65535,R[F]=N<<16|B}return new l(R,R[R.length-1]&-2147483648?-1:0)};function z(x,E){return x.add(C(E))}t.j=function(x){if(k(this)||k(x))return _;if(P(this))return P(x)?C(this).j(C(x)):C(C(this).j(x));if(P(x))return C(this.j(C(x)));if(0>this.l(T)&&0>x.l(T))return p(this.m()*x.m());for(var E=this.g.length+x.g.length,R=[],M=0;M<2*E;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<x.g.length;F++){var B=this.i(M)>>>16,N=this.i(M)&65535,ut=x.i(F)>>>16,Ut=x.i(F)&65535;R[2*M+2*F]+=N*Ut,q(R,2*M+2*F),R[2*M+2*F+1]+=B*Ut,q(R,2*M+2*F+1),R[2*M+2*F+1]+=N*ut,q(R,2*M+2*F+1),R[2*M+2*F+2]+=B*ut,q(R,2*M+2*F+2)}for(M=0;M<E;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=E;M<2*E;M++)R[M]=0;return new l(R,0)};function q(x,E){for(;(x[E]&65535)!=x[E];)x[E+1]+=x[E]>>>16,x[E]&=65535,E++}function G(x,E){this.g=x,this.h=E}function te(x,E){if(k(E))throw Error("division by zero");if(k(x))return new G(_,_);if(P(x))return E=te(C(x),E),new G(C(E.g),C(E.h));if(P(E))return E=te(x,C(E)),new G(C(E.g),E.h);if(30<x.g.length){if(P(x)||P(E))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=E;0>=M.l(x);)R=O(R),M=O(M);var F=X(R,1),B=X(M,1);for(M=X(M,2),R=X(R,2);!k(M);){var N=B.add(M);0>=N.l(x)&&(F=F.add(R),B=N),M=X(M,1),R=X(R,1)}return E=z(x,F.j(E)),new G(F,E)}for(F=_;0<=x.l(E);){for(R=Math.max(1,Math.floor(x.m()/E.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=p(R),N=B.j(E);P(N)||0<N.l(x);)R-=M,B=p(R),N=B.j(E);k(B)&&(B=S),F=F.add(B),x=z(x,N)}return new G(F,x)}t.A=function(x){return te(this,x).h},t.and=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],M=0;M<E;M++)R[M]=this.i(M)&x.i(M);return new l(R,this.h&x.h)},t.or=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],M=0;M<E;M++)R[M]=this.i(M)|x.i(M);return new l(R,this.h|x.h)},t.xor=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],M=0;M<E;M++)R[M]=this.i(M)^x.i(M);return new l(R,this.h^x.h)};function O(x){for(var E=x.g.length+1,R=[],M=0;M<E;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new l(R,x.h)}function X(x,E){var R=E>>5;E%=32;for(var M=x.g.length-R,F=[],B=0;B<M;B++)F[B]=0<E?x.i(B+R)>>>E|x.i(B+R+1)<<32-E:x.i(B+R);return new l(F,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Do=l}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VA,Oc,LA,Of,fv,FA,$A,UA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var w=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var W=d[I];if(!(W in w))break e;w=w[W]}d=d[d.length-1],I=w[d],y=y(I),y!=I&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var w=0,I=!1,W={next:function(){if(!I&&w<d.length){var Z=w++;return{value:y(Z,d[Z]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,w){return d.call.apply(d.bind,arguments)}function _(d,y,w){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function S(d,y,w){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,S.apply(null,arguments)}function T(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function k(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(I,W,Z){for(var ce=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ce[ht-2]=arguments[ht];return y.prototype[W].apply(I,ce)}}function P(d){const y=d.length;if(0<y){const w=Array(y);for(let I=0;I<y;I++)w[I]=d[I];return w}return[]}function C(d,y){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(h(I)){const W=d.length||0,Z=I.length||0;d.length=W+Z;for(let ce=0;ce<Z;ce++)d[W+ce]=I[ce]}else d.push(I)}}class z{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(d){return/^[\s\xa0]*$/.test(d)}function G(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var O=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function X(d,y,w){for(const I in d)y.call(w,d[I],I,d)}function x(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function E(d){const y={};for(const w in d)y[w]=d[w];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,y){let w,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(w in I)d[w]=I[w];for(let Z=0;Z<R.length;Z++)w=R[Z],Object.prototype.hasOwnProperty.call(I,w)&&(d[w]=I[w])}}function F(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function B(d){c.setTimeout(()=>{throw d},0)}function N(){var d=be;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ut{constructor(){this.h=this.g=null}add(y,w){const I=Ut.get();I.set(y,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Ut=new z(()=>new bt,d=>d.reset());class bt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,le=!1,be=new ut,fe=()=>{const d=c.Promise.resolve(void 0);Te=()=>{d.then(j)}};var j=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(w){B(w)}var y=Ut;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}le=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return d}();function Fe(d,y){if(de.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(O){e:{try{te(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:$e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Fe.aa.h.call(this)}}k(Fe,de);var $e={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),je=0;function ct(d,y,w,I,W){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!I,this.ha=W,this.key=++je,this.da=this.fa=!1}function xt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Cr(d){this.src=d,this.g={},this.h=0}Cr.prototype.add=function(d,y,w,I,W){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var ce=hi(d,y,I,W);return-1<ce?(y=d[ce],w||(y.fa=!1)):(y=new ct(y,this.src,Z,!!I,W),y.fa=w,d.push(y)),y};function Ji(d,y){var w=y.type;if(w in d.g){var I=d.g[w],W=Array.prototype.indexOf.call(I,y,void 0),Z;(Z=0<=W)&&Array.prototype.splice.call(I,W,1),Z&&(xt(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function hi(d,y,w,I){for(var W=0;W<d.length;++W){var Z=d[W];if(!Z.da&&Z.listener==y&&Z.capture==!!w&&Z.ha==I)return W}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Us={};function Ko(d,y,w,I,W){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Ko(d,y[Z],w,I,W);return null}return w=Bs(w),d&&d[Ge]?d.K(y,w,p(I)?!!I.capture:!1,W):Qo(d,y,w,!1,I,W)}function Qo(d,y,w,I,W,Z){if(!y)throw Error("Invalid event type");var ce=p(W)?!!W.capture:!!W,ht=Dn(d);if(ht||(d[Zi]=ht=new Cr(d)),w=ht.add(y,w,I,ce,Z),w.proxy)return w;if(I=Za(),w.proxy=I,I.src=d,I.listener=w,d.addEventListener)Ve||(W=ce),W===void 0&&(W=!1),d.addEventListener(y.toString(),I,W);else if(d.attachEvent)d.attachEvent(ur(y.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Za(){function d(w){return y.call(d.src,d.listener,w)}const y=fi;return d}function zs(d,y,w,I,W){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)zs(d,y[Z],w,I,W);else I=p(I)?!!I.capture:!!I,w=Bs(w),d&&d[Ge]?(d=d.i,y=String(y).toString(),y in d.g&&(Z=d.g[y],w=hi(Z,w,I,W),-1<w&&(xt(Z[w]),Array.prototype.splice.call(Z,w,1),Z.length==0&&(delete d.g[y],d.h--)))):d&&(d=Dn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=hi(y,w,I,W)),(w=-1<d?y[d]:null)&&qn(w))}function qn(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ge])Ji(y.i,d);else{var w=d.type,I=d.proxy;y.removeEventListener?y.removeEventListener(w,I,d.capture):y.detachEvent?y.detachEvent(ur(w),I):y.addListener&&y.removeListener&&y.removeListener(I),(w=Dn(y))?(Ji(w,d),w.h==0&&(w.src=null,y[Zi]=null)):xt(d)}}}function ur(d){return d in Us?Us[d]:Us[d]="on"+d}function fi(d,y){if(d.da)d=!0;else{y=new Fe(y,this);var w=d.listener,I=d.ha||d.src;d.fa&&qn(d),d=w.call(I,y)}return d}function Dn(d){return d=d[Zi],d instanceof Cr?d:null}var es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(d){return typeof d=="function"?d:(d[es]||(d[es]=function(y){return d.handleEvent(y)}),d[es])}function Nt(){ne.call(this),this.i=new Cr(this),this.M=this,this.F=null}k(Nt,ne),Nt.prototype[Ge]=!0,Nt.prototype.removeEventListener=function(d,y,w,I){zs(this,d,y,w,I)};function Ot(d,y){var w,I=d.F;if(I)for(w=[];I;I=I.F)w.push(I);if(d=d.M,I=y.type||y,typeof y=="string")y=new de(y,d);else if(y instanceof de)y.target=y.target||d;else{var W=y;y=new de(I,d),M(y,W)}if(W=!0,w)for(var Z=w.length-1;0<=Z;Z--){var ce=y.g=w[Z];W=Gn(ce,I,!0,y)&&W}if(ce=y.g=d,W=Gn(ce,I,!0,y)&&W,W=Gn(ce,I,!1,y)&&W,w)for(Z=0;Z<w.length;Z++)ce=y.g=w[Z],W=Gn(ce,I,!1,y)&&W}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],I=0;I<w.length;I++)xt(w[I]);delete d.g[y],d.h--}}this.F=null},Nt.prototype.K=function(d,y,w,I){return this.i.add(String(d),y,!1,w,I)},Nt.prototype.L=function(d,y,w,I){return this.i.add(String(d),y,!0,w,I)};function Gn(d,y,w,I){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Z=0;Z<y.length;++Z){var ce=y[Z];if(ce&&!ce.da&&ce.capture==w){var ht=ce.listener,Qt=ce.ha||ce.src;ce.fa&&Ji(d.i,ce),W=ht.call(Qt,I)!==!1&&W}}return W&&!I.defaultPrevented}function js(d,y,w){if(typeof d=="function")w&&(d=S(d,w));else if(d&&typeof d.handleEvent=="function")d=S(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function qr(d){d.g=js(()=>{d.g=null,d.i&&(d.i=!1,qr(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class pi extends ne{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(d){ne.call(this),this.h=d,this.g={}}k(mi,ne);var Yo=[];function Xo(d){X(d.g,function(y,w){this.g.hasOwnProperty(w)&&qn(y)},d),d.g={}}mi.prototype.N=function(){mi.aa.N.call(this),Xo(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=c.JSON.stringify,gi=c.JSON.parse,Jo=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function yi(){}yi.prototype.h=null;function Ws(d){return d.h||(d.h=d.i())}function ts(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){de.call(this,"d")}k(xr,de);function Kn(){de.call(this,"c")}k(Kn,de);var Rr={},Zo=null;function ns(){return Zo=Zo||new Nt}Rr.La="serverreachability";function ea(d){de.call(this,Rr.La,d)}k(ea,de);function Gr(d){const y=ns();Ot(y,new ea(y))}Rr.STAT_EVENT="statevent";function Nn(d,y){de.call(this,Rr.STAT_EVENT,d),this.stat=y}k(Nn,de);function It(d){const y=ns();Ot(y,new Nn(y,d))}Rr.Ma="timingevent";function Hs(d,y){de.call(this,Rr.Ma,d),this.size=y}k(Hs,de);function dr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function is(d,y,w,I,W,Z){d.info(function(){if(d.g)if(Z)for(var ce="",ht=Z.split("&"),Qt=0;Qt<ht.length;Qt++){var Qe=ht[Qt].split("=");if(1<Qe.length){var sn=Qe[0];Qe=Qe[1];var jt=sn.split("_");ce=2<=jt.length&&jt[1]=="type"?ce+(sn+"="+Qe+"&"):ce+(sn+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+y+`
`+w+`
`+ce})}function hr(d,y,w,I,W,Z,ce){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+y+`
`+w+`
`+Z+" "+ce})}function fr(d,y,w,I){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+zu(d,w)+(I?" "+I:"")})}function ta(d,y){d.info(function(){return"TIMEOUT: "+y})}rs.prototype.info=function(){};function zu(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var I=w[d];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var Z=W[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return cr(w)}catch{return y}}var qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},el={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rn;function ss(){}k(ss,yi),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},rn=new ss;function pr(d,y,w,I){this.j=d,this.i=y,this.l=w,this.R=I||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tl}function tl(){this.i=null,this.g="",this.h=!1}var na={},Gs={};function Ks(d,y,w){d.L=1,d.v=Si(Mn(y)),d.m=w,d.P=!0,os(d,null)}function os(d,y){d.F=Date.now(),st(d),d.A=Mn(d.v);var w=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Ti(w.i,"t",I),d.C=0,w=d.j.J,d.h=new tl,d.g=Gd(d.j,w?y:null,!d.m),0<d.O&&(d.M=new pi(S(d.Y,d,d.g),d.O)),y=d.U,w=d.g,I=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Yo[0]=W.toString()),W=Yo);for(var Z=0;Z<W.length;Z++){var ce=Ko(w,W[Z],I||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Gr(),is(d.i,d.u,d.A,d.l,d.R,d.m)}pr.prototype.ca=function(d){d=d.target;const y=this.M;y&&pt(d)==3?y.j():this.Y(d)},pr.prototype.Y=function(d){try{if(d==this.g)e:{const jt=pt(this.g);var y=this.g.Ba();const Mr=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||jt!=4||y==7||(y==8||0>=Mr?Gr(3):Gr(2)),Dr(this);var w=this.g.Z();this.X=w;t:if(nl(this)){var I=Kt(this.g);d="";var W=I.length,Z=pt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Kr(this);var ce="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(I[y],{stream:!(Z&&y==W-1)});I.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=w==200,hr(this.i,this.u,this.A,this.l,this.R,jt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Qt=this.g;if((ht=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ht)){var Qe=ht;break t}}Qe=null}if(w=Qe)fr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,w);else{this.o=!1,this.s=3,It(12),Qn(this),Kr(this);break e}}if(this.P){w=!0;let yr;for(;!this.J&&this.C<ce.length;)if(yr=Qs(this,ce),yr==Gs){jt==4&&(this.s=4,It(14),w=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==na){this.s=4,It(15),fr(this.i,this.l,ce,"[Invalid Chunk]"),w=!1;break}else fr(this.i,this.l,yr,null),ra(this,yr);if(nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||ce.length!=0||this.h.h||(this.s=1,It(16),w=!1),this.o=this.o&&w,!w)fr(this.i,this.l,ce,"[Invalid Chunked Response]"),Qn(this),Kr(this);else if(0<ce.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ju(sn),sn.M=!0,It(11))}}else fr(this.i,this.l,ce,null),ra(this,ce);jt==4&&Qn(this),this.o&&!this.J&&(jt==4?yl(this.j,this):(this.o=!1,st(this)))}else Or(this.g),w==400&&0<ce.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Qn(this),Kr(this)}}}catch{}finally{}};function nl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Qs(d,y){var w=d.C,I=y.indexOf(`
`,w);return I==-1?Gs:(w=Number(y.substring(w,I)),isNaN(w)?na:(I+=1,I+w>y.length?Gs:(y=y.slice(I,I+w),d.C=I+w,y)))}pr.prototype.cancel=function(){this.J=!0,Qn(this)};function st(d){d.S=Date.now()+d.I,rl(d,d.I)}function rl(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=dr(S(d.ba,d),y)}function Dr(d){d.B&&(c.clearTimeout(d.B),d.B=null)}pr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ta(this.i,this.A),this.L!=2&&(Gr(),It(17)),Qn(this),this.s=2,Kr(this)):rl(this,this.S-d)};function Kr(d){d.j.G==0||d.J||yl(d.j,d)}function Qn(d){Dr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Xo(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function ra(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||hn(w.h,d))){if(!d.K&&hn(w.h,d)&&w.G==3){try{var I=w.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)gl(w),Jr(w);else break e;ml(w),It(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=dr(S(w.Za,w),6e3));if(1>=sl(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ds(w,11)}else if((d.K||w.g==d)&&gl(w),!q(y))for(W=w.Da.g.parse(y),y=0;y<W.length;y++){let Qe=W[y];if(w.T=Qe[0],Qe=Qe[1],w.G==2)if(Qe[0]=="c"){w.K=Qe[1],w.ia=Qe[2];const sn=Qe[3];sn!=null&&(w.la=sn,w.j.info("VER="+w.la));const jt=Qe[4];jt!=null&&(w.Aa=jt,w.j.info("SVER="+w.Aa));const Mr=Qe[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(I=1.5*Mr,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const yr=d.g;if(yr){const la=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var Z=I.h;Z.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ia(Z,Z.h),Z.h=null))}if(I.D){const _l=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(I.ya=_l,dt(I.I,I.D,_l))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var ce=d;if(I.qa=qd(I,I.J?I.ia:null,I.W),ce.K){ol(I.h,ce);var ht=ce,Qt=I.L;Qt&&(ht.I=Qt),ht.B&&(Dr(ht),st(ht)),I.g=ce}else aa(I);0<w.i.length&&Ii(w)}else Qe[0]!="stop"&&Qe[0]!="close"||ds(w,7);else w.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ds(w,7):Bt(w):Qe[0]!="noop"&&w.l&&w.l.ta(Qe),w.v=0)}}Gr(4)}catch{}}var il=class{constructor(d,y){this.g=d,this.map=y}};function vi(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function sl(d){return d.h?1:d.g?d.g.size:0}function hn(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function ia(d,y){d.g?d.g.add(y):d.h=y}function ol(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}vi.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function al(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return P(d.i)}function Ys(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],w=d.length,I=0;I<w;I++)y.push(d[I]);return y}y=[],w=0;for(I in d)y[w++]=d[I];return y}function Xs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const I in d)y[w++]=I;return y}}}function _i(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=Xs(d),I=Ys(d),W=I.length,Z=0;Z<W;Z++)y.call(void 0,I[Z],w&&w[Z],d)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var I=d[w].indexOf("="),W=null;if(0<=I){var Z=d[w].substring(0,I);W=d[w].substring(I+1)}else Z=d[w];y(Z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function mr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof mr){this.h=d.h,ls(this,d.j),this.o=d.o,this.g=d.g,Qr(this,d.s),this.l=d.l;var y=d.i,w=new Vn;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),wi(this,w),this.m=d.m}else d&&(y=String(d).match(as))?(this.h=!1,ls(this,y[1]||"",!0),this.o=ze(y[2]||""),this.g=ze(y[3]||"",!0),Qr(this,y[4]),this.l=ze(y[5]||"",!0),wi(this,y[6]||"",!0),this.m=ze(y[7]||"")):(this.h=!1,this.i=new Vn(null,this.h))}mr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(bi(y,Zs,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(bi(y,Zs,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(bi(w,w.charAt(0)=="/"?ul:eo,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",bi(w,sa)),d.join("")};function Mn(d){return new mr(d)}function ls(d,y,w){d.j=w?ze(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Qr(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function wi(d,y,w){y instanceof Vn?(d.i=y,Yn(d.i,d.h)):(w||(y=bi(y,cl)),d.i=new Vn(y,d.h))}function dt(d,y,w){d.i.set(y,w)}function Si(d){return dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ze(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bi(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,ll),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ll(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zs=/[#\/\?@]/g,eo=/[#\?:]/g,ul=/[#\?]/g,cl=/[#\?@]/g,sa=/#/g;function Vn(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Mt(d){d.g||(d.g=new Map,d.h=0,d.i&&Js(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=Vn.prototype,t.add=function(d,y){Mt(this),this.i=null,d=$n(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function Ln(d,y){Mt(d),y=$n(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Fn(d,y){return Mt(d),y=$n(d,y),d.g.has(y)}t.forEach=function(d,y){Mt(this),this.g.forEach(function(w,I){w.forEach(function(W){d.call(y,W,I,this)},this)},this)},t.na=function(){Mt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let I=0;I<y.length;I++){const W=d[I];for(let Z=0;Z<W.length;Z++)w.push(y[I])}return w},t.V=function(d){Mt(this);let y=[];if(typeof d=="string")Fn(this,d)&&(y=y.concat(this.g.get($n(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},t.set=function(d,y){return Mt(this),this.i=null,d=$n(this,d),Fn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ti(d,y,w){Ln(d,y),0<w.length&&(d.i=null,d.g.set($n(d,y),P(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var I=y[w];const Z=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var W=Z;ce[I]!==""&&(W+="="+encodeURIComponent(String(ce[I]))),d.push(W)}}return this.i=d.join("&")};function $n(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Yn(d,y){y&&!d.j&&(Mt(d),d.i=null,d.g.forEach(function(w,I){var W=I.toLowerCase();I!=W&&(Ln(this,I),Ti(this,W,w))},d)),d.j=y}function dl(d,y){const w=new rs;if(c.Image){const I=new Image;I.onload=T(zt,w,"TestLoadImage: loaded",!0,y,I),I.onerror=T(zt,w,"TestLoadImage: error",!1,y,I),I.onabort=T(zt,w,"TestLoadImage: abort",!1,y,I),I.ontimeout=T(zt,w,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else y(!1)}function Nr(d,y){const w=new rs,I=new AbortController,W=setTimeout(()=>{I.abort(),zt(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:I.signal}).then(Z=>{clearTimeout(W),Z.ok?zt(w,"TestPingServer: ok",!0,y):zt(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),zt(w,"TestPingServer: error",!1,y)})}function zt(d,y,w,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(w)}catch{}}function Bu(){this.g=new Jo}function oa(d,y,w){const I=w||"";try{_i(d,function(W,Z){let ce=W;p(W)&&(ce=cr(W)),y.push(I+Z+"="+encodeURIComponent(ce))})}catch(W){throw y.push(I+"type="+encodeURIComponent("_badmap")),W}}function Yr(d){this.l=d.Ub||null,this.j=d.eb||!1}k(Yr,yi),Yr.prototype.g=function(){return new Ei(this.l,this.j)},Yr.prototype.i=function(d){return function(){return d}}({});function Ei(d,y){Nt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ei,Nt),t=Ei.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Xn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?gr(this):Xn(this),this.readyState==3&&hl(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,gr(this))},t.Qa=function(d){this.g&&(this.response=d,gr(this))},t.ga=function(){this.g&&gr(this)};function gr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xn(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function Xn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xr(d){let y="";return X(d,function(w,I){y+=I,y+=":",y+=w,y+=`\r
`}),y}function A(d,y,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=Xr(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):dt(d,y,w))}function V(d){Nt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(V,Nt);var J=/^https?$/i,ge=["POST","PUT"];t=V.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rn.g(),this.v=this.o?Ws(this.o):Ws(rn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Z){Le(this,Z);return}if(d=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)w.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())w.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(Z=>Z.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ge,y,void 0))||I||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of w)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ze(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Le(this,Z)}};function Le(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Ke(d),Ne(d)}function Ke(d){d.A||(d.A=!0,Ot(d,"complete"),Ot(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ot(this,"complete"),Ot(this,"abort"),Ne(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ne(this,!0)),V.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ot(this):this.bb())},t.bb=function(){ot(this)};function ot(d){if(d.h&&typeof l<"u"&&(!d.v[1]||pt(d)!=4||d.Z()!=2)){if(d.u&&pt(d)==4)js(d.Ea,0,d);else if(Ot(d,"readystatechange"),pt(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var I;if(I=ce===0){var W=String(d.D).match(as)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),I=!J.test(W?W.toLowerCase():"")}w=I}if(w)Ot(d,"complete"),Ot(d,"success");else{d.m=6;try{var Z=2<pt(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",Ke(d)}}finally{Ne(d)}}}}function Ne(d,y){if(d.g){Ze(d);const w=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Ot(d,"ready");try{w.onreadystatechange=I}catch{}}}function Ze(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function pt(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<pt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),gi(y)}};function Kt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Or(d){const y={};d=(d.g&&2<=pt(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(q(d[I]))continue;var w=F(d[I]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Z=y[W]||[];y[W]=Z,Z.push(w)}x(y,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jn(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function us(d){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jn("baseRetryDelayMs",5e3,d),this.cb=Jn("retryDelaySeedMs",1e4,d),this.Wa=Jn("forwardChannelMaxRetries",2,d),this.wa=Jn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(d&&d.concurrentRequestLimit),this.Da=new Bu,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=us.prototype,t.la=8,t.G=1,t.connect=function(d,y,w,I){It(0),this.W=d,this.H=y||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=qd(this,null,this.W),Ii(this)};function Bt(d){if(fl(d),d.G==3){var y=d.U++,w=Mn(d.I);if(dt(w,"SID",d.K),dt(w,"RID",y),dt(w,"TYPE","terminate"),cs(d,w),y=new pr(d,d.j,y),y.L=2,y.v=Si(Mn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=Gd(y.j,null),y.g.ea(y.v)),y.F=Date.now(),st(y)}Hd(d)}function Jr(d){d.g&&(ju(d),d.g.cancel(),d.g=null)}function fl(d){Jr(d),d.u&&(c.clearTimeout(d.u),d.u=null),gl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ii(d){if(!On(d.h)&&!d.s){d.s=!0;var y=d.Ga;Te||fe(),le||(Te(),le=!0),be.add(y,d),d.B=0}}function rm(d,y){return sl(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=dr(S(d.Ga,d,y),Wd(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new pr(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=E(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(W.H=Z,Z=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=to(this,W,y),w=Mn(this.I),dt(w,"RID",d),dt(w,"CVER",22),this.D&&dt(w,"X-HTTP-Session-Id",this.D),cs(this,w),Z&&(this.O?y="headers="+encodeURIComponent(String(Xr(Z)))+"&"+y:this.m&&A(w,this.m,Z)),ia(this.h,W),this.Ua&&dt(w,"TYPE","init"),this.P?(dt(w,"$req",y),dt(w,"SID","null"),W.T=!0,Ks(W,w,null)):Ks(W,w,y),this.G=2}}else this.G==3&&(d?pl(this,d):this.i.length==0||On(this.h)||pl(this))};function pl(d,y){var w;y?w=y.l:w=d.U++;const I=Mn(d.I);dt(I,"SID",d.K),dt(I,"RID",w),dt(I,"AID",d.T),cs(d,I),d.m&&d.o&&A(I,d.m,d.o),w=new pr(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=to(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ia(d.h,w),Ks(w,I,y)}function cs(d,y){d.H&&X(d.H,function(w,I){dt(y,I,w)}),d.l&&_i({},function(w,I){dt(y,I,w)})}function to(d,y,w){w=Math.min(d.i.length,w);var I=d.l?S(d.l.Na,d.l,d):null;e:{var W=d.i;let Z=-1;for(;;){const ce=["count="+w];Z==-1?0<w?(Z=W[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let ht=!0;for(let Qt=0;Qt<w;Qt++){let Qe=W[Qt].g;const sn=W[Qt].map;if(Qe-=Z,0>Qe)Z=Math.max(0,W[Qt].g-100),ht=!1;else try{oa(sn,ce,"req"+Qe+"_")}catch{I&&I(sn)}}if(ht){I=ce.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,I}function aa(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Te||fe(),le||(Te(),le=!0),be.add(y,d),d.v=0}}function ml(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=dr(S(d.Fa,d),Wd(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=dr(S(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Jr(this),jd(this))};function ju(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function jd(d){d.g=new pr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Mn(d.qa);dt(y,"RID","rpc"),dt(y,"SID",d.K),dt(y,"AID",d.T),dt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&dt(y,"TO",d.ja),dt(y,"TYPE","xmlhttp"),cs(d,y),d.m&&d.o&&A(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Si(Mn(y)),w.m=null,w.P=!0,os(w,d)}t.Za=function(){this.C!=null&&(this.C=null,Jr(this),ml(this),It(19))};function gl(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function yl(d,y){var w=null;if(d.g==y){gl(d),ju(d),d.g=null;var I=2}else if(hn(d.h,y))w=y.D,ol(d.h,y),I=1;else return;if(d.G!=0){if(y.o)if(I==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;I=ns(),Ot(I,new Hs(I,w)),Ii(d)}else aa(d);else if(W=y.s,W==3||W==0&&0<y.X||!(I==1&&rm(d,y)||I==2&&ml(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),W){case 1:ds(d,5);break;case 4:ds(d,10);break;case 3:ds(d,6);break;default:ds(d,2)}}}function Wd(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function ds(d,y){if(d.j.info("Error code "+y),y==2){var w=S(d.fb,d),I=d.Xa;const W=!I;I=new mr(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ls(I,"https"),Si(I),W?dl(I.toString(),w):Nr(I.toString(),w)}else It(2);d.G=0,d.l&&d.l.sa(y),Hd(d),fl(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Hd(d){if(d.G=0,d.ka=[],d.l){const y=al(d.h);(y.length!=0||d.i.length!=0)&&(C(d.ka,y),C(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function qd(d,y,w){var I=w instanceof mr?Mn(w):new mr(w);if(I.g!="")y&&(I.g=y+"."+I.g),Qr(I,I.s);else{var W=c.location;I=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Z=new mr(null);I&&ls(Z,I),y&&(Z.g=y),W&&Qr(Z,W),w&&(Z.l=w),I=Z}return w=d.D,y=d.ya,w&&y&&dt(I,w,y),dt(I,"VER",d.la),cs(d,I),I}function Gd(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new V(new Yr({eb:w})):new V(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}t=Wu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vl(){}vl.prototype.g=function(d,y){return new Un(d,y)};function Un(d,y){Nt.call(this),this.g=new us(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!q(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ki(this)}k(Un,Nt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Bt(this.g)},Un.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=cr(d),d=w);y.i.push(new il(y.Ya++,d)),y.G==3&&Ii(y)},Un.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,Un.aa.N.call(this)};function Kd(d){xr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}k(Kd,xr);function Qd(){Kn.call(this),this.status=1}k(Qd,Kn);function ki(d){this.g=d}k(ki,Wu),ki.prototype.ua=function(){Ot(this.g,"a")},ki.prototype.ta=function(d){Ot(this.g,new Kd(d))},ki.prototype.sa=function(d){Ot(this.g,new Qd)},ki.prototype.ra=function(){Ot(this.g,"b")},vl.prototype.createWebChannel=vl.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,UA=function(){return new vl},$A=function(){return ns()},FA=Rr,fv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,Of=qs,el.COMPLETE="complete",LA=el,ts.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Oc=ts,V.prototype.listenOnce=V.prototype.L,V.prototype.getLastError=V.prototype.Ka,V.prototype.getLastErrorCode=V.prototype.Ba,V.prototype.getStatus=V.prototype.Z,V.prototype.getResponseJson=V.prototype.Oa,V.prototype.getResponseText=V.prototype.oa,V.prototype.send=V.prototype.ea,V.prototype.setWithCredentials=V.prototype.Ha,VA=V}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const FE="@firebase/firestore",$E="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new U0("@firebase/firestore");function Bl(){return Ua.logLevel}function ye(t,...e){if(Ua.logLevel<=We.DEBUG){const n=e.map(J0);Ua.debug(`Firestore (${Lu}): ${t}`,...n)}}function Vs(t,...e){if(Ua.logLevel<=We.ERROR){const n=e.map(J0);Ua.error(`Firestore (${Lu}): ${t}`,...n)}}function Tu(t,...e){if(Ua.logLevel<=We.WARN){const n=e.map(J0);Ua.warn(`Firestore (${Lu}): ${t}`,...n)}}function J0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: `+t;throw Vs(e),new Error(e)}function lt(t,e){t||Re()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class rW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iW{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new No;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new No,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new No)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string"),new zA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new Pn(e)}}class sW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aW{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new UE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt(typeof n.token=="string"),this.R=n.token,new UE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function pv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ue(r,i);{const a=BA(),l=uW(a.encode(zE(t,n)),a.encode(zE(e,n)));return l!==0?l:Ue(r,i)}}n+=r>65535?2:1}return Ue(t.length,e.length)}function zE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function uW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ue(t[n],e[n]);return Ue(t.length,e.length)}function Eu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=-62135596800,jE=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jE);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BE)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-BE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Zt(0,0))}static max(){return new Oe(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="__name__";class Oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Oi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Oi.isNumericId(e),i=Oi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):pv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class gt extends Oi{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const cW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Oi{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return cW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WE}static keyField(){return new vn([WE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(gt.fromString(e))}static fromName(e){return new Ee(gt.fromString(e).popFirst(5))}static empty(){return new Ee(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=-1;function dW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Fo(i,Ee.empty(),e)}function hW(t){return new Fo(t.readTime,t.key,pd)}class Fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fo(Oe.min(),Ee.empty(),pd)}static max(){return new Fo(Oe.max(),Ee.empty(),pd)}}function fW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==pW)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new re((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function gW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=-1;function $p(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function yW(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="";function vW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HE(e)),e=_W(t.get(n),e);return HE(e)}function _W(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case WA:n+="";break;default:n+=a}}return n}function HE(t){return t+WA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??gn.RED,this.left=i??gn.EMPTY,this.right=a??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new gn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,a){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class GE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new br([])}unionWith(e){let n=new en(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qA("Invalid base64 string: "+a):a}}(e);return new _n(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const wW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $o(t){if(lt(!!t),typeof t=="string"){let e=0;const n=wW.exec(t);if(lt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Uo(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",KA="__type__",QA="__previous_value__",YA="__local_write_time__";function Up(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KA])===null||n===void 0?void 0:n.stringValue)===GA}function zp(t){const e=t.mapValue.fields[QA];return Up(e)?zp(e):e}function md(t){const e=$o(t.mapValue.fields[YA].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n,r,i,a,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const op="(default)";class gd{constructor(e,n){this.projectId=e,this.database=n||op}static empty(){return new gd("","")}get isDefaultDatabase(){return this.database===op}isEqual(e){return e instanceof gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__type__",bW="__max__",uf={mapValue:{}},JA="__vector__",ap="value";function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Up(t)?4:EW(t)?9007199254740991:TW(t)?10:11:Re()}function Yi(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return md(t).isEqual(md(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=$o(i.timestampValue),c=$o(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Uo(i.bytesValue).isEqual(Uo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ft(i.geoPointValue.latitude)===Ft(a.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ft(i.integerValue)===Ft(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ft(i.doubleValue),c=Ft(a.doubleValue);return l===c?sp(l)===sp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Eu(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(qE(l)!==qE(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Yi(l[h],c[h])))return!1;return!0}(t,e);default:return Re()}}function yd(t,e){return(t.values||[]).find(n=>Yi(n,e))!==void 0}function Iu(t,e){if(t===e)return 0;const n=zo(t),r=zo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Ft(a.integerValue||a.doubleValue),h=Ft(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return KE(t.timestampValue,e.timestampValue);case 4:return KE(md(t),md(e));case 5:return pv(t.stringValue,e.stringValue);case 6:return function(a,l){const c=Uo(a),h=Uo(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Ue(c[p],h[p]);if(g!==0)return g}return Ue(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ue(Ft(a.latitude),Ft(l.latitude));return c!==0?c:Ue(Ft(a.longitude),Ft(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QE(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const _=a.fields||{},S=l.fields||{},T=(c=_[ap])===null||c===void 0?void 0:c.arrayValue,k=(h=S[ap])===null||h===void 0?void 0:h.arrayValue,P=Ue(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0);return P!==0?P:QE(T,k)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===uf.mapValue&&l===uf.mapValue)return 0;if(a===uf.mapValue)return 1;if(l===uf.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const S=pv(h[_],g[_]);if(S!==0)return S;const T=Iu(c[h[_]],p[g[_]]);if(T!==0)return T}return Ue(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Re()}}function KE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=$o(t),r=$o(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function QE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Iu(n[i],r[i]);if(a)return a}return Ue(n.length,r.length)}function ku(t){return mv(t)}function mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=mv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${mv(n.fields[l])}`;return i+"}"}(t.mapValue):Re()}function Mf(t){switch(zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zp(t);return e?16+Mf(e):16;case 5:return 2*t.stringValue.length;case 6:return Uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Mf(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ho(r.fields,(a,l)=>{i+=a.length+Mf(l)}),i}(t.mapValue);default:throw Re()}}function lp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gv(t){return!!t&&"integerValue"in t}function e_(t){return!!t&&"arrayValue"in t}function YE(t){return!!t&&"nullValue"in t}function XE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function TW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XA])===null||n===void 0?void 0:n.stringValue)===JA}function Xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Xc(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ar(Xc(this.value))}}function ZA(t){const e=[];return Ho(t.fields,(n,r)=>{const i=new vn([n]);if(Vf(r)){const a=ZA(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new An(e,0,Oe.min(),Oe.min(),Oe.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new An(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new An(e,2,n,Oe.min(),Oe.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Oe.min(),Oe.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.position=e,this.inclusive=n}}function JE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),n.key):r=Iu(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function IW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class Gt extends eC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PW(e,n,r):n==="array-contains"?new xW(e,r):n==="in"?new RW(e,r):n==="not-in"?new DW(e,r):n==="array-contains-any"?new NW(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AW(e,r):new CW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Iu(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(Iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends eC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ci(e,n)}matches(e){return tC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function tC(t){return t.op==="and"}function nC(t){return kW(t)&&tC(t)}function kW(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function yv(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+ku(t.value);if(nC(t))return t.filters.map(e=>yv(e)).join(",");{const e=t.filters.map(n=>yv(n)).join(",");return`${t.op}(${e})`}}function rC(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&Yi(r.value,i.value)}(t,e):t instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&rC(l,i.filters[c]),!0):!1}(t,e):void Re()}function iC(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ku(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(iC).join(" ,")+"}"}(t):"Filter"}class PW extends Gt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class AW extends Gt{constructor(e,n){super(e,"in",n),this.keys=sC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CW extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=sC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class xW extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e_(n)&&yd(n.arrayValue,this.value)}}class RW extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yd(this.value.arrayValue,n)}}class DW extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yd(this.value.arrayValue,n)}}class NW extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function e1(t,e=null,n=[],r=[],i=null,a=null,l=null){return new OW(t,e,n,r,i,a,l)}function t_(t){const e=Me(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ku(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ku(r)).join(",")),e.le=n}return e.le}function n_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function vv(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function MW(t,e,n,r,i,a,l,c){return new Ya(t,e,n,r,i,a,l,c)}function Bp(t){return new Ya(t)}function t1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r_(t){return t.collectionGroup!==null}function fu(t){const e=Me(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new en(vn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new vd(a,r))}),n.has(vn.keyField().canonicalString())||e.he.push(new vd(vn.keyField(),r))}return e.he}function qi(t){const e=Me(t);return e.Pe||(e.Pe=VW(e,fu(t))),e.Pe}function VW(t,e){if(t.limitType==="F")return e1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new vd(i.field,a)});const n=t.endAt?new Pu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pu(t.startAt.position,t.startAt.inclusive):null;return e1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _v(t,e){const n=t.filters.concat([e]);return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wv(t,e,n){return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return n_(qi(t),qi(e))&&t.limitType===e.limitType}function oC(t){return`${t_(qi(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iC(i)).join(", ")}]`),$p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ku(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ku(i)).join(",")),`Target(${r})`}(qi(t))}; limitType=${t.limitType})`}function Wp(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of fu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=JE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,fu(r),i)||r.endAt&&!function(l,c,h){const p=JE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,fu(r),i))}(t,e)}function LW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aC(t){return(e,n)=>{let r=!1;for(const i of fu(t)){const a=FW(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function FW(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?Iu(h,p):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=new Ct(Ee.comparator);function Ls(){return $W}const lC=new Ct(Ee.comparator);function Mc(...t){let e=lC;for(const n of t)e=e.insert(n.key,n);return e}function uC(t){let e=lC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ca(){return Jc()}function cC(){return Jc()}function Jc(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const UW=new Ct(Ee.comparator),zW=new en(Ee.comparator);function He(...t){let e=zW;for(const n of t)e=e.add(n);return e}const BW=new en(Ue);function jW(){return BW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function dC(t){return{integerValue:""+t}}function WW(t,e){return yW(e)?dC(e):i_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this._=void 0}}function HW(t,e,n){return t instanceof up?function(i,a){const l={fields:{[KA]:{stringValue:GA},[YA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Up(a)&&(a=zp(a)),a&&(l.fields[QA]=a),{mapValue:l}}(n,e):t instanceof _d?fC(t,e):t instanceof wd?pC(t,e):function(i,a){const l=hC(i,a),c=n1(l)+n1(i.Ie);return gv(l)&&gv(i.Ie)?dC(c):i_(i.serializer,c)}(t,e)}function qW(t,e,n){return t instanceof _d?fC(t,e):t instanceof wd?pC(t,e):n}function hC(t,e){return t instanceof cp?function(r){return gv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class up extends Hp{}class _d extends Hp{constructor(e){super(),this.elements=e}}function fC(t,e){const n=mC(e);for(const r of t.elements)n.some(i=>Yi(i,r))||n.push(r);return{arrayValue:{values:n}}}class wd extends Hp{constructor(e){super(),this.elements=e}}function pC(t,e){let n=mC(e);for(const r of t.elements)n=n.filter(i=>!Yi(i,r));return{arrayValue:{values:n}}}class cp extends Hp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function n1(t){return Ft(t.integerValue||t.doubleValue)}function mC(t){return e_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _d&&i instanceof _d||r instanceof wd&&i instanceof wd?Eu(r.elements,i.elements,Yi):r instanceof cp&&i instanceof cp?Yi(r.Ie,i.Ie):r instanceof up&&i instanceof up}(t.transform,e.transform)}class KW{constructor(e,n){this.version=e,this.transformResults=n}}class Gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qp{}function gC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vC(t.key,Gi.none()):new Fd(t.key,t.data,Gi.none());{const n=t.data,r=ar.empty();let i=new en(vn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new qo(t.key,r,new br(i.toArray()),Gi.none())}}function QW(t,e,n){t instanceof Fd?function(i,a,l){const c=i.value.clone(),h=i1(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof qo?function(i,a,l){if(!Lf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=i1(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(yC(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Zc(t,e,n,r){return t instanceof Fd?function(a,l,c,h){if(!Lf(a.precondition,l))return c;const p=a.value.clone(),g=s1(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof qo?function(a,l,c,h){if(!Lf(a.precondition,l))return c;const p=s1(a.fieldTransforms,h,l),g=l.data;return g.setAll(yC(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return Lf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function YW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=hC(r.transform,i||null);a!=null&&(n===null&&(n=ar.empty()),n.set(r.field,a))}return n||null}function r1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eu(r,i,(a,l)=>GW(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fd extends qp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qo extends qp{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function i1(t,e,n){const r=new Map;lt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,qW(l,c,n[i]))}return r}function s1(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,HW(a,l,e))}return r}class vC extends qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XW extends qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&QW(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cC();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const h=gC(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Eu(this.mutations,e.mutations,(n,r)=>r1(n,r))&&Eu(this.baseMutations,e.baseMutations,(n,r)=>r1(n,r))}}class s_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){lt(e.mutations.length===r.length);let i=function(){return UW}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new s_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Ye;function t8(t){switch(t){case ee.OK:return Re();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Re()}}function _C(t){if(t===void 0)return Vs("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ht.OK:return ee.OK;case Ht.CANCELLED:return ee.CANCELLED;case Ht.UNKNOWN:return ee.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ee.INTERNAL;case Ht.UNAVAILABLE:return ee.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ee.NOT_FOUND;case Ht.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ht.ABORTED:return ee.ABORTED;case Ht.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ht.DATA_LOSS:return ee.DATA_LOSS;default:return Re()}}(Ye=Ht||(Ht={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=new Do([4294967295,4294967295],0);function o1(t){const e=BA().encode(t),n=new MA;return n.update(e),new Uint8Array(n.digest())}function a1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Do([n,r],0),new Do([i,a],0)]}class o_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Do.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Do.fromNumber(r)));return i.compare(n8)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=o1(e),[r,i]=a1(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new o_(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=o1(e),[r,i]=a1(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gp(Oe.min(),i,new Ct(Ue),Ls(),He())}}class $d{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class wC{constructor(e,n){this.targetId=e,this.ge=n}}class SC{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l1{constructor(){this.pe=0,this.ye=u1(),this.we=_n.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=He(),n=He(),r=He();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new $d(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=u1()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,lt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class r8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ls(),this.$e=cf(),this.Ue=cf(),this.Ke=new Ct(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const a=i.target;if(vv(a))if(r===0){const l=new Ee(a.path);this.ze(n,l,An.newNoDocument(l,Oe.min()))}else lt(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Uo(r).toUint8Array()}catch(h){if(h instanceof qA)return Tu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new o_(l,i,a)}catch(h){return Tu(h instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,a,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&vv(c.target)){const h=new Ee(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,An.newNoDocument(h,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=He();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new Gp(e,n,this.Ke,this.Qe,r);return this.Qe=Ls(),this.$e=cf(),this.Ue=cf(),this.Ke=new Ct(Ue),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new l1,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new en(Ue),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new en(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new l1),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function cf(){return new Ct(Ee.comparator)}function u1(){return new Ct(Ee.comparator)}const i8={asc:"ASCENDING",desc:"DESCENDING"},s8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o8={and:"AND",or:"OR"};class a8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sv(t,e){return t.useProto3Json||$p(e)?e:{value:e}}function dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l8(t,e){return dp(t,e.toTimestamp())}function Ki(t){return lt(!!t),Oe.fromTimestamp(function(n){const r=$o(n);return new Zt(r.seconds,r.nanos)}(t))}function a_(t,e){return bv(t,e).canonicalString()}function bv(t,e){const n=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TC(t){const e=gt.fromString(t);return lt(AC(e)),e}function Tv(t,e){return a_(t.databaseId,e.path)}function _y(t,e){const n=TC(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(IC(n))}function EC(t,e){return a_(t.databaseId,e)}function u8(t){const e=TC(t);return e.length===4?gt.emptyPath():IC(e)}function Ev(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IC(t){return lt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c1(t,e,n){return{name:Tv(t,e),fields:n.value.mapValue.fields}}function c8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(lt(g===void 0||typeof g=="string"),_n.fromBase64String(g||"")):(lt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),_n.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ee.UNKNOWN:_C(p.code);return new pe(g,p.message||"")}(l);n=new SC(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_y(t,r.document.name),a=Ki(r.document.updateTime),l=r.document.createTime?Ki(r.document.createTime):Oe.min(),c=new ar({mapValue:{fields:r.document.fields}}),h=An.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Ff(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_y(t,r.document),a=r.readTime?Ki(r.readTime):Oe.min(),l=An.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Ff([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_y(t,r.document),a=r.removedTargetIds||[];n=new Ff([],a,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new e8(i,a),c=r.targetId;n=new wC(c,l)}}return n}function d8(t,e){let n;if(e instanceof Fd)n={update:c1(t,e.key,e.value)};else if(e instanceof vC)n={delete:Tv(t,e.key)};else if(e instanceof qo)n={update:c1(t,e.key,e.data),updateMask:w8(e.fieldMask)};else{if(!(e instanceof XW))return Re();n={verify:Tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof up)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _d)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:l8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(t,e.precondition)),n}function h8(t,e){return t&&t.length>0?(lt(e!==void 0),t.map(n=>function(i,a){let l=i.updateTime?Ki(i.updateTime):Ki(a);return l.isEqual(Oe.min())&&(l=Ki(a)),new KW(l,i.transformResults||[])}(n,e))):[]}function f8(t,e){return{documents:[EC(t,e.path)]}}function p8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EC(t,i);const a=function(p){if(p.length!==0)return PC(ci.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(S){return{field:Wl(S.field),direction:y8(S.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Sv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:i}}function m8(t){let e=u8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){lt(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const S=kC(_);return S instanceof ci&&nC(S)?S.getFilters():[S]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(S=>function(k){return new vd(Hl(k.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let c=null;n.limit&&(c=function(_){let S;return S=typeof _=="object"?_.value:_,$p(S)?null:S}(n.limit));let h=null;n.startAt&&(h=function(_){const S=!!_.before,T=_.values||[];return new Pu(T,S)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const S=!_.before,T=_.values||[];return new Pu(T,S)}(n.endAt)),MW(e,i,l,a,c,"F",h,p)}function g8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hl(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hl(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Hl(n.unaryFilter.field);return Gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Hl(n.unaryFilter.field);return Gt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(Hl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(r=>kC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function y8(t){return i8[t]}function v8(t){return s8[t]}function _8(t){return o8[t]}function Wl(t){return{fieldPath:t.canonicalString()}}function Hl(t){return vn.fromServerFormat(t.fieldPath)}function PC(t){return t instanceof Gt?function(n){if(n.op==="=="){if(XE(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XE(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(n.field),op:v8(n.op),value:n.value}}}(t):t instanceof ci?function(n){const r=n.getFilters().map(i=>PC(i));return r.length===1?r[0]:{compositeFilter:{op:_8(n.op),filters:r}}}(t):Re()}function w8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,i,a=Oe.min(),l=Oe.min(),c=_n.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.Tt=e}}function b8(t){const e=m8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.Tn=new E8}addToCollectionParentIndex(e,n){return this.Tn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Fo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class E8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new en(gt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new en(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CC=41943040;class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(CC,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Au(0)}static Kn(){return new Au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="LruGarbageCollector",I8=1048576;function f1([t,e],[n,r]){const i=Ue(t,n);return i===0?Ue(e,r):i}class k8{constructor(e){this.Hn=e,this.buffer=new en(f1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();f1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(h1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$u(n)?ye(h1,"Ignoring IndexedDB error during garbage collection: ",n):await Fu(n)}await this.er(3e5)})}}class A8{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Fp.ae);const r=new k8(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(d1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d1):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Bl()<=We.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function C8(t,e){return new A8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zc(r.mutation,i,br.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const i=Ca();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Mc();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ca();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=Ls();const l=Jc(),c=function(){return Jc()}();return n.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof qo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Zc(g.mutation,p,g.mutation.getFieldMask(),Zt.now())):l.set(p.key,br.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new R8(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Jc();let i=new Ct((l,c)=>l-c),a=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||br.empty();g=c.applyToLocalView(p,g),r.set(h,g);const _=(i.get(c.batchId)||He()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,_=cC();g.forEach(S=>{if(!a.has(S)){const T=gC(n.get(S),r.get(S));T!==null&&_.set(S,T),a=a.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):re.resolve(Ca());let c=pd,h=a;return l.next(p=>re.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next(S=>{h=h.insert(g,S)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,He())).next(g=>({batchId:c,changes:uC(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Mc();return this.indexManager.getCollectionParents(e,a).next(c=>re.forEach(c,h=>{const p=function(_,S){return new Ya(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,S)=>{l=l.insert(_,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,An.newInvalidDocument(g)))});let c=Mc();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&Zc(g.mutation,p,br.empty(),Zt.now()),Wp(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ki(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:b8(i.bundledQuery),readTime:Ki(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.overlays=new Ct(Ee.comparator),this.Rr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ca();return re.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Et(e,n,a)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=Ca(),a=n.length+1,l=new Ee(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ct((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ca(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Ca(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return re.resolve(c)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ZW(n,r));let a=this.Rr.get(n);a===void 0&&(a=He(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Vr=new en(un.mr),this.gr=new en(un.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new un(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new un(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Ee(new gt([])),r=new un(n,e),i=new un(n,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ee(new gt([])),r=new un(n,e),i=new un(n,e+1);let a=He();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new un(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ee.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new en(un.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new JW(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new un(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Z0:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Ue);return n.forEach(i=>{const a=new un(i,0),l=new un(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),re.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const l=new un(new Ee(a),0);let c=new en(Ue);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),re.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){lt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return re.forEach(n.mutations,i=>{const a=new un(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new un(n,0),i=this.Mr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.kr=e,this.docs=function(){return new Ct(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=Ls();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():An.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ls();const l=n.path,c=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||fW(hW(g),r)<=0||(i.has(g.key)||Wp(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Re()}qr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new F8(this)}getSize(e){return re.resolve(this.size)}}class F8 extends x8{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.persistence=e,this.Qr=new Xa(n=>t_(n),n_),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new l_,this.targetCount=0,this.Kr=Au.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Au(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.zn(n),re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),re.waitFor(a).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Fp(0),this.zr=!1,this.zr=!0,this.jr=new M8,this.referenceDelegate=e(this),this.Hr=new $8(this),this.indexManager=new T8,this.remoteDocumentCache=function(i){return new L8(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new S8(n),this.Yr=new N8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new V8(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const i=new U8(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,n){return re.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class U8 extends mW{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.ti=new l_,this.ni=null}static ri(e){return new u_(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),re.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,r=>{const i=Ee.fromPath(r);return this.si(e,i).next(a=>{a||n.removeEntry(i,Oe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return re.or([()=>re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class hp{constructor(e,n){this.persistence=e,this.oi=new Xa(r=>vW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=C8(this,n)}static ri(e,n){return new hp(e,n)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return re.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Oe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mf(e.data.value)),n}ar(e,n,r){return re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=He(),i=He();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new c_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return T3()?8:gW(Rn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new z8;return this._s(e,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>a.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Bl()<=We.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Bl()<=We.DEBUG&&ye("QueryEngine","Query:",jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Bl()<=We.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):re.resolve())}rs(e,n){if(t1(n))return re.resolve(null);let r=qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wv(n,null,"F"),r=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=He(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(n,c);return this.ls(n,p,l,h.readTime)?this.rs(e,wv(n,null,"F")):this.hs(e,p,n,h)}))})))}ss(e,n,r,i){return t1(n)||i.isEqual(Oe.min())?re.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,i)?re.resolve(null):(Bl()<=We.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jl(n)),this.hs(e,l,n,dW(i,pd)).next(c=>c))})}cs(e,n){let r=new en(aC(e));return n.forEach((i,a)=>{Wp(e,a)&&(r=r.add(a))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,n,r){return Bl()<=We.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",jl(n)),this.ns.getDocumentsMatchingQuery(e,n,Fo.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LocalStore",j8=3e8;class W8{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ct(Ue),this.Is=new Xa(a=>t_(a),n_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D8(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function H8(t,e,n,r){return new W8(t,e,n,r)}async function RC(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=He();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function q8(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const _=p.batch,S=_.keys();let T=re.resolve();return S.forEach(k=>{T=T.next(()=>g.getEntry(h,k)).next(P=>{const C=p.docVersions.get(k);lt(C!==null),P.version.compareTo(C)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),g.addEntry(P)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=He();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DC(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function G8(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const S=i.get(_);if(!S)return;c.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,_)));let T=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(_n.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(P,C,z){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=j8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(S,T,g)&&c.push(n.Hr.updateTargetData(a,T))});let h=Ls(),p=He();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(K8(a,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(Oe.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return re.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.Ts=i,a))}function K8(t,e,n){let r=He(),i=He();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ls();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ye(d_,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function Q8(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Z0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y8(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(a=>a?(i=a,re.resolve(i)):n.Hr.allocateTargetId(r).next(l=>(i=new Co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Iv(t,e,n){const r=Me(t),i=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!$u(l))throw l;ye(d_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function p1(t,e,n){const r=Me(t);let i=Oe.min(),a=He();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=Me(h),S=_.Is.get(g);return S!==void 0?re.resolve(_.Ts.get(S)):_.Hr.getTargetData(p,g)}(r,l,qi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?i:Oe.min(),n?a:He())).next(c=>(X8(r,LW(e),c),{documents:c,gs:a})))}function X8(t,e,n){let r=t.Es.get(e)||Oe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class m1{constructor(){this.activeTargetIds=jW()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J8{constructor(){this.ho=new m1,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new m1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="ConnectivityMonitor";class y1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(g1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(g1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=null;function kv(){return df===null?df=function(){return 268435456+Math.round(2147483648*Math.random())}():df++,"0x"+df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="RestConnection",eH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tH{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===op?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,a){const l=kv(),c=this.bo(e,n.toUriEncodedString());ye(wy,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,a),this.vo(e,c,h,r).then(p=>(ye(wy,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Tu(wy,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,i,a,l){return this.So(e,n,r,i,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,n){const r=eH[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class rH extends tH{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const a=kv();return new Promise((l,c)=>{const h=new VA;h.setWithCredentials(!0),h.listenOnce(LA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Of.NO_ERROR:const g=h.getResponseJson();ye(En,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Of.TIMEOUT:ye(En,`RPC '${e}' ${a} timed out`),c(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const _=h.getStatus();if(ye(En,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const T=S==null?void 0:S.error;if(T&&T.status&&T.message){const k=function(C){const z=C.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(z)>=0?z:ee.UNKNOWN}(T.status);c(new pe(k,T.message))}else c(new pe(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ye(En,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);ye(En,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",p,r,15)})}Wo(e,n,r){const i=kv(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UA(),c=$A(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");ye(En,`Creating RPC '${e}' stream ${i}: ${g}`,h);const _=l.createWebChannel(g,h);let S=!1,T=!1;const k=new nH({Fo:C=>{T?ye(En,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(S||(ye(En,`Opening RPC '${e}' stream ${i} transport.`),_.open(),S=!0),ye(En,`RPC '${e}' stream ${i} sending:`,C),_.send(C))},Mo:()=>_.close()}),P=(C,z,q)=>{C.listen(z,G=>{try{q(G)}catch(te){setTimeout(()=>{throw te},0)}})};return P(_,Oc.EventType.OPEN,()=>{T||(ye(En,`RPC '${e}' stream ${i} transport opened.`),k.Qo())}),P(_,Oc.EventType.CLOSE,()=>{T||(T=!0,ye(En,`RPC '${e}' stream ${i} transport closed`),k.Uo())}),P(_,Oc.EventType.ERROR,C=>{T||(T=!0,Tu(En,`RPC '${e}' stream ${i} transport errored:`,C),k.Uo(new pe(ee.UNAVAILABLE,"The operation could not be completed")))}),P(_,Oc.EventType.MESSAGE,C=>{var z;if(!T){const q=C.data[0];lt(!!q);const G=q,te=(G==null?void 0:G.error)||((z=G[0])===null||z===void 0?void 0:z.error);if(te){ye(En,`RPC '${e}' stream ${i} received error:`,te);const O=te.status;let X=function(R){const M=Ht[R];if(M!==void 0)return _C(M)}(O),x=te.message;X===void 0&&(X=ee.INTERNAL,x="Unknown error status: "+O+" with message "+te.message),T=!0,k.Uo(new pe(X,x)),_.close()}else ye(En,`RPC '${e}' stream ${i} received:`,q),k.Ko(q)}}),P(c,FA.STAT_EVENT,C=>{C.stat===fv.PROXY?ye(En,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===fv.NOPROXY&&ye(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){return new a8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="PersistentStream";class OC{constructor(e,n,r,i,a,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new NC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new pe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(v1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ye(v1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iH extends OC{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=c8(this.serializer,e),r=function(a){if(!("targetChange"in a))return Oe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Oe.min():l.readTime?Ki(l.readTime):Oe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Ev(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=vv(h)?{documents:f8(a,h)}:{query:p8(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=bC(a,l.resumeToken);const p=Sv(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Oe.min())>0){c.readTime=dp(a,l.snapshotVersion.toTimestamp());const p=Sv(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=g8(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Ev(this.serializer),n.removeTarget=e,this.I_(n)}}class sH extends OC{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=h8(e.writeResults,e.commitTime),r=Ki(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Ev(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>d8(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{}class aH extends oH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,bv(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ee.UNKNOWN,a.toString())})}Co(e,n,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,bv(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ee.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vs(n),this.N_=!1):ye("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class uH{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ja(this)&&(ye(za,"Restarting streams for network reachability change."),await async function(h){const p=Me(h);p.W_.add(4),await Ud(p),p.j_.set("Unknown"),p.W_.delete(4),await Qp(p)}(this))})}),this.j_=new lH(r,i)}}async function Qp(t){if(Ja(t))for(const e of t.G_)await e(!0)}async function Ud(t){for(const e of t.G_)await e(!1)}function MC(t,e){const n=Me(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),m_(n)?p_(n):Uu(n).c_()&&f_(n,e))}function h_(t,e){const n=Me(t),r=Uu(n);n.K_.delete(e),r.c_()&&VC(n,e),n.K_.size===0&&(r.c_()?r.P_():Ja(n)&&n.j_.set("Unknown"))}function f_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uu(t).y_(e)}function VC(t,e){t.H_.Ne(e),Uu(t).w_(e)}function p_(t){t.H_=new r8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Uu(t).start(),t.j_.B_()}function m_(t){return Ja(t)&&!Uu(t).u_()&&t.K_.size>0}function Ja(t){return Me(t).W_.size===0}function LC(t){t.H_=void 0}async function cH(t){t.j_.set("Online")}async function dH(t){t.K_.forEach((e,n)=>{f_(t,e)})}async function hH(t,e){LC(t),m_(t)?(t.j_.q_(e),p_(t)):t.j_.set("Unknown")}async function fH(t,e,n){if(t.j_.set("Online"),e instanceof SC&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(r){ye(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fp(t,r)}else if(e instanceof Ff?t.H_.We(e):e instanceof wC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Oe.min()))try{const r=await DC(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.K_.get(h);if(!g)return;a.K_.set(h,g.withResumeToken(_n.EMPTY_BYTE_STRING,g.snapshotVersion)),VC(a,h);const _=new Co(g.target,h,p,g.sequenceNumber);f_(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ye(za,"Failed to raise snapshot:",r),await fp(t,r)}}async function fp(t,e,n){if(!$u(e))throw e;t.W_.add(1),await Ud(t),t.j_.set("Offline"),n||(n=()=>DC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(za,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Qp(t)})}function FC(t,e){return e().catch(n=>fp(t,n,e))}async function Yp(t){const e=Me(t),n=Bo(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Z0;for(;pH(e);)try{const i=await Q8(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,mH(e,i)}catch(i){await fp(e,i)}$C(e)&&UC(e)}function pH(t){return Ja(t)&&t.U_.length<10}function mH(t,e){t.U_.push(e);const n=Bo(t);n.c_()&&n.S_&&n.b_(e.mutations)}function $C(t){return Ja(t)&&!Bo(t).u_()&&t.U_.length>0}function UC(t){Bo(t).start()}async function gH(t){Bo(t).C_()}async function yH(t){const e=Bo(t);for(const n of t.U_)e.b_(n.mutations)}async function vH(t,e,n){const r=t.U_.shift(),i=s_.from(r,e,n);await FC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yp(t)}async function _H(t,e){e&&Bo(t).S_&&await async function(r,i){if(function(l){return t8(l)&&l!==ee.ABORTED}(i.code)){const a=r.U_.shift();Bo(r).h_(),await FC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Yp(r)}}(t,e),$C(t)&&UC(t)}async function _1(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ye(za,"RemoteStore received new credentials");const r=Ja(n);n.W_.add(3),await Ud(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Qp(n)}async function wH(t,e){const n=Me(t);e?(n.W_.delete(2),await Qp(n)):e||(n.W_.add(2),await Ud(n),n.j_.set("Unknown"))}function Uu(t){return t.J_||(t.J_=function(n,r,i){const a=Me(n);return a.M_(),new iH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:cH.bind(null,t),No:dH.bind(null,t),Lo:hH.bind(null,t),p_:fH.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),m_(t)?p_(t):t.j_.set("Unknown")):(await t.J_.stop(),LC(t))})),t.J_}function Bo(t){return t.Y_||(t.Y_=function(n,r,i){const a=Me(n);return a.M_(),new sH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:gH.bind(null,t),Lo:_H.bind(null,t),D_:yH.bind(null,t),v_:vH.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Yp(t)):(await t.Y_.stop(),t.U_.length>0&&(ye(za,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new g_(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y_(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),$u(t))return new pe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{static emptySet(e){return new pu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.Z_=new Ct(Ee.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cu{constructor(e,n,r,i,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Cu(e,n,pu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bH{constructor(){this.queries=S1(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Me(n),a=i.queries;i.queries=S1(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function S1(){return new Xa(t=>oC(t),jp)}async function zC(t,e){const n=Me(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new SH,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=y_(l,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&v_(n)}async function BC(t,e){const n=Me(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TH(t,e){const n=Me(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&v_(n)}function EH(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(e)}function v_(t){t.ia.forEach(e=>{e.next()})}var Pv,b1;(b1=Pv||(Pv={}))._a="default",b1.Cache="cache";class jC{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.key=e}}class HC{constructor(e){this.key=e}}class IH{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=aC(e),this.wa=new pu(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new w1,i=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const S=i.get(g),T=Wp(this.query,_)?_:null,k=!!S&&this.mutatedKeys.has(S.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;S&&T?S.data.isEqual(T.data)?k!==P&&(r.track({type:3,doc:T}),C=!0):this.va(S,T)||(r.track({type:2,doc:T}),C=!0,(h&&this.ya(T,h)>0||p&&this.ya(T,p)<0)&&(c=!0)):!S&&T?(r.track({type:0,doc:T}),C=!0):S&&!T&&(r.track({type:1,doc:S}),C=!0,(h||p)&&(c=!0)),C&&(T?(l=l.add(T),a=P?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(T,k){const P=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return P(T)-P(k)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=n&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new Cu(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new w1,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new HC(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new WC(r))}),n}Oa(e){this.fa=e.gs,this.pa=He();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Cu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const __="SyncEngine";class kH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PH{constructor(e){this.key=e,this.Ba=!1}}class AH{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Xa(c=>oC(c),jp),this.qa=new Map,this.Qa=new Set,this.$a=new Ct(Ee.comparator),this.Ua=new Map,this.Ka=new l_,this.Wa={},this.Ga=new Map,this.za=Au.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function CH(t,e,n=!0){const r=XC(t);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await qC(r,e,n,!0),i}async function xH(t,e){const n=XC(t);await qC(n,e,!0,!1)}async function qC(t,e,n,r){const i=await Y8(t.localStore,qi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await RH(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&MC(t.remoteStore,i),c}async function RH(t,e,n,r,i){t.Ha=(_,S,T)=>async function(P,C,z,q){let G=C.view.ba(z);G.ls&&(G=await p1(P.localStore,C.query,!1).then(({documents:x})=>C.view.ba(x,G)));const te=q&&q.targetChanges.get(C.targetId),O=q&&q.targetMismatches.get(C.targetId)!=null,X=C.view.applyChanges(G,P.isPrimaryClient,te,O);return E1(P,C.targetId,X.Ma),X.snapshot}(t,_,S,T);const a=await p1(t.localStore,e,!0),l=new IH(e,a.gs),c=l.ba(a.documents),h=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,h);E1(t,n,p.Ma);const g=new kH(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function DH(t,e,n){const r=Me(t),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!jp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Iv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&h_(r.remoteStore,i.targetId),Av(r,i.targetId)}).catch(Fu)):(Av(r,i.targetId),await Iv(r.localStore,i.targetId,!0))}async function NH(t,e){const n=Me(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h_(n.remoteStore,r.targetId))}async function OH(t,e,n){const r=zH(t);try{const i=await function(l,c){const h=Me(l),p=Zt.now(),g=c.reduce((T,k)=>T.add(k.key),He());let _,S;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let k=Ls(),P=He();return h.ds.getEntries(T,g).next(C=>{k=C,k.forEach((z,q)=>{q.isValidDocument()||(P=P.add(z))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,k)).next(C=>{_=C;const z=[];for(const q of c){const G=YW(q,_.get(q.key).overlayedDocument);G!=null&&z.push(new qo(q.key,G,ZA(G.value.mapValue),Gi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,z,c)}).next(C=>{S=C;const z=C.applyToLocalDocumentSet(_,P);return h.documentOverlayCache.saveOverlays(T,C.batchId,z)})}).then(()=>({batchId:S.batchId,changes:uC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new Ct(Ue)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,n),await zd(r,i.changes),await Yp(r.remoteStore)}catch(i){const a=y_(i,"Failed to persist write");n.reject(a)}}async function GC(t,e){const n=Me(t);try{const r=await G8(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Ua.get(a);l&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?lt(l.Ba):i.removedDocuments.size>0&&(lt(l.Ba),l.Ba=!1))}),await zd(n,r,e)}catch(r){await Fu(r)}}function T1(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Me(l);h.onlineState=c;let p=!1;h.queries.forEach((g,_)=>{for(const S of _.ta)S.sa(c)&&(p=!0)}),p&&v_(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MH(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),a=i&&i.key;if(a){let l=new Ct(Ee.comparator);l=l.insert(a,An.newNoDocument(a,Oe.min()));const c=He().add(a),h=new Gp(Oe.min(),new Map,new Ct(Ue),l,c);await GC(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),w_(r)}else await Iv(r.localStore,e,!1).then(()=>Av(r,e,n)).catch(Fu)}async function VH(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await q8(n.localStore,e);QC(n,r,null),KC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zd(n,i)}catch(i){await Fu(i)}}async function LH(t,e,n){const r=Me(t);try{const i=await function(l,c){const h=Me(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(lt(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);QC(r,e,n),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zd(r,i)}catch(i){await Fu(i)}}function KC(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function QC(t,e,n){const r=Me(t);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||YC(t,r)})}function YC(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(h_(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),w_(t))}function E1(t,e,n){for(const r of n)r instanceof WC?(t.Ka.addReference(r.key,e),FH(t,r)):r instanceof HC?(ye(__,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||YC(t,r.key)):Re()}function FH(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ye(__,"New document in limbo: "+n),t.Qa.add(r),w_(t))}function w_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ee(gt.fromString(e)),r=t.za.next();t.Ua.set(r,new PH(n)),t.$a=t.$a.insert(n,r),MC(t.remoteStore,new Co(qi(Bp(n.path)),r,"TargetPurposeLimboResolution",Fp.ae))}}async function zd(t,e,n){const r=Me(t),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=c_.Yi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const g=Me(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>re.forEach(p,S=>re.forEach(S.Hi,T=>g.persistence.referenceDelegate.addReference(_,S.targetId,T)).next(()=>re.forEach(S.Ji,T=>g.persistence.referenceDelegate.removeReference(_,S.targetId,T)))))}catch(_){if(!$u(_))throw _;ye(d_,"Failed to update sequence numbers: "+_)}for(const _ of p){const S=_.targetId;if(!_.fromCache){const T=g.Ts.get(S),k=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(k);g.Ts=g.Ts.insert(S,P)}}}(r.localStore,a))}async function $H(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ye(__,"User change. New user:",e.toKey());const r=await RC(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new pe(ee.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zd(n,r.Rs)}}function UH(t,e){const n=Me(t),r=n.Ua.get(e);if(r&&r.Ba)return He().add(r.key);{let i=He();const a=n.qa.get(e);if(!a)return i;for(const l of a){const c=n.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function XC(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MH.bind(null,e),e.La.p_=TH.bind(null,e.eventManager),e.La.Ja=EH.bind(null,e.eventManager),e}function zH(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LH.bind(null,e),e}class pp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return H8(this.persistence,new B8,e.initialUser,this.serializer)}Xa(e){return new xC(u_.ri,this.serializer)}Za(e){return new J8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pp.provider={build:()=>new pp};class BH extends pp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){lt(this.persistence.referenceDelegate instanceof hp);const r=this.persistence.referenceDelegate.garbageCollector;return new P8(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new xC(r=>hp.ri(r,n),this.serializer)}}class Cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$H.bind(null,this.syncEngine),await wH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bH}()}createDatastore(e){const n=Kp(e.databaseInfo.databaseId),r=function(a){return new rH(a)}(e.databaseInfo);return function(a,l,c,h){return new aH(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new uH(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>T1(this.syncEngine,n,0),function(){return y1.D()?new y1:new Z8}())}createSyncEngine(e,n){return function(i,a,l,c,h,p,g){const _=new AH(i,a,l,c,h,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Me(i);ye(za,"RemoteStore shutting down."),a.W_.add(5),await Ud(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cv.provider={build:()=>new Cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="FirestoreClient";class jH{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=jA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ye(jo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ye(jo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=y_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function by(t,e){t.asyncQueue.verifyOperationInProgress(),ye(jo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WH(t);ye(jo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_1(e.remoteStore,i)),t._onlineComponents=e}async function WH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(jo,"Using user provided OfflineComponentProvider");try{await by(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Tu("Error using user provided cache. Falling back to memory cache: "+n),await by(t,new pp)}}else ye(jo,"Using default OfflineComponentProvider"),await by(t,new BH(void 0));return t._offlineComponents}async function ZC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(jo,"Using user provided OnlineComponentProvider"),await I1(t,t._uninitializedComponentsProvider._online)):(ye(jo,"Using default OnlineComponentProvider"),await I1(t,new Cv))),t._onlineComponents}function HH(t){return ZC(t).then(e=>e.syncEngine)}async function xv(t){const e=await ZC(t),n=e.eventManager;return n.onListen=CH.bind(null,e.syncEngine),n.onUnlisten=DH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NH.bind(null,e.syncEngine),n}function qH(t,e,n={}){const r=new No;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new JC({next:S=>{g.su(),l.enqueueAndForget(()=>BC(a,_));const T=S.docs.has(c);!T&&S.fromCache?p.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&S.fromCache&&h&&h.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),_=new jC(Bp(c.path),g,{includeMetadataChanges:!0,Ta:!0});return zC(a,_)}(await xv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e,n){if(!n)throw new pe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GH(t,e,n,r){if(e===!0&&r===!0)throw new pe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P1(t){if(!Ee.isDocumentKey(t))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A1(t){if(Ee.isDocumentKey(t))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="firestore.googleapis.com",C1=!0;class x1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nx,this.ssl=C1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:C1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I8)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ex((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nW;switch(r.type){case"firstParty":return new oW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k1.get(n);r&&(ye("ComponentProvider","Removing Datastore"),k1.delete(n),r.terminate())}(this),Promise.resolve()}}function KH(t,e,n,r={}){var i;const a=(t=Qi(t,Jp))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a.host!==nx&&a.host!==c&&Tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!Va(h,l)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Pn.MOCK_USER;else{p=GP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Pn(_)}t._authCredentials=new rW(new zA(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Go(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Oo extends Go{constructor(e,n,r){super(e,n,Bp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Ee(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function QH(t,e,...n){if(t=Et(t),tx("collection","path",e),t instanceof Jp){const r=gt.fromString(e,...n);return A1(r),new Oo(t,null,r)}{if(!(t instanceof xn||t instanceof Oo))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return A1(r),new Oo(t.firestore,null,r)}}function Sd(t,e,...n){if(t=Et(t),arguments.length===1&&(e=jA.newId()),tx("doc","path",e),t instanceof Jp){const r=gt.fromString(e,...n);return P1(r),new xn(t,null,new Ee(r))}{if(!(t instanceof xn||t instanceof Oo))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return P1(r),new xn(t.firestore,t instanceof Oo?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="AsyncQueue";class D1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new NC(this,"async_queue_retry"),this.Su=()=>{const r=Sy();r&&ye(R1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new No;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$u(e))throw e;ye(R1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Vs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=g_.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function N1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class xu extends Jp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new D1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D1(e),this._firestoreClient=void 0,await e}}}function YH(t,e){const n=typeof t=="object"?t:B0(),r=typeof t=="string"?t:op,i=Op(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=WP("firestore");a&&KH(i,...a)}return i}function S_(t){if(t._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XH(t),t._firestoreClient}function XH(t){var e,n,r;const i=t._freezeSettings(),a=function(c,h,p,g){return new SW(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ex(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jH(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ru(_n.fromBase64String(e))}catch(n){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ru(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=/^__.*__$/;class ZH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fd(e,this.data,n,this.fieldTransforms)}}class rx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ix(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class I_{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new I_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ix(this.Lu)&&JH.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class e7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kp(e)}ju(e,n,r,i=!1){return new I_({Lu:e,methodName:n,zu:r,path:vn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=Kp(t._databaseId);return new e7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t7(t,e,n,r,i,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,i);k_("Data must be an object, but it was:",l,r);const c=ox(r,l);let h,p;if(a.merge)h=new br(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const S=Rv(e,_,n);if(!l.contains(S))throw new pe(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lx(g,S)||g.push(S)}h=new br(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new ZH(new ar(c),h,p)}class tm extends b_{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function n7(t,e,n,r){const i=t.ju(1,e,n);k_("Data must be an object, but it was:",i,r);const a=[],l=ar.empty();Ho(r,(h,p)=>{const g=P_(e,h,n);p=Et(p);const _=i.Uu(g);if(p instanceof tm)a.push(g);else{const S=Bd(p,_);S!=null&&(a.push(g),l.set(g,S))}});const c=new br(a);return new rx(l,c,i.fieldTransforms)}function r7(t,e,n,r,i,a){const l=t.ju(1,e,n),c=[Rv(e,r,n)],h=[i];if(a.length%2!=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)c.push(Rv(e,a[S])),h.push(a[S+1]);const p=[],g=ar.empty();for(let S=c.length-1;S>=0;--S)if(!lx(p,c[S])){const T=c[S];let k=h[S];k=Et(k);const P=l.Uu(T);if(k instanceof tm)p.push(T);else{const C=Bd(k,P);C!=null&&(p.push(T),g.set(T,C))}}const _=new br(p);return new rx(g,_,l.fieldTransforms)}function sx(t,e,n,r=!1){return Bd(n,t.ju(r?4:3,e))}function Bd(t,e){if(ax(t=Et(t)))return k_("Unsupported field value:",e,t),ox(t,e);if(t instanceof b_)return function(r,i){if(!ix(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let h=Bd(c,i.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Zt.fromDate(r);return{timestampValue:dp(i.serializer,a)}}if(r instanceof Zt){const a=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dp(i.serializer,a)}}if(r instanceof T_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ru)return{bytesValue:bC(i.serializer,r._byteString)};if(r instanceof xn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:a_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof E_)return function(l,c){return{mapValue:{fields:{[XA]:{stringValue:JA},[ap]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return i_(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Xp(r)}`)}(t,e)}function ox(t,e){const n={};return HA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,i)=>{const a=Bd(i,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function ax(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof T_||t instanceof Ru||t instanceof xn||t instanceof b_||t instanceof E_)}function k_(t,e,n){if(!ax(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xp(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Rv(t,e,n){if((e=Et(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return P_(t,e);throw mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const i7=new RegExp("[~\\*/\\[\\]]");function P_(t,e,n){if(e.search(i7)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mp(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new pe(ee.INVALID_ARGUMENT,c+t+h)}function lx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s7 extends A_{data(){return super.data()}}function C_(t,e){return typeof e=="string"?P_(t,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x_{}class R_ extends x_{}function a7(t,e,...n){let r=[];e instanceof x_&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof N_).length,c=a.filter(h=>h instanceof D_).length;if(l>1||l>0&&c>0)throw new pe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class D_ extends R_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new D_(e,n,r)}_apply(e){const n=this._parse(e);return ux(e._query,n),new Go(e.firestore,e.converter,_v(e._query,n))}_parse(e){const n=em(e.firestore);return function(a,l,c,h,p,g,_){let S;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){M1(_,g);const k=[];for(const P of _)k.push(O1(h,a,P));S={arrayValue:{values:k}}}else S=O1(h,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||M1(_,g),S=sx(c,l,_,g==="in"||g==="not-in");return Gt.create(p,g,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class N_ extends x_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)ux(l,h),l=_v(l,h)}(e._query,n),new Go(e.firestore,e.converter,_v(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O_ extends R_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new O_(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vd(a,l)}(e._query,this._field,this._direction);return new Go(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ya(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function l7(t,e="asc"){const n=e,r=C_("orderBy",t);return O_._create(r,n)}class M_ extends R_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new M_(e,n,r)}_apply(e){const n=c7(e,this.type,this._docOrFields,this._inclusive);return new Go(e.firestore,e.converter,function(i,a){return new Ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function u7(...t){return M_._create("startAt",t,!0)}function c7(t,e,n,r){if(n[0]=Et(n[0]),n[0]instanceof A_)return function(a,l,c,h,p){if(!h)throw new pe(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const _ of fu(a))if(_.field.isKeyField())g.push(lp(l,h.key));else{const S=h.data.field(_.field);if(Up(S))throw new pe(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){const T=_.field.canonicalString();throw new pe(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(S)}return new Pu(g,p)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=em(t.firestore);return function(l,c,h,p,g,_){const S=l.explicitOrderBy;if(g.length>S.length)throw new pe(ee.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let k=0;k<g.length;k++){const P=g[k];if(S[k].field.isKeyField()){if(typeof P!="string")throw new pe(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!r_(l)&&P.indexOf("/")!==-1)throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const C=l.path.child(gt.fromString(P));if(!Ee.isDocumentKey(C))throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const z=new Ee(C);T.push(lp(c,z))}else{const C=sx(h,p,P);T.push(C)}}return new Pu(T,_)}(t._query,t.firestore._databaseId,i,e,n,r)}}function O1(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new pe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r_(e)&&n.indexOf("/")!==-1)throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Ee.isDocumentKey(r))throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lp(t,new Ee(r))}if(n instanceof xn)return lp(t,n._key);throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function M1(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ux(t,e){const n=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class d7{convertValue(e,n="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ho(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ap].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Ft(l.doubleValue));return new E_(a)}convertGeoPoint(e){return new T_(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const n=$o(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);lt(AC(r));const i=new gd(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return i.isEqual(n)||Vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cx extends A_{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $f extends cx{data(e={}){return super.data(e)}}class f7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $f(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new $f(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new $f(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:p7(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){t=Qi(t,xn);const e=Qi(t.firestore,xu);return qH(S_(e),t._key).then(n=>fx(e,t,n))}class dx extends d7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function V1(t,e,n){t=Qi(t,xn);const r=Qi(t.firestore,xu),i=h7(t.converter,e);return hx(r,[t7(em(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gi.none())])}function L1(t,e,n,...r){t=Qi(t,xn);const i=Qi(t.firestore,xu),a=em(i);let l;return l=typeof(e=Et(e))=="string"||e instanceof Zp?r7(a,"updateDoc",t._key,e,n,r):n7(a,"updateDoc",t._key,e),hx(i,[l.toMutation(t._key,Gi.exists(!0))])}function m7(t,...e){var n,r,i;t=Et(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||N1(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(N1(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let h,p,g;if(t instanceof xn)p=Qi(t.firestore,xu),g=Bp(t._key.path),h={next:_=>{e[l]&&e[l](fx(p,t,_))},error:e[l+1],complete:e[l+2]};else{const _=Qi(t,Go);p=Qi(_.firestore,xu),g=_._query;const S=new dx(p);h={next:T=>{e[l]&&e[l](new f7(p,S,_,T))},error:e[l+1],complete:e[l+2]},o7(t._query)}return function(S,T,k,P){const C=new JC(P),z=new jC(T,C,k);return S.asyncQueue.enqueueAndForget(async()=>zC(await xv(S),z)),()=>{C.su(),S.asyncQueue.enqueueAndForget(async()=>BC(await xv(S),z))}}(S_(p),g,c,h)}function hx(t,e){return function(r,i){const a=new No;return r.asyncQueue.enqueueAndForget(async()=>OH(await HH(r),i,a)),a.promise}(S_(t),e)}function fx(t,e,n){const r=n.docs.get(e._key),i=new dx(t);return new cx(t,i,e._key,r,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Lu=i})(Ka),La(new Lo("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new xu(new iW(r.getProvider("auth-internal")),new aW(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),ji(FE,$E,e),ji(FE,$E,"esm2017")})();var g7="firebase",y7="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(g7,y7,"app");const v7=[{key:"VITE_FIREBASE_API_KEY",value:void 0},{key:"VITE_FIREBASE_AUTH_DOMAIN",value:void 0},{key:"VITE_FIREBASE_PROJECT_ID",value:void 0},{key:"VITE_FIREBASE_STORAGE_BUCKET",value:void 0},{key:"VITE_FIREBASE_MESSAGING_SENDER_ID",value:void 0},{key:"VITE_FIREBASE_APP_ID",value:void 0}],Dv=v7.filter(t=>!t.value);if(Dv.length>0){const e=`Missing environment variables: ${Dv.map(n=>n.key).join(", ")}. Using fallback values. For production, it's recommended to set up your .env file.`;he.warn(e),console.warn(e)}const _7={apiKey:"AIzaSyCaxoNKRIMaXhotGzdAjXc5gkARoqtS3bU",authDomain:"disruptive-metaverse.firebaseapp.com",projectId:"disruptive-metaverse",storageBucket:"disruptive-metaverse.appspot.com",messagingSenderId:"294433070603",appId:"1:294433070603:web:136cddd196eea9614fb10e"},w7=Dv.length>0;he.log(`Firebase initializing with ${w7?"fallback":"environment"} configuration`);let Ty,px,Ba;try{Ty=YP(_7),px=X0(Ty),Ba=YH(Ty),he.log("Firebase initialized successfully")}catch(t){he.error("Failed to initialize Firebase:",t),console.error("Failed to initialize Firebase:",t)}const Nv=async t=>{try{he.log("userFirestore: Get user PUBLIC profile data for user ID: "+t);const e=Sd(Ba,"users",t),n=await mu(e);if(n.exists()){const r=n.data();return he.log("userFirestore: Found PUBLIC Profile for : "+r.Nickname),delete r.email,delete r.emailVerified,r}else return he.error("userFirestore: user profile document not found"),null}catch(e){throw he.error("userFirestore: Error fetching user public profile data:",e),e}},S7=async(t,e,n)=>{try{if(he.log("userFirestore: Starting registerUser process"),he.log("userFirestore: Fields in additionalData:",Object.keys(n||{}).join(", ")),!n)throw he.error("userFirestore: additionalData is null or undefined"),new Error("Registration data is missing");const r={firstName:n.firstName||"",lastName:n.lastName||"",companyName:n.companyName||"",linkedInProfile:n.linkedInProfile||"",username:n.username||"",Nickname:n.Nickname||"",rpmURL:n.rpmURL||"https://models.readyplayer.me/67c8408d38f7924e15a8bd0a.glb"};he.log("userFirestore: Critical fields captured for registration"),he.log("userFirestore: Creating user auth record");const a=(await $6(px,t,e)).user;await EA(a),he.log("userFirestore: Verification email sent"),he.log("userFirestore: Waiting for Cloud Function to create initial document..."),await new Promise(T=>setTimeout(T,5e3));const l=Sd(Ba,"users",a.uid),c=await mu(l);if(c.exists()){he.log("userFirestore: Found document created by Cloud Function, updating with missing fields");const T=c.data(),k={};T.firstName||(k.firstName=r.firstName),T.lastName||(k.lastName=r.lastName),T.Nickname||(k.Nickname=r.Nickname),T.username||(k.username=r.username),T.companyName||(k.companyName=r.companyName),T.linkedInProfile||(k.linkedInProfile=r.linkedInProfile),T.rpmURL||(k.rpmURL=r.rpmURL),Object.keys(k).length>0&&(he.log("userFirestore: Updating document with fields:",Object.keys(k).join(", ")),await L1(l,{...k,lastUpdated:new Date}))}else{he.error("userFirestore: Cloud Function failed to create user document, creating manually"),await V1(l,{...r,id:a.uid,groups:["users"],createdAt:new Date,lastUpdated:new Date});const T=Sd(Ba,"users",a.uid,"private","data");await V1(T,{email:a.email,emailVerified:!1})}const h=await mu(l);if(!h.exists())throw new Error("User document does not exist even after creation attempts");let p=h.data();p.firstName||(p.firstName=r.firstName),p.lastName||(p.lastName=r.lastName),p.Nickname||(p.Nickname=r.Nickname),p.username||(p.username=r.username),p.companyName||(p.companyName=r.companyName);let g=!1,_={};for(const T in r)(!p[T]||p[T]==="")&&(_[T]=r[T],g=!0);(!p.groups||!p.groups.includes("users"))&&(_.groups=p.groups?[...p.groups,"users"]:["users"],g=!0,he.log("userFirestore: Adding user to users group")),g&&(he.log("userFirestore: Updating user document with missing fields"),he.log("userFirestore: Fields being updated:",Object.keys(_).join(", ")),await L1(l,_),p=(await mu(l)).data());const S={...a,...p,firstName:r.firstName,lastName:r.lastName,Nickname:r.Nickname,username:r.username,companyName:r.companyName,linkedInProfile:r.linkedInProfile};return he.log("userFirestore: Registration complete, returning user data"),he.log("userFirestore: Fields included in return data:",Object.keys(S).join(", ")),S}catch(r){throw he.error("userFirestore: Error creating user:",r),r}};var b7={};const Ov=()=>{const t=typeof process<"u"&&b7&&!1;return typeof window<"u"&&new URLSearchParams(window.location.search).has("dev_mode"),t},T7=(t,e)=>{if(!Ov())return he.warn(" SECURITY WARNING: Permission override attempted outside of development environment"),!1},mx=typeof Ov=="function"?Ov():!1;mx&&he.warn(" SECURITY WARNING: Permission overrides are ENABLED. This should only happen in development.");const E7=async(t,e)=>{if(mx)return T7();try{if(he.log(`userPermissions: Checking if user ${t} belongs to group ${e}`),e==="users")return he.log(`userPermissions: TESTING MODE - Always allowing access to 'users' group for user ${t}`),!0;if(t){const n=await Nv(t);if(he.log(`userPermissions: User profile for ${t}:`,n),n&&n.groups&&Array.isArray(n.groups)){if(he.log(`userPermissions: User ${t} has groups:`,n.groups),n.groups.includes(e))return he.log(`userPermissions: User ${t} belongs to group ${e} (from user document)`),!0}else he.log(`userPermissions: User ${t} has no groups or groups is not an array`);if(e==="disruptiveAdmin")try{const i=X0().currentUser;if(i&&i.uid===t){const a=await i.getIdTokenResult();if(he.log(`userPermissions: Token claims for ${t}:`,a.claims),a.claims&&a.claims.groups&&Array.isArray(a.claims.groups)&&a.claims.groups.includes(e))return he.log(`userPermissions: User ${t} belongs to group ${e} (from token claims)`),!0}}catch(r){he.error("userPermissions: Error checking token claims:",r)}}return he.log(`userPermissions: User ${t} does not belong to group ${e}`),!1}catch(n){return he.error("userPermissions: Error checking if user belongs to group:",n),!1}},I7=["email","name","rpmURL","Nickname","username","created_on","height_cm","companyName","firstName","lastName","linkedInProfile","groups"],k7={sendUserToUnity:"sendUserToUnity"};class P7{constructor(){this.events={}}subscribe(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}publish(e,n){const r=this.events[e];r?(r.forEach(i=>{i(n)}),he.log(`EventBus: Published event '${e}'`)):he.log(`EventBus: No subscribers for event '${e}'`)}unsubscribe(e,n){var i;const r=(i=this.events[e])==null?void 0:i.indexOf(n);r>-1&&this.events[e].splice(r,1)}}const A7=new P7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="firebasestorage.googleapis.com",yx="storageBucket",C7=2*60*1e3,x7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends Xi{constructor(e,n,r=0){super(Ey(e),`Firebase Storage: ${n} (${Ey(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cn||(cn={}));function Ey(t){return"storage/"+t}function vx(){const t="An unknown error occurred, please check the error payload for server response.";return new dn(cn.UNKNOWN,t)}function R7(t){return new dn(cn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function D7(t){return new dn(cn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function N7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dn(cn.UNAUTHENTICATED,t)}function O7(){return new dn(cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function M7(t){return new dn(cn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function V7(){return new dn(cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L7(){return new dn(cn.CANCELED,"User canceled the upload/download.")}function F7(t){return new dn(cn.INVALID_URL,"Invalid URL '"+t+"'.")}function $7(t){return new dn(cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function U7(){return new dn(cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yx+"' property when initializing the app?")}function z7(){return new dn(cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mv(t){return new dn(cn.INVALID_ARGUMENT,t)}function _x(){return new dn(cn.APP_DELETED,"The Firebase app was deleted.")}function B7(t){return new dn(cn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wc(t){throw new dn(cn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(r.path==="")return r;throw $7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${g}/b/${i}/o${S}`,"i"),k={bucket:1,path:3},P=n===gx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",z=new RegExp(`^https?://${P}/${i}/${C}`,"i"),G=[{regex:c,indices:h,postModify:a},{regex:T,indices:k,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<G.length;te++){const O=G[te],X=O.regex.exec(e);if(X){const x=X[O.indices.bucket];let E=X[O.indices.path];E||(E=""),r=new Tr(x,E),O.postModify(r);break}}if(r==null)throw F7(e);return r}}class j7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t,e,n){let r=1,i=null,a=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...C){p||(p=!0,e.apply(null,C))}function _(C){i=setTimeout(()=>{i=null,t(T,h())},C)}function S(){a&&clearTimeout(a)}function T(C,...z){if(p){S();return}if(C){S(),g.call(null,C,...z);return}if(h()||l){S(),g.call(null,C,...z);return}r<64&&(r*=2);let G;c===1?(c=2,G=0):G=(r+Math.random())*1e3,_(G)}let k=!1;function P(C){k||(k=!0,S(),!p&&(i!==null?(C||(c=2),clearTimeout(i),_(0)):C||(c=1)))}return _(0),a=setTimeout(()=>{l=!0,P(!0)},n),P}function H7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){return t!==void 0}function G7(t){return typeof t=="object"&&!Array.isArray(t)}function wx(t){return typeof t=="string"||t instanceof String}function F1(t,e,n,r){if(r<e)throw Mv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Mv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oa||(Oa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n,r,i,a,l,c,h,p,g,_,S=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,k)=>{this.resolve_=T,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Oa.NO_ERROR,h=a.getStatus();if(!c||K7(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Oa.ABORT;r(!1,new hf(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new hf(p,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());q7(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=vx();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?_x():L7();l(h)}else{const h=V7();l(h)}};this.canceled_?n(!1,new hf(!1,null,!0)):this.backoffId_=W7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Y7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function X7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Z7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eq(t,e,n,r,i,a,l=!0){const c=bx(t.urlParams),h=t.url+c,p=Object.assign({},t.headers);return J7(p,e),Y7(p,n),X7(p,a),Z7(p,r),new Q7(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){let e;try{e=JSON.parse(t)}catch{return null}return G7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ex(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t,e){return e}class jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rq}}let ff=null;function iq(t){return!wx(t)||t.length<2?t:Ex(t)}function sq(){if(ff)return ff;const t=[];t.push(new jn("bucket")),t.push(new jn("generation")),t.push(new jn("metageneration")),t.push(new jn("name","fullPath",!0));function e(a,l){return iq(l)}const n=new jn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new jn("size");return i.xform=r,t.push(i),t.push(new jn("timeCreated")),t.push(new jn("updated")),t.push(new jn("md5Hash",null,!0)),t.push(new jn("cacheControl",null,!0)),t.push(new jn("contentDisposition",null,!0)),t.push(new jn("contentEncoding",null,!0)),t.push(new jn("contentLanguage",null,!0)),t.push(new jn("contentType",null,!0)),t.push(new jn("metadata","customMetadata",!0)),ff=t,ff}function oq(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Tr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function aq(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return oq(r,t),r}function lq(t,e,n){const r=Tx(e);return r===null?null:aq(t,r,n)}function uq(t,e,n,r){const i=Tx(e);if(i===null||!wx(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,_=t.fullPath,S="/b/"+l(g)+"/o/"+l(_),T=Sx(S,n,r),k=bx({alt:"media",token:p});return T+k})[0]}class cq{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t){if(!t)throw vx()}function hq(t,e){function n(r,i){const a=lq(t,i,e);return dq(a!==null),uq(a,i,t.host,t._protocol)}return n}function fq(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=O7():i=N7():n.getStatus()===402?i=D7(t.bucket):n.getStatus()===403?i=M7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pq(t){const e=fq(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=R7(t.path)),a.serverResponse=i.serverResponse,a}return n}function mq(t,e,n){const r=e.fullServerUrl(),i=Sx(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new cq(i,a,hq(t,n),l);return c.errorHandler=pq(e),c}class gq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yq extends gq{initXhr(){this.xhr_.responseType="text"}}function vq(){return new yq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ja(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ex(this._location.path)}get storage(){return this._service}get parent(){const e=tq(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new ja(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw B7(e)}}function _q(t){t._throwIfRoot("getDownloadURL");const e=mq(t.storage,t._location,sq());return t.storage.makeRequestWithTokens(e,vq).then(n=>{if(n===null)throw z7();return n})}function wq(t,e){const n=nq(t._location.path,e),r=new Tr(t._location.bucket,n);return new ja(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){return/^[A-Za-z]+:\/\//.test(t)}function bq(t,e){return new ja(t,e)}function Ix(t,e){if(t instanceof V_){const n=t;if(n._bucket==null)throw U7();const r=new ja(n,n._bucket);return e!=null?Ix(r,e):r}else return e!==void 0?wq(t,e):t}function Tq(t,e){if(e&&Sq(e)){if(t instanceof V_)return bq(t,e);throw Mv("To use ref(service, url), the first argument must be a Storage instance.")}else return Ix(t,e)}function $1(t,e){const n=e==null?void 0:e[yx];return n==null?null:Tr.makeFromBucketSpec(n,t)}function Eq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:GP(i,t.app.options.projectId))}class V_{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=gx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C7,this._maxUploadRetryTime=x7,this._requests=new Set,i!=null?this._bucket=Tr.makeFromBucketSpec(i,this._host):this._bucket=$1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=$1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ja(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new j7(_x());{const l=eq(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const U1="@firebase/storage",z1="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="storage";function Iq(t){return t=Et(t),_q(t)}function kq(t,e){return t=Et(t),Tq(t,e)}function Pq(t=B0(),e){t=Et(t);const r=Op(t,kx).getImmediate({identifier:e}),i=WP("storage");return i&&Aq(r,...i),r}function Aq(t,e,n,r={}){Eq(t,e,n,r)}function Cq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new V_(n,r,i,e,Ka)}function xq(){La(new Lo(kx,Cq,"PUBLIC").setMultipleInstances(!0)),ji(U1,z1,""),ji(U1,z1,"esm2017")}xq();const Rq=async t=>{const e=Pq(),n=kq(e,t);try{return await Iq(n)}catch(r){throw he.error("Failed to fetch HTTP URL from gs:// URL:","/src/packages/shared/firebase/firebaseStorage.js",r),r}};let Dq={};const Iy=async t=>{try{const e=Sd(Ba,"spaces",t),n=await mu(e);if(n.exists()){let r=n.data();const i=r.name,a=r.description;if(r.webglBuildId){const l=Sd(Ba,"webglBuilds",r.webglBuildId),c=await mu(l);if(c.exists()){const h=c.data();r={...r,...h,name:i||h.name,description:a||h.description}}else he.warn(`spacesFirestore: No document found for webglBuildId: ${r.webglBuildId}`)}return r=await Nq(r),r=Oq(r),console.log("Space data:",r),he.log(`spacesFirestore: Caching space data for: ${t}`),Dq[t]=r,r}else return he.warn(`spacesFirestore: No document found for item ID: ${t}`),null}catch(e){throw he.error("spacesFirestore: Error fetching item data:",e),e}},Nq=async t=>{const n=["gsUrlCode","gsUrlData","gsUrlFramework","gsUrlLoader","gsUrlLoadingBackground"].map(async r=>{const i=t[r];i&&i.startsWith("gs://")&&(t[r]=await Rq(i))});return await Promise.all(n),t},Oq=t=>{const{gsUrlCode:e,gsUrlData:n,gsUrlFramework:r,gsUrlLoader:i,...a}=t;return{...a,codeUrl:e,dataUrl:n,frameworkUrl:r,loaderUrl:i}},L_=Y.createContext(null),Mq=Y.createContext(null),Vq=({children:t})=>{const[e,n]=Y.useState(null),r=Y.useRef(null),[i,a]=Y.useState(!0),[l,c]=Y.useState(!1),h=X0(),p=O=>O?O.Nickname?O.Nickname:`${O.firstName} ${O.lastName}`:"Anon";Y.useEffect(()=>{const O=j6(h,async X=>{if(he.log("UserProvider: Firebase onAuthStateChanged() fired"),X)try{const x=await Nv(X.uid),E=p(x),R={uid:X.uid,email:X.email,emailVerified:X.emailVerified,...x,displayName:E};he.log(`UserProvider: User authenticated: ${X.uid}`),n(R),r.current=R,T(R)}catch(x){he.error("UserProvider: Error fetching user profile data:",x)}else n(null),r.current=null;a(!1)});return()=>{O&&O()}},[]);const g=async(O,X,x)=>{try{c(!0),he.log("UserProvider: Starting registration process"),he.log("UserProvider: Registration includes fields:",Object.keys(x||{}).join(", "));const E={...x},R=["firstName","lastName","username","companyName","linkedInProfile"],M=R.filter(Te=>!E[Te]);M.length>0&&he.warn(`UserProvider: Registration missing fields: ${M.join(", ")}`);const F=E.firstName&&E.lastName?`${E.firstName}${E.lastName.charAt(0).toUpperCase()}`:"";he.log("UserProvider: Generated default nickname for registration");const B={firstName:"",lastName:"",companyName:"",linkedInProfile:"",username:"",Nickname:E.Nickname||F,groups:["users"],rpmURL:"https://models.readyplayer.me/67c8408d38f7924e15a8bd0a.glb",...E};he.log("UserProvider: Prepared registration data with fields:",Object.keys(B).join(", "));const N=await S7(O,X,B);he.log("UserProvider: Registration successful, received user data");const ut=R.filter(Te=>!N[Te]);ut.length>0&&he.warn(`UserProvider: Returned user data missing fields: ${ut.join(", ")}`),["firstName","lastName","Nickname","username","companyName"].forEach(Te=>{N[Te]||(he.warn(`UserProvider: ${Te} is missing in returned data, using original value`),N[Te]=B[Te])});const bt={uid:N.uid,email:N.email,...N,displayName:p(N)};return he.log("UserProvider: Created user object with fields:",Object.keys(bt).join(", ")),n(bt),r.current=bt,he.log("UserProvider: User registered successfully with groups:",B.groups),await new Promise(Te=>setTimeout(Te,2e3)),c(!1),bt}catch(E){throw c(!1),he.error("UserProvider: Error during registration:",E),E}},_=async(O,X,x)=>{try{if(he.log("UserProvider: Signing in user"),!x)throw new Error("CAPTCHA verification is required");const R=(await U6(h,O,X)).user;return he.log("UserProvider: User signed in successfully:",R.email),R}catch(E){throw he.error("UserProvider: Error signing in:",E),E}},S=async()=>{try{await W6(h),n(null),he.log("UserProvider: User signed out.")}catch(O){throw he.error("UserProvider: Error signing out:",O),O}},T=()=>{const O=r.current;if(O){const X=k(O);he.log("UserProvider: sendUserToUnity() using the eventBus",X),A7.publish(k7.sendUserToUnity,X)}else he.log("UserProvider: No current user to send to Unity.")},k=O=>{const X={};return[...I7,"uid"].forEach(E=>{O.hasOwnProperty(E)&&(X[E]=O[E])}),X},P=async O=>!e||!e.uid?!1:await E7(e.uid,O),C=async O=>{if(!e||!e.uid)return!1;try{const X=await Iy(O);if(X.usersAllowed.includes(e.uid)||X.userAdmin.includes(e.uid)||X.usersModerators.includes(e.uid))return!0;if(e.groups&&Array.isArray(e.groups)){const E=`space_${O}_owners`,R=`space_${O}_hosts`;if(e.groups.includes(E)||e.groups.includes(R))return he.log(`UserProvider: User ${e.uid} has access to space ${O} as owner/host`),!0}return X.accessibleToAllUsers===!0&&e.groups?e.groups.includes("users"):!1}catch(X){return he.error("UserProvider: Error verifying user access to space:",X),!1}},z=async O=>{if(!e||!e.uid)return!1;try{return(await Iy(O)).userAdmin.includes(e.uid)}catch(X){return he.error("UserProvider: Error verifying user admin status for space:",X),!1}},q=async O=>{if(!e||!e.uid)return!1;try{return(await Iy(O)).usersModerators.includes(e.uid)}catch(X){return he.error("UserProvider: Error verifying user moderator status for space:",X),!1}},G=async()=>{try{const O=h.currentUser;return O&&!O.emailVerified?(await EA(O),he.log("UserProvider: Verification email resent to:",O.email),!0):!1}catch(O){throw he.error("UserProvider: Error resending verification email:",O),O}},te=async()=>{try{const O=h.currentUser;if(!O)return he.warn("UserProvider: updateUser called but no current user exists"),null;he.log("UserProvider: Updating user data from Firestore");const X=await Nv(O.uid);if(!X)return he.error("UserProvider: Failed to fetch updated user profile"),null;const x=p(X),E={uid:O.uid,email:O.email,emailVerified:O.emailVerified,...X,displayName:x};return he.log("UserProvider: User data updated with fields:",Object.keys(E).join(", ")),n(E),r.current=E,T(E),E}catch(O){throw he.error("UserProvider: Error updating user data:",O),O}};return oe.jsx(Mq.Provider,{value:{registrationInProgress:l},children:oe.jsx(L_.Provider,{value:{user:e,loading:i,register:g,signIn:_,signOut:S,sendUserToUnity:T,isUserInGroup:P,userHasAccessToSpace:C,userIsAdminOfSpace:z,userIsModeratorOfSpace:q,resendVerificationEmail:G,updateUser:te},children:t})})},Lq=(t,e)=>{try{const n=QH(Ba,`spaces/${t}/chatMessages`),r=new Date,i=a7(n,l7("timestamp","asc"),u7(r));return m7(i,a=>{const l=[];a.docChanges().forEach(c=>{if(c.type==="added"){const h=c.doc.data();console.log("Firestore document data:",h),l.push({id:c.doc.id,...h})}}),l.length>0&&e(l)})}catch(n){throw he.error("Error subscribing to space chat messages:",n),n}};function di(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Wa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Px=6048e5,Fq=864e5;let $q={};function nm(){return $q}function bd(t,e){var c,h,p,g;const n=nm(),r=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,i=di(t),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function gp(t){return bd(t,{weekStartsOn:1})}function Ax(t){const e=di(t),n=e.getFullYear(),r=Wa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=gp(r),a=Wa(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=gp(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function B1(t){const e=di(t);return e.setHours(0,0,0,0),e}function j1(t){const e=di(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Uq(t,e){const n=B1(t),r=B1(e),i=+n-j1(n),a=+r-j1(r);return Math.round((i-a)/Fq)}function zq(t){const e=Ax(t),n=Wa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),gp(n)}function Bq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jq(t){if(!Bq(t)&&typeof t!="number")return!1;const e=di(t);return!isNaN(Number(e))}function Wq(t){const e=di(t),n=Wa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Hq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qq=(t,e,n)=>{let r;const i=Hq[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ky(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Gq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yq={date:ky({formats:Gq,defaultWidth:"full"}),time:ky({formats:Kq,defaultWidth:"full"}),dateTime:ky({formats:Qq,defaultWidth:"full"})},Xq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jq=(t,e,n,r)=>Xq[t];function Sc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Zq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oG={ordinalNumber:sG,era:Sc({values:Zq,defaultWidth:"wide"}),quarter:Sc({values:eG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sc({values:tG,defaultWidth:"wide"}),day:Sc({values:nG,defaultWidth:"wide"}),dayPeriod:Sc({values:rG,defaultWidth:"wide",formattingValues:iG,defaultFormattingWidth:"wide"})};function bc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?lG(c,_=>_.test(l)):aG(c,_=>_.test(l));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(l.length);return{value:p,rest:g}}}function aG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function uG(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const cG=/^(\d+)(th|st|nd|rd)?/i,dG=/\d+/i,hG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fG={any:[/^b/i,/^(a|c)/i]},pG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mG={any:[/1/i,/2/i,/3/i,/4/i]},gG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_G={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bG={ordinalNumber:uG({matchPattern:cG,parsePattern:dG,valueCallback:t=>parseInt(t,10)}),era:bc({matchPatterns:hG,defaultMatchWidth:"wide",parsePatterns:fG,defaultParseWidth:"any"}),quarter:bc({matchPatterns:pG,defaultMatchWidth:"wide",parsePatterns:mG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bc({matchPatterns:gG,defaultMatchWidth:"wide",parsePatterns:yG,defaultParseWidth:"any"}),day:bc({matchPatterns:vG,defaultMatchWidth:"wide",parsePatterns:_G,defaultParseWidth:"any"}),dayPeriod:bc({matchPatterns:wG,defaultMatchWidth:"any",parsePatterns:SG,defaultParseWidth:"any"})},TG={code:"en-US",formatDistance:qq,formatLong:Yq,formatRelative:Jq,localize:oG,match:bG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EG(t){const e=di(t);return Uq(e,Wq(e))+1}function IG(t){const e=di(t),n=+gp(e)-+zq(e);return Math.round(n/Px)+1}function Cx(t,e){var g,_,S,T;const n=di(t),r=n.getFullYear(),i=nm(),a=(e==null?void 0:e.firstWeekContainsDate)??((_=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((T=(S=i.locale)==null?void 0:S.options)==null?void 0:T.firstWeekContainsDate)??1,l=Wa(t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=bd(l,e),h=Wa(t,0);h.setFullYear(r,0,a),h.setHours(0,0,0,0);const p=bd(h,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function kG(t,e){var c,h,p,g;const n=nm(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=Cx(t,e),a=Wa(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),bd(a,e)}function PG(t,e){const n=di(t),r=+bd(n,e)-+kG(n,e);return Math.round(r/Px)+1}function ft(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const wo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ft(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ft(n+1,2)},d(t,e){return ft(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ft(t.getHours()%12||12,e.length)},H(t,e){return ft(t.getHours(),e.length)},m(t,e){return ft(t.getMinutes(),e.length)},s(t,e){return ft(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ft(i,e.length)}},zl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return wo.y(t,e)},Y:function(t,e,n,r){const i=Cx(t,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return ft(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):ft(a,e.length)},R:function(t,e){const n=Ax(t);return ft(n,e.length)},u:function(t,e){const n=t.getFullYear();return ft(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ft(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ft(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return wo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ft(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=PG(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ft(i,e.length)},I:function(t,e,n){const r=IG(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ft(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):wo.d(t,e)},D:function(t,e,n){const r=EG(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ft(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ft(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ft(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ft(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=zl.noon:r===0?i=zl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=zl.evening:r>=12?i=zl.afternoon:r>=4?i=zl.morning:i=zl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return wo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):wo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):wo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):wo.s(t,e)},S:function(t,e){return wo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return q1(r);case"XXXX":case"XX":return Ia(r);case"XXXXX":case"XXX":default:return Ia(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return q1(r);case"xxxx":case"xx":return Ia(r);case"xxxxx":case"xxx":default:return Ia(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H1(r,":");case"OOOO":default:return"GMT"+Ia(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H1(r,":");case"zzzz":default:return"GMT"+Ia(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ft(r,e.length)},T:function(t,e,n){const r=t.getTime();return ft(r,e.length)}};function H1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+ft(a,2)}function q1(t,e){return t%60===0?(t>0?"-":"+")+ft(Math.abs(t)/60,2):Ia(t,e)}function Ia(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ft(Math.trunc(r/60),2),a=ft(r%60,2);return n+i+e+a}const G1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xx=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},AG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return G1(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",G1(r,e)).replace("{{time}}",xx(i,e))},CG={p:xx,P:AG},xG=/^D+$/,RG=/^Y+$/,DG=["D","DD","YY","YYYY"];function NG(t){return xG.test(t)}function OG(t){return RG.test(t)}function MG(t,e,n){const r=VG(t,e,n);if(console.warn(r),DG.includes(t))throw new RangeError(r)}function VG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$G=/^'([^]*?)'?$/,UG=/''/g,zG=/[a-zA-Z]/;function BG(t,e,n){var g,_,S,T;const r=nm(),i=r.locale??TG,a=r.firstWeekContainsDate??((_=(g=r.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??1,l=r.weekStartsOn??((T=(S=r.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??0,c=di(t);if(!jq(c))throw new RangeError("Invalid time value");let h=e.match(FG).map(k=>{const P=k[0];if(P==="p"||P==="P"){const C=CG[P];return C(k,i.formatLong)}return k}).join("").match(LG).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const P=k[0];if(P==="'")return{isToken:!1,value:jG(k)};if(W1[P])return{isToken:!0,value:k};if(P.match(zG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(h=i.localize.preprocessor(c,h));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return h.map(k=>{if(!k.isToken)return k.value;const P=k.value;(OG(P)||NG(P))&&MG(P,e,String(t));const C=W1[P[0]];return C(c,P,i.localize,p)}).join("")}function jG(t){const e=t.match($G);return e?e[1].replace(UG,"'"):t}const WG=PP(Ao),Rx=({name:t,timestamp:e,text:n,isCurrentUser:r})=>{console.log("Message props:",{name:t,timestamp:e,text:n,isCurrentUser:r});const i=e&&e.toDate?BG(e.toDate(),"HH:mm"):"Invalid date";return oe.jsxs(WG,{display:"flex",flexDirection:"column",alignItems:r?"flex-end":"flex-start",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[oe.jsxs(Ao,{w:"auto",maxW:"80%",bg:r?"secondary.500":"primary.200",color:r?"white":"black",p:"10px",borderRadius:"10px",alignSelf:r?"flex-end":"flex-start",wordBreak:"break-word",children:[oe.jsx(Qc,{fontWeight:"bold",children:t}),oe.jsx(Qc,{children:n})]}),oe.jsx(Qc,{color:"copy.light",fontSize:"xs",mt:"4px",mx:"6px",mb:"10px",textAlign:r?"right":"left",children:i})]})};Rx.propTypes={name:rf.string.isRequired,timestamp:rf.object,text:rf.string.isRequired,isCurrentUser:rf.bool.isRequired};const HG=({spaceID:t})=>{const[e,n]=Y.useState([]),{user:r}=Y.useContext(L_),i=Y.useRef(null);return Y.useEffect(()=>{const a=Lq(t,l=>{console.log("New messages received:",l),n(c=>[...c,...l]),he.log("Messages updated:",l)});return()=>a()},[t]),Y.useEffect(()=>{i.current&&i.current.scrollIntoView({behavior:"smooth"})},[e]),oe.jsxs(Ao,{className:"messages-container",display:"flex",flexDirection:"column",my:"10px",overflowY:"auto",maxHeight:"80vh",children:[e.map(a=>{const l=a.uid===(r==null?void 0:r.uid);return oe.jsx(Rx,{name:a.user,timestamp:a.timestamp,text:a.text,isCurrentUser:l},a.id)}),oe.jsx("div",{ref:i})]})},qG=({spaceID:t})=>{},GG=({spaceID:t})=>{const{user:e}=Y.useContext(L_);return e?oe.jsxs(Ao,{children:[oe.jsx(Ao,{height:"400px",overflowY:"auto",border:"1px solid #ccc",backgroundColor:"tertiaryAlpha.600",padding:"10px",children:oe.jsx(HG,{spaceID:t})}),oe.jsx(Ao,{mt:"8px",children:oe.jsx(qG,{spaceID:t})})]}):(console.log("No user found, returning login message"),oe.jsx(Ao,{children:oe.jsx(Qc,{children:"Please log in to view the chat."})}))},pf=document.getElementById("chat-root");if(pf){const t=pf.getAttribute("data-space-id"),e=pf.getAttribute("data-theme")||"default",n=()=>{const[r,i]=Y.useState(null);return Y.useEffect(()=>{a3(e).then(i)},[]),r?oe.jsx(e3,{theme:r,children:oe.jsx(Vq,{children:oe.jsx(GG,{spaceID:t})})}):oe.jsx("div",{children:"Loading theme..."})};HR.createRoot(pf).render(oe.jsx(n,{}))}else console.error("Root element 'chat-root' not found.");export{KR as a,A2 as b,yt as c,I2 as d,QG as e,KG as f,y2 as g,li as i,Fi as m,kF as t};
